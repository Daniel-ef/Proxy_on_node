function cp(t,e,n){var i="clck/lid="+t;Lego.params.statRoot&&(i+="/sid="+Lego.params.msid);try{Lego.c(i,e,n)}catch(o){}}function cpr(t,e,n){try{Lego.cred(t,e,n)}catch(i){}}function cpt(t,e){t+=(document.getElementById("form").text.value?".full":".empty")+"/u="+(new Date).getTime(),cp(t,e)}function c0(t){try{Lego.c(t)}catch(e){}}function csh(t,e){try{cp(t,e)}catch(n){}}function csh_ifmsid(t,e){Lego.params.statRoot&&csh(t,e)}function cpa(t){return t&&"undefined"!=typeof Lego.params.msid?"onmousedown=\"Lego.cp('132','71946','"+t+"',this)\"":""}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e(t):e(t)}("undefined"!=typeof global?global:this,function(t){var e=function(){};if(e.version="1.0.1",e.isDebug=!1,e.isArray=function(t){return t instanceof Array},e.isArrayLike=function(t){return e.isObject(t)&&!e.isArray(t)&&"length"in t},e.isElement=function(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}},e.isFunction=function(){return Array.prototype.every.call(arguments,function(t){return t instanceof Function})},e.isObject=function(t){return"object"==typeof t},e.isString=function(){return Array.prototype.every.call(arguments,function(t){return"string"==typeof t})},e.stringf=function(t){var e=Array.prototype.slice.call(arguments,1);return t.replace(/%s/g,function(){return e.shift()||""})},"undefined"==typeof JSON)throw new Error("JSON is not supported");e.JSON=JSON,e.console={slog:function(){this.log(e.stringf.apply(this,arguments))},log:function(e){"undefined"!=typeof debug?debug(e):t.console&&t.console.log&&t.console.log(e)},error:function(t){throw new Error(t)},dir:function(t){this.log(e.JSON.stringify(t))}},e.log=e.console.log,e.error=e.console.error;var n=/^https?:\/\/\S+/i;e.isURL=function(t){return"string"!=typeof t&&e.error("isURL expects string parameter instead "+typeof t),n.test(t)};var i=Array.prototype.filter?function(t,e){return t.filter(e)}:function(t,n){var i=[];return e.each(t,function(t,e){n(t,e,this)&&i.push(t)}),i};e.filter=function(t,n){return e.isArray(t)||e.error("first argument is expected to be an array instead of "+typeof t),e.isFunction(n)||e.error("second argument is expected to be a function instead of "+typeof n),i(t,n)},e.forEach=function(t,e,n){var i,o;for(n=n||t,i=0,o=t.length;o>i;i++)e.call(n,t[i],i,t);return this},e.indexOf=function(t,e,n){if(n=n||0,!(t instanceof Array))throw new Error("Function expects array as first argument");if("indexOf"in Array.prototype)return t.indexOf(e,n);for(var i=0,o=t.length;o>i;i++)if(t[i]===e&&i>=n)return i;return-1},e.map=function(t,n){var i=[];return e.isArray(t)&&n instanceof Function&&(i=t.map(n)),i},function(){var t=Array.prototype.some?function(t,e){return t.some(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(e(t[n],n,t))return!0;return!1};e.some=function(n,i){return e.isArray(n)||e.error("first argument is expected to be an array instead of "+typeof n),e.isFunction(i)||e.error("second argument is expected to be a function instead of "+typeof i),t(n,i)}}();var o={};e.each=o.each=function(t,n,i){if(e.isArray(t))e.forEach.apply(this,arguments);else{var o;i=i||t;for(o in t)t.hasOwnProperty(o)&&n.call(i,t[o],o,t)}return this},e.beget=function(t,n){var i,o={},r=typeof t,a=typeof n;if("object"!==r&&e.error("Only object allowed to be prototype and tried to work with "+r),"undefined"!==a&&"object"!==a&&e.error("Only object allowed to be list of properties instead "+a),"function"==typeof Object.create)i={},e.each(n,function(t,e){i[e]={writable:!0,enumerable:!0,value:t}}),o=Object.create(t,i);else{var s=function(){};t&&"object"==typeof t&&(s.prototype=t),i=new s,"undefined"!=typeof n&&e.each(n,function(t,e){i[e]=t}),o=i}return o},e.getRandom=function(t){return parseInt(Math.random()*(t||1e3))},e.getElementId=function(t){e.isElement(t)||e.error("nodeElement expected as first argument instead of "+typeof t);var n=t.getAttribute("id");return n||(n="_"+e.getRandom(1e16),t.setAttribute("id",n)),n};var r=function(t){for(var e=document.all,n=[],i=0,o=e.length;o>i;++i)"string"==typeof e[i].getAttribute(t)&&n.push(e[i]);return n};e.getElementsByAttr=function(e){var n=[],i=arguments[1]||t.document||null;if("getAttribute"in i&&i.getAttribute(e)&&n.push(i),i&&i.querySelectorAll)try{n=n.concat(Array.prototype.slice.call(i.querySelectorAll("["+e+"]")))}catch(o){}return n.length||(n=n.concat(r(e))),n};var a=(new RegExp).compile(/^\s+|\s+$/g);e.trim=function(t){var n=typeof t;return"string"!==n&&e.error("Argument must be string but"+n+" passed"),t.trim instanceof Function?t.trim():t.replace(a,"")},e.stripSpaces=function(t){return t.split(" ").join("")},e.getJPathValue=function(t,e){for(var n=t,i=e.split("."),o=0;n[i[o]];)n=n[i[o++]];return n},e.getObject=function(t){return t.beget=function(t){return e.beget(this,t)},e.beget(t)},e.create=function(t){var e=function(){};return e.prototype=t,new e},e.constructURL=function(t,e){var n,i="",o=[],r=t.match(/((?:https?\:)?(?:\/)?\/[^?]+)\?([^#]+)?(\#\S+)?/),a=r&&r[3]?r[3]:"";if(r&&r[2])for(var s=r[2].split("&"),u=s.length;u--;)o.push(s[u]);for(n in e)e.hasOwnProperty(n)&&o.push(n+"="+e[n]);return i=r?r[1]+"?"+o.join("&")+a:t+"?"+o.join("&")+a},e.data=function(t,n){return e.isElement(t)||e.error("nodeElement expected as first argument instead of "+typeof t),t.getAttribute("data-"+n)},e.ComponentBase={data:function(t){var n=this.element;return n?e.data(n,t):void 0},setId:function(t){return this.id=t,this},baseInit:function(t,n){var i=this;this.element=n,e.each(e.dataset(n),function(t,e){i[e]=t})}},e.Component=function(){var t=[],n=[],i={},o="data-xapp";return{extend:function(o){var r,a=t.length;if(e.isObject(o))r=e.beget(e.ComponentBase,o);else if(e.isString(o)&&e.isFunction(arguments[1]))r=e.beget(e.ComponentBase,{id:o,init:arguments[1]});else{if(!e.isString(o)||!e.isArray(arguments[1]))throw new Error('Unknown definition structure, try to use extend("yourName", function() { ... init code ... })');var s=arguments[1];r=e.beget(e.ComponentBase,{id:o,init:function(){var t=e.filter(s,function(t){return e.isString(t)});t=e.map(t,function(t){if(!n[t])throw new Error("Service "+t+" hasnt defined");return n[t]()});var i=e.filter(s,function(t){return e.isFunction(t)});if(i.length>1)throw new Error("Too much declaration functions");i[0].apply(this,t)}})}return r.id||e.error("extend method expects id field in description object"),t.push(r),i[r.id]=a,t[a]},factory:function(t,e){n[t]=e},initByHTML:function(t){var n=t||document,i=this,r=e.getElementsByAttr(o,n);return e.forEach(r,function(t){var n=e.data(t,"xapp");e.forEach(n.split(" "),function(n){i.initById(n,e.getElementId(t),t)})}),this},initById:function(e,n,o){var r=e in i?t[i[e]]:null;r&&("undefined"!=typeof n&&r.setId(n),r.baseInit(n,o),r.init(n))}}}(),e.dataset=function(t){var n={};return e.isElement(t)&&(t.dataset?n=t.dataset:e.forEach(t.attributes,function(t){0===t.name.indexOf("data-")&&(n[t.name.substr(5)]=t.value)})),n},e.generateId=function(){return String(Math.random()).substr(2)},e.ns=function(t,e,n){return t[e]||(t[e]={}),"undefined"!=typeof n&&n.call(t[e]),this},e.extend=function(t,e){var n=function(){};t.superclass=n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,e.prototype.constructor===Object.prototype.constructor&&(e.prototype.constructor=e)},e.Interface=function(t,n){var i=this;2!==arguments.length&&e.error("Interface constructor called with "+arguments.length+"parameters, but expected exactly 2"),this.methods=[],this.name=t,e.forEach(n,function(t){"string"!=typeof t&&e.error("Interface constructor expects method names to be passed in as a string"),i.methods.push(t)})},e.Interface.ensureImplements=function(t,n){return 2!==arguments.length&&e.error("Interface constructor called with "+arguments.length+"parameters, but expected at least 2"),e.forEach(n,function(n){n.constructor!==e.Interface&&e.error("Function Interface.ensureImplements expects arguments two and above to be instances of Interface."),e.forEach(n.methods,function(i){t[i]&&"function"==typeof t[i]||e.error("Function Interface.ensureImplements: object does not implement the "+n.name+" interface. Method "+i+" was not found.")})}),!0},e.View=function(t){this.templates=t&&t.templates?e.beget(t.templates):{}},e.isString=function(){return Array.prototype.every.call(arguments,function(t){return"string"==typeof t})},e.View.prototype={templates:{},re:{parse:/\[\%\s+([^%]+)\s+\%\]/g,rule:/:/},setParseRe:function(t){this.re.parse=t},getCustomRender:function(){var t="undefined"!==arguments[0]?arguments[0].split(this.re.rule):null;return t&&2===t.length?this.parseRules[t[0]]&&this.parseRules[t[0]].call(this,t[1]):void 0},parseRules:{l10n:function(t){return function(n){return e.isDebug&&!n.l10n(t)&&e.console.error("There is no translation for "+t),n.l10n?n.l10n(t):t}},jpath:function(t){return function(n){return e.getJPathValue(n,t)||""}},view:function(t){var e=this;return function(n){return e.get(t,n)}}},ruleFunction:function(t,n,i){var o=this;return this.getCustomRender(t)||function(r){var a=r&&r[t]||r&&r.views&&r.views.get(t,r)||"";return a||(a=i[t]?o.getContent(i[t],r):n?n[t]:""),e.isDebug&&!a&&e.console.log("Undefined variable "+t),a||""}},getContent:function(t,n){var i="";return i=e.isArray(t)?e.map(t,function(t){return"string"==typeof t?t:t(n)}).join(""):e.isFunction(t)?t(n):t.toString()},get:function(t,e){var n=this,i=e&&e.views?e.views.templates[t]:this.templates[t];return n.getContent(i,e)}},e.View.prototype.let=function(t,n,i){var o=this.templates[t]=[],r=this,a=0;return e.isFunction(n)?o.push(n):(n.replace(this.re.parse,function(t,e,s){o.push(n.substr(a,s-a),r.ruleFunction(e,i,r.templates)),a=s+t.length}),a<n.length&&o.push(n.substr(a))),this},e.views=new e.View,e.toArray=function(t){return Array.prototype.slice.call(t)};var s={},u={};return e.amd={define:function(t,e,n){return n=n||!0,s[t]=e,n&&(u[t]=!0),this},require:function(){var t=e.toArray(arguments).slice(0,arguments.length-1),n=arguments[arguments.length-1];return t=e.map(t,function(t){if(!s[t])throw new Error("Unmet dependency:"+t);return u[t]?(s[t]=e.isFunction(s[t])?s[t]():s[t],s[t]):s[t]()}),n.apply(this,t),this}},e.debounce=function(t,e,n){var i;return function(){var o=this,r=arguments,a=function(){i=null,n||t.apply(o,r)},s=n&&!i;clearTimeout(i),i=setTimeout(a,e),s&&t.apply(o,r)}},e.amd.define("statlog",function(){var t=null,n="http://clck.yandex.ru/counter/",i="dtype=%s/session_id=%s/events=%s/*",o={type:"show",root:"testRoot",statDataAttr:"statlog",dataNoRedirKey:"statlog-noredir",doc:null,sendAtWill:!0,dataReadyKey:"statlog-ready",clickEvent:"mousedown",skipVisibleCheck:!1,statEnabled:!1,clickCounter:function(t,e){e=e||null,window.cp(r()+"."+t,e)}},r=function(){return"undefined"!=typeof Lego&&Lego.params&&Lego.params.statRoot?Lego.params.statRoot:o.root},a=function(e){var n=[];return t&&(n=JSON.stringify([{event:e.type,"parent-path":r(),blocks:t.children}])),n},s=function(){return"undefined"!=typeof Lego&&Lego.params?Lego.params.statEnabled:o.statEnabled},u=function(){$(o.doc||document).on(o.clickEvent,"*[data-"+o.statDataAttr+"]",function(t){if(s()){var e=$(this).data(o.statDataAttr),n=$(this).data(o.dataNoRedirKey);e&&(o.clickCounter(e,n?null:this),n&&(t.preventDefault(),t.stopPropagation()))}})};return u(),{params:o,getSingleRequest:function(t){return e.stringf(n+i,t.project,t.showId,JSON.stringify([{event:t.event,"parent-path":t.path.substr(0,t.path.lastIndexOf(".")),blocks:[{ctag:t.path.substr(t.path.lastIndexOf(".")+1)}]}]))},singleLog:function(t){var e=this.getSingleRequest({project:"clck",showId:this.getShowID(),event:"show",path:r()+"."+t}),n=new Image;n.src=e},bulkLog:function(n){var i=t?t:t={},r=this;return e.forEach(n.split("."),function(t){var n=function(e){return e.ctag===t};i.children||(i.children=[]);var o=e.filter(i.children,n);o.length||i.children.push({ctag:t}),i=e.filter(i.children,n)[0]}),o.sendAtWill&&r.send(),this},log:function(t){var e=$.support.cors?this.bulkLog:this.singleLog;return"undefined"!=typeof t&&s()?e.call(this,t):void 0},logByDocument:function(t){var n=e.beget(o,t),i=this,r="data-"+n.statDataAttr,a=r.substr(5),s="*["+r+"]",u=n.doc?$(n.doc).find(s):$(s);$(u).each(function(){if($(this).is(":visible")||n.skipVisibleCheck){if(!r.match(/^data-/))throw new Error("data attribute expected as statAttr");var t=$(this).data(a);$(this).data(n.dataReadyKey)||(i.log(t),$(this).data(n.dataReadyKey,t))}})},dumpDATA:a,getShowID:function(){var t="";return"undefined"!=typeof Lego&&Lego.params&&Lego.params.msid&&(t=Lego.params.msid),t},send:e.debounce(function(){t&&$.ajax({type:"POST",url:n,data:e.stringf("/"+i,"clck",this.getShowID(),a(o)),success:function(){t=null}})},1e3)}}),"function"==typeof define&&define.amd&&define("franky",[],function(){return e}),t.x=t.franky=e,e}),function(t){function e(e,i,o){var a=!1;if(r){var s=[];t.each(u,function(){o.hasOwnProperty(this)&&(a=!0)&&s.push({name:this,val:o[this]})}),a&&(t.each(o,function(t){s.push({name:t,val:this})}),o=s)}t.each(o,function(o,r){if(a&&(o=r.name,r=r.val),t.isFunction(r)&&(!n||r.toString().indexOf(".__base")>-1)){var s=e[o]||function(){};i[o]=function(){var t=this.__base;this.__base=s;var e=r.apply(this,arguments);return this.__base=t,e}}else i[o]=r})}var n=function(){}.toString().indexOf("_")>-1,i=function(){},o=Object.create||function(t){var e=function(){};return e.prototype=t,new e},r=!0,a={toString:""};for(var s in a)a.hasOwnProperty(s)&&(r=!1);var u=r?["toString","valueOf"]:null;t.inherit=function(){var n=arguments,r=t.isFunction(n[0]),a=r?n[0]:i,s=n[r?1:0]||{},u=n[r?2:1],c=s.__constructor||r&&a.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:function(){};if(!r)return c.prototype=s,c.prototype.__self=c.prototype.constructor=c,t.extend(c,u);t.extend(c,a);var l=a.prototype,d=c.prototype=o(l);return d.__self=d.constructor=c,e(l,d,s),u&&e(a,c,u),c},t.inheritSelf=function(t,n,i){var o=t.prototype;return e(o,o,n),i&&e(t,t,i),t}}(jQuery),function(t){var e=0,n="__"+ +new Date,i=function(){return"uniq"+ ++e};t.identify=function(t,e){if(!t)return i();var o="uniqueID"in t?"uniqueID":n;return e||o in t?t[o]:t[o]=i()}}(jQuery),function(t){t.isEmptyObject||(t.isEmptyObject=function(t){for(var e in t)return!1;return!0})}(jQuery),function(t){t.extend({debounce:function(t,e,n,i){3==arguments.length&&"boolean"!=typeof n&&(i=n,n=!1);var o;return function(){var r=arguments;i=i||this,n&&!o&&t.apply(i,r),clearTimeout(o),o=setTimeout(function(){n||t.apply(i,r),o=null},e)}},throttle:function(t,e,n){var i,o,r;return function(){o=arguments,r=!0,n=n||this,i||function(){r?(t.apply(n,o),r=!1,i=setTimeout(arguments.callee,e)):i=null}()}}})}(jQuery),function(t){var e="__"+ +new Date+"storage",n=function(e,n){return t.identify(e)+(n?t.identify(n):"")},i={buildEventName:function(t){return t},on:function(i,o,r,a,s){if("string"==typeof i){t.isFunction(o)&&(a=r,r=o,o=void 0);for(var u,c=n(r,a),l=this[e]||(this[e]={}),d=i.split(" "),h=0;i=d[h++];)if(i=this.buildEventName(i),u=l[i]||(l[i]={ids:{},list:{}}),!(c in u.ids)){var f=u.list,p={fn:r,data:o,ctx:a,special:s};f.last?(f.last.next=p,p.prev=f.last):f.first=p,u.ids[c]=f.last=p}}else{var m=this;t.each(i,function(t,e){m.on(t,e,o,s)})}return this},onFirst:function(t,e,n,i){return this.on(t,e,n,i,{one:!0})},un:function(i,o,r){if("string"==typeof i||"undefined"==typeof i){var a=this[e];if(a)if(i){for(var s,u=i.split(" "),c=0;i=u[c++];)if(i=this.buildEventName(i),s=a[i])if(o){var l=n(o,r),d=s.ids;if(l in d){var h=s.list,f=d[l],p=f.prev,m=f.next;p?p.next=m:f===h.first&&(h.first=m),m?m.prev=p:f===h.last&&(h.last=p),delete d[l]}}else delete this[e][i]}else delete this[e]}else{var g=this;t.each(i,function(t,e){g.un(t,e,r)})}return this},trigger:function(n,i){var o,r=this,a=r[e];if("string"==typeof n?n=t.Event(r.buildEventName(o=n)):n.type=r.buildEventName(o=n.type),n.target||(n.target=r),a&&(a=a[n.type]))for(var s,u=a.list.first;u;)n.data=u.data,s=u.fn.call(u.ctx||r,n,i),"undefined"!=typeof s&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())),u.special&&u.special.one&&r.un(o,u.fn,u.ctx),u=u.next;return this}};t.observable=t.inherit(i,i)}(jQuery),function(t,e){function n(t,e,n){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(n?"_"+n:"")}function i(e,i,o){t.isFunction(e)?i[n(o,"*","*")]=e:t.each(e,function(e,r){t.isFunction(r)?i[n(o,e,"*")]=r:t.each(r,function(t,r){i[n(o,e,t)]=r})})}function o(t,e){return e?Array.isArray(e)?function(n){for(var i=0,o=e.length;o>i;)if(n.hasMod(t,e[i++]))return!0;return!1}:function(n){return n.hasMod(t,e)}:function(e){return e.hasMod(t)}}var r=[],a={},s={};this.BEM=t.inherit(t.observable,{__constructor:function(t,e,n){var i=this;i._modCache=t||{},i._processingMods={},i._params=e,i.params=null,n!==!1?i._init():i.afterCurrentEvent(function(){i._init()})},_init:function(){return this._initing||this.hasMod("js","inited")||(this._initing=!0,this.params||(this.params=t.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},changeThis:function(t,e){return t.bind(e||this)},afterCurrentEvent:function(t,e){this.__self.afterCurrentEvent(this.changeThis(t,e))},trigger:function(t,e){return this.__base(t=this.buildEvent(t),e).__self.trigger(t,e),this},buildEvent:function(e){return"string"==typeof e&&(e=t.Event(e)),e.block=this,e},hasMod:function(t,n,i){var o=arguments.length,r=!1;1==o?(i="",n=t,t=e,r=!0):2==o&&("string"==typeof t?(i=n,n=t,t=e):(i="",r=!0));var a=this.getMod(t,n)===i;return r?!a:a},getMod:function(t,e){var n=typeof t;if("string"===n||"undefined"===n){e=t||e;var i=this._modCache;return e in i?i[e]:i[e]=this._extractModVal(e)}return this._getElemMod(e,t)},_getElemMod:function(t,e,n){return this._extractModVal(t,e,n)},getMods:function(t){var n=t&&"string"!=typeof t,i=this,o=[].slice.call(arguments,n?1:0),r=i._extractMods(o,n?t:e);return n||(o.length?o.forEach(function(t){i._modCache[t]=r[t]}):i._modCache=r),r},setMod:function(n,i,o){"undefined"==typeof o&&(o=i,i=n,n=e);var r=this;if(!n||n[0]){var a=(n&&n[0]?t.identify(n[0]):"")+"_"+i;if(this._processingMods[a])return r;var s,u=n?r._getElemMod(i,n,s=r.__self._extractElemNameFrom(n)):r.getMod(i);if(u===o)return r;this._processingMods[a]=!0;var c=!0,l=[i,o,u];n&&l.unshift(n),[["*","*"],[i,"*"],[i,o]].forEach(function(t){c=r._callModFn(s,t[0],t[1],l)!==!1&&c}),!n&&c&&(r._modCache[i]=o),c&&r._afterSetMod(i,o,u,n,s),delete this._processingMods[a]}return r},_afterSetMod:function(){},toggleMod:function(t,n,i,o,r){"string"==typeof t&&(r=o,o=i,i=n,n=t,t=e),"undefined"==typeof o?o="":"boolean"==typeof o&&(r=o,o="");var a=this.getMod(t,n);return(a==i||a==o)&&this.setMod(t,n,"boolean"==typeof r?r?i:o:this.hasMod(t,n,i)?o:i),this},delMod:function(t,n){return n||(n=t,t=e),this.setMod(t,n,"")},_callModFn:function(t,i,o,r){var a=n(t,i,o);return this[a]?this[a].apply(this,r):e},_extractModVal:function(){return""},_extractMods:function(){return{}},channel:function(t,e){return this.__self.channel(t,e)},getDefaultParams:function(){return{}},del:function(t){var e=[].slice.call(arguments);return"string"==typeof t&&e.unshift(this),this.__self.del.apply(this.__self,e),this},destruct:function(){}},{_name:"i-bem",blocks:a,decl:function(n,r,s){if("string"==typeof n?n={block:n}:n.name&&(n.block=n.name),n.baseBlock&&!a[n.baseBlock])throw'baseBlock "'+n.baseBlock+'" for "'+n.block+'" is undefined';r||(r={}),r.onSetMod&&(i(r.onSetMod,r),delete r.onSetMod),r.onElemSetMod&&(t.each(r.onElemSetMod,function(t,e){i(e,r,t)}),delete r.onElemSetMod);var u=a[n.baseBlock||n.block]||this;if(n.modName){var c=o(n.modName,n.modVal);t.each(r,function(n,i){t.isFunction(i)&&(r[n]=function(){var t;if(c(this))t=i;else{var o=u.prototype[n];o&&o!==r[n]&&(t=this.__base)}return t?t.apply(this,arguments):e})})}if(s&&"boolean"==typeof s.live){var l=s.live;s.live=function(){return l}}var d;return n.block==u._name?(d=t.inheritSelf(u,r,s))._processLive(!0):(d=a[n.block]=t.inherit(u,r,s))._name=n.block,d},_processLive:function(){return!1},create:function(t,e){return"string"==typeof t&&(t={block:t}),new a[t.block](t.mods,e)},getName:function(){return this._name},_extractElemNameFrom:function(){},afterCurrentEvent:function(t,e){1==r.push({fn:t,ctx:e})&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var t=r.length;if(t)for(var e,n=r.splice(0,t);e=n.shift();)e.fn.call(e.ctx||this)},changeThis:function(t,e){return t.bind(e||this)},del:function(t){var e="string"==typeof t,n=e?0:1,i=arguments.length;for(e&&(t=this);i>n;)delete t[arguments[n++]];return this},channel:function(n,i){return"boolean"==typeof n&&(i=n,n=e),n||(n="default"),i?void(s[n]&&(s[n].un(),delete s[n])):s[n]||(s[n]=new t.observable)}})}(jQuery),function(){Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e})}(),function(){var t=Array.prototype,e=Object.prototype.toString,n={indexOf:function(t,e){e=+(e||0);var n=this,i=n.length;if(i>0&&i>e)for(e=0>e?Math.ceil(e):Math.floor(e),-i>e&&(e=0),0>e&&(e+=i);i>e;){if(e in n&&n[e]===t)return e;++e}return-1},forEach:function(t,e){for(var n=-1,i=this,o=i.length;++n<o;)n in i&&(e?t.call(e,i[n],n,i):t(i[n],n,i))},map:function(t,e){for(var n=-1,i=this,o=i.length,r=new Array(o);++n<o;)n in i&&(r[n]=e?t.call(e,i[n],n,i):t(i[n],n,i));return r},filter:function(t,e){for(var n=-1,i=this,o=i.length,r=[];++n<o;)n in i&&(e?t.call(e,i[n],n,i):t(i[n],n,i))&&r.push(i[n]);return r},reduce:function(t,e){var n,i=-1,o=this,r=o.length;if(arguments.length<2){for(;++i<r;)if(i in o){n=o[i];break}}else n=e;for(;++i<r;)i in o&&(n=t(n,o[i],i,o));return n},some:function(t,e){for(var n=-1,i=this,o=i.length;++n<o;)if(n in i&&(e?t.call(e,i[n],n,i):t(i[n],n,i)))return!0;return!1},every:function(t,e){for(var n=-1,i=this,o=i.length;++n<o;)if(n in i&&!(e?t.call(e,i[n],n,i):t(i[n],n,i)))return!1;return!0}};for(var i in n)t[i]||(t[i]=n[i]);Array.isArray||(Array.isArray=function(t){return"[object Array]"===e.call(t)})}(),function(){var t=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(e){var n=this,i=t.call(arguments,1);return function(){return n.apply(e,i.concat(t.call(arguments)))}})}(),function(t,e,n){function i(t,e,n){n.push(a,t,a,e)}function o(t,e,n,o){o.push(t),n&&i(e,n,o)}function r(t,e,r,a,u){o(t,n,n,u),u.push(s,e),a&&i(r,a,u)}var a="_",s="__",u="[a-zA-Z0-9-]+";t.INTERNAL={NAME_PATTERN:u,MOD_DELIM:a,ELEM_DELIM:s,buildModPostfix:function(t,e,n){var o=n||[];return i(t,e,o),n?o:o.join("")},buildClass:function(t,e,i,a,s){var u=typeof i;if("string"==u?"string"!=typeof a&&(s=a,a=i,i=e,e=n):"undefined"!=u?(s=i,i=n):e&&"string"!=typeof e&&(s=e,e=n),!(e||i||s))return t;var c=s||[];return e?r(t,e,i,a,c):o(t,i,a,c),s?c:c.join("")},buildClasses:function(t,i,a,s){i&&"string"!=typeof i&&(s=a,a=i,i=n);var u=s||[];return i?r(t,i,n,n,u):o(t,n,n,u),a&&e.each(a,function(e,n){n&&(u.push(" "),i?r(t,i,e,n,u):o(t,e,n,u))}),s?u:u.join("")}}}(BEM,jQuery),jQuery.cookie=function(t,e,n){if("undefined"==typeof e){var i=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),r=0;r<o.length;r++){var a=jQuery.trim(o[r]);if(a.substring(0,t.length+1)==t+"="){i=decodeURIComponent(a.substring(t.length+1));break}}return i}n=n||{},null===e&&(e="",n.expires=-1);var s="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var u;"number"==typeof n.expires?(u=new Date,u.setTime(u.getTime()+24*n.expires*60*60*1e3)):u=n.expires,s="; expires="+u.toUTCString()}var c=n.path?"; path="+n.path:"",l=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),s,c,l,d].join("")},function(t){function e(t){return t=t.replace(/%.{2}/g,function(t){return i[t]})}function n(t,n){var i="";try{i=t(n)}catch(o){i=t(e(n))}return i}var i={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};t.extend({decodeURI:function(t){return n(decodeURI,t)},decodeURIComponent:function(t){return n(decodeURIComponent,t)}})}(jQuery),function(t,e,n){function i(t,e,n){(t[e]||(t[e]=[])).unshift(n)}function o(t,e){return e.modName?function(n){(n._curBlock.mods||{})[e.modName]===e.modVal&&t(n)}:t}function r(t,n){var i,o=e.isArray(n);return e.isArray(t)?o?i=t.concat(n):(i=t).push(n):o?(i=n).unshift(t):i=[t,n],i}function a(t){return t.replace(p,function(t){return f[t]})}var s=t.INTERNAL,u=s.ELEM_DELIM,c={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1},l=s.buildClass,d=s.buildClasses,h={},f={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},p=/["&<>]/g;t.HTML={decl:function(t,n){"string"==typeof t&&(t={block:t}),t.name&&(t.block=t.name);var r=h[t.block]||(h[t.block]={});n.onBlock&&i(r,"_block",o(n.onBlock,t)),n.onElem&&(e.isFunction(n.onElem)?i(r,"_elem",o(n.onElem,t)):e.each(n.onElem,function(e,n){i(r,"_elem"+("*"===e?"":u+e),o(n,t))}))},build:function(t){var e=new this.Ctx(t);return e._buildAll(),e._flush()},Ctx:e.inherit({__constructor:function(t){this._buffer=[],this._params=t,this._tParams=null,this._tParamsChanges=null,this._curBlock=n},pos:function(){return this._params._pos},isFirst:function(){return 1===this._params._pos},isLast:function(){var t=this._params;return t._pos===t._siblingsCount},params:function(t){var e=this;return"undefined"==typeof t?e._params:(e._params=t,e)},param:function(t,n,i,o){var r=this,a=r._params;return"undefined"==typeof n?a[t]:(!i&&t in a?o&&(a[t]=e.extend(n,a[t])):a[t]=n,r)},attrs:function(t,e){return this.param("attrs",t,e,!0)},attr:function(t,e,n){var i=this;if("undefined"==typeof e)return(i._params.attrs||{})[t];var o=i._params.attrs;return o?(n||!(t in o))&&(o[t]=e):(i._params.attrs={})[t]=e,i},tag:function(t,e){return this.param("tag",t,e)},cls:function(t,e){return this.param("cls",t,e)},mods:function(t,e){return this.param("mods",t,e,!0)},mod:function(t,e,n){var i=this;if("undefined"==typeof e)return(i._params.mods||{})[t];var o=i._params.mods;return o?(n||!(t in o))&&(o[t]=e):(i._params.mods={})[t]=e,i},mix:function(t,e){var n=this,i=n._params;return"undefined"==typeof t?i.mix:(i.mix=!e&&"mix"in i?i.mix.concat(t):t,n)},js:function(t){return this.param("js",t)},content:function(t,e){return this.param("content",t,e)},wrapContent:function(t){var e=this,n=e._params;return t.content=n.content,n.content=t,e},beforeContent:function(t){var e=this,n=e._params;return n.content=r(t,n.content),e},afterContent:function(t){var e=this,n=e._params;return n.content=r(n.content,t),e},wrap:function(t){var e=this,n=e._params;return t.block||(t._curBlock=e._curBlock),t.content=n._wrapper?n._wrapper:n,n._wrapper=t,e},tParam:function(t,e){var n=this,i=n._tParams||(n._tParams={});if("undefined"==typeof e)return i[t];var o=n._tParamsChanges||(n._tParamsChanges={});return t in o||(o[t]=i[t]),i[t]=e,n},generateId:function(){return e.identify()},stop:function(){this._params._isStopped=!0},_buildAll:function(){var t=this,n=t._buffer,i=t._params,o=typeof i;if("string"==o||"number"==o)n.push(i);else if(e.isArray(i))for(var r,a,s=0,u=i.length;u>s;)t._params=r=i[s++],a=typeof r,"string"==a||"number"==a?n.push(r):r&&(r._pos=s,r._siblingsCount=u,t._buildByDecl());else i&&(t._params._pos=t._params._siblingsCount=1,t._buildByDecl())},_build:function(){var t,n=this,i=n._buffer,o=n._params,r=o.tag||"div",s=o.block||o.elem,u=s&&(o.block||n._curBlock.block),h=!1;o.js&&((t={})[l(u,o.elem)]=o.js===!0?{}:o.js,h=!o.elem),i.push("<",r),(s||o.cls)&&(i.push(' class="'),s&&(d(u,o.elem,o.mods,i),o.mix&&e.each(o.mix,function(e,n){n&&(i.push(" "),d(n.block,n.elem,n.mods,i),n.js&&((t||(t={}))[l(n.block,n.elem)]=n.js===!0?{}:n.js,h||(h=!n.elem)))})),o.cls&&i.push(s?" ":"",o.cls),h&&i.push(" i-bem"),i.push('"')),t&&i.push(' onclick="return ',a(JSON.stringify(t)),'"'),o.attrs&&e.each(o.attrs,function(t,e){"undefined"!=typeof e&&null!==e&&e!==!1&&i.push(" ",t,'="',e.toString().replace(/"/g,"&quot;"),'"')}),c[r]?i.push("/>"):(i.push(">"),"undefined"!=typeof o.content&&(n._params=o.content,n._buildAll()),i.push("</",r,">"))},_flush:function(){var t=this._buffer.join("");return delete this._buffer,t},_buildByDecl:function(){var t=this,n=t._curBlock,i=t._params;if(i._curBlock&&(t._curBlock=i._curBlock),i.block&&(t._curBlock=i),!i._wrapper){if(i.block||i.elem){var o=h[t._curBlock.block];if(o){var r;if(i.elem?(r=o["_elem"+u+i.elem],o._elem&&(r=r?r.concat(o._elem):o._elem)):r=o._block,r)for(var a,s=0;(a=r[s++])&&(a(t),!i._isStopped););}}if(i._wrapper)return i._curBlock=t._curBlock,t._params=i._wrapper,t._buildAll()}var c=t._tParamsChanges;if(t._tParamsChanges=null,t._build(),t._curBlock=n,c){var l=t._tParams;e.each(c,function(t,e){"undefined"==typeof e?delete l[t]:l[t]=e})}}})}}(BEM,jQuery),function(t){if(!window.JSON){var e,n=Object.prototype.toString,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};window.JSON={stringify:e=function(r){if(null===r)return"null";if("undefined"==typeof r)return t;switch(n.call(r)){case"[object String]":return i.lastIndex=0,'"'+(i.test(r)?r.replace(i,function(t){var e=o[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}):r)+'"';case"[object Number]":case"[object Boolean]":return""+r;case"[object Array]":for(var a,s="[",u=0,c=r.length;c>u;)a=e(r[u]),s+=(u++?",":"")+("undefined"==typeof a?"null":a);return s+"]";case"[object Object]":if("[object Function]"===n.call(r.toJSON))return e(r.toJSON());var a,s="{",u=0;for(var l in r)r.hasOwnProperty(l)&&(a=e(r[l]),"undefined"!=typeof a&&(s+=(u++?",":"")+'"'+l+'":'+a));return s+"}";default:return t}}}}}(),function(t,e,n){function i(t,n){var i=t[0];e.each(s(i),function(a,s){r(s,i,a,n);var u=m[s.uniqId];u?u.domElem.index(i)<0&&(u.domElem=u.domElem.add(t),e.extend(u._params,s)):o(a,t,s)})}function o(t,i,o,a,u){"boolean"==typeof o&&(u=a,a=o,o=n);var c=i[0];o=r(o||s(c)[t],c,t);var l=o.uniqId;if(m[l])return m[l]._init();p[l]=p[l]?p[l].add(i):i;var d=c.parentNode;d&&11!==d.nodeType||e.unique(p[l]);var h=v[t]||B.decl(t,{},{live:!0});if(!(h._liveInitable=!!h._processLive())||a||o.live===!1){var f=new h(p[l],o,!!a);return delete p[l],u&&u.apply(f,Array.prototype.slice.call(arguments,4)),f}}function r(t,n,i,o){(t||(t={})).uniqId||(t.uniqId=(t.id?i+"-id-"+t.id:e.identify())+(o||e.identify()));var r=e.identify(n),a=g[r]||(g[r]={});return a[i]||(a[i]=t),t}function a(t,e,n){var i=t.find(e);return n?i:i.add(t.filter(e))}function s(t){var n=e.identify(t);return g[n]||(g[n]=u(t))}function u(t){var n=t.onclick||t.ondblclick;if(!n&&"body"==t.tagName.toLowerCase()){var i=e(t),o=i.attr("onclick")||i.attr("ondblclick");o&&(n=Function(o))}return n?n():{}}function c(t){delete g[e.identify(t)]}function l(t,e){1===t.domElem.length?t.destruct(!0):t.domElem=t.domElem.not(e)}var d=e(window),h=e(document),f=e("body"),p={},m={},g={},b={},_={},v=t.blocks,y=t.INTERNAL,w=y.NAME_PATTERN,k=y.MOD_DELIM,E=y.ELEM_DELIM,M=y.buildModPostfix,x=y.buildClass;
e.fn.bem=function(t,e){return o(t,this,e,!0)};var B=t.DOM=t.decl("i-bem__dom",{__constructor:function(t,n,i){var o=this;o.domElem=t,o._eventNameCache={},o._elemCache={},m[o._uniqId=n.uniqId||e.identify(o)]=o,o._needSpecialUnbind=!1,o.__base(null,n,i)},findBlocksInside:function(t,e){return this._findBlocks("find",t,e)},findBlockInside:function(t,e){return this._findBlocks("find",t,e,!0)},findBlocksOutside:function(t,e){return this._findBlocks("parents",t,e)},findBlockOutside:function(t,e){return this._findBlocks("closest",t,e)[0]||null},findBlocksOn:function(t,e){return this._findBlocks("",t,e)},findBlockOn:function(t,e){return this._findBlocks("",t,e,!0)},_findBlocks:function(t,i,r,a){r||(r=i,i=n);var s=i?"string"==typeof i?this.findElem(i):i:this.domElem,u="string"==typeof r,c=u?r:r.block||r.blockName,l="."+(u?x(c):x(c,r.modName,r.modVal))+(a?":first":""),d=s.filter(l);if(t&&(d=d.add(s[t](l))),a)return d[0]?o(c,d.eq(0),!0):null;var h=[],f={};return e.each(d,function(t,n){var i=o(c,e(n),!0);f[i._uniqId]||(f[i._uniqId]=!0,h.push(i))}),h},bindToDomElem:function(t,n,i){var o=this;return i?t.bind(o._buildEventName(n),function(t){return(t.data||(t.data={})).domElem=e(this),i.apply(o,arguments)}):e.each(n,function(e,n){o.bindToDomElem(t,e,n)}),o},bindToDoc:function(t,e){return this._needSpecialUnbind=!0,this.bindToDomElem(h,t,e)},bindToWin:function(t,e){var n,i,o=e;return"resize"===t&&(e=function(){var t=d.height(),e=d.width();(n!==t||i!==e)&&(n=t,i=e,o.apply(this,arguments))}),this._needSpecialUnbind=!0,this.bindToDomElem(d,t,e)},bindTo:function(t,n,i){return!n||e.isFunction(n)?(i=n,n=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.bindToDomElem(t,n,i)},unbindFromDomElem:function(t,e){return t.unbind(this._buildEventName(e)),this},unbindFromDoc:function(t){return this.unbindFromDomElem(h,t)},unbindFromWin:function(t){return this.unbindFromDomElem(d,t)},unbindFrom:function(t,e){return e?"string"==typeof t&&(t=this.elem(t)):(e=t,t=this.domElem),this.unbindFromDomElem(t,e)},_buildEventName:function(t){var e=this;return t.indexOf(" ")>1?t.split(" ").map(function(t){return e._buildOneEventName(t)}).join(" "):e._buildOneEventName(t)},_buildOneEventName:function(t){var e=this,n=e._eventNameCache;if(t in n)return n[t];var i="."+e._uniqId;if(t.indexOf(".")<0)return n[t]=t+i;var o=".bem_"+e.__self._name;return n[t]=t.split(".").map(function(t,e){return 0==e?t+o:o+"_"+t}).join("")+i},trigger:function(t,e){return this.__base(t=this.buildEvent(t),e).domElem&&this._ctxTrigger(t,e),this},_ctxTrigger:function(t,n){var i=this,o=b[i.__self._buildCtxEventName(t.type)],r={};o&&i.domElem.each(function(){for(var a=this,s=o.counter;a&&s;){var u=e.identify(a,!0);if(u){if(r[u])break;var c=o.ctxs[u];c&&(e.each(c,function(e,o){o.fn.call(o.ctx||i,t,n)}),s--),r[u]=!0}a=a.parentNode}})},setMod:function(t,n,i){if(t&&"undefined"!=typeof i&&t.length>1){var o=this;return t.each(function(){var r=e(this);r.__bemElemName=t.__bemElemName,o.setMod(r,n,i)}),o}return this.__base(t,n,i)},_extractModVal:function(t,e,n){var i,o=(e||this.domElem)[0];return o&&(i=o.className.match(this.__self._buildModValRE(t,n||e))),i?i[2]:""},_extractMods:function(t,e){var n={},i=!t.length,o=0;return((e||this.domElem)[0].className.match(this.__self._buildModValRE("("+(i?w:t.join("|"))+")",e,"g"))||[]).forEach(function(t){var e=(t=t.trim()).lastIndexOf(k),i=t.substr(0,e-1).lastIndexOf(k);n[t.substr(i+1,e-i-1)]=t.substr(e+1),++o}),o<t.length&&t.forEach(function(t){t in n||(n[t]="")}),n},_afterSetMod:function(t,n,i,o,r){var a=this.__self,s=a._buildModClassPrefix(t,r),u=a._buildModValRE(t,r),c=""===n;(o||this.domElem).each(function(){var t=this.className;t.indexOf(s)>-1?this.className=t.replace(u,c?"":"$1"+s+n):c||e(this).addClass(s+n)}),r&&this.dropElemCache(r,t,i).dropElemCache(r,t,n)},findElem:function(t,e,n,i){arguments.length%2?(i=n,n=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.findElem(t));var o=this.__self,r="."+e.split(" ").map(function(t){return x(o._name,t,n,i)}).join(",.");return a(t,r)},_elem:function(t,e,n){var i,o=t+M(e,n);return(i=this._elemCache[o])||(i=this._elemCache[o]=this.findElem(t,e,n),i.__bemElemName=t),i},elem:function(t,n,i){if(n&&"string"!=typeof n)return n.__bemElemName=t,n;if(t.indexOf(" ")<0)return this._elem(t,n,i);var o=e([]),r=this;return t.split(" ").forEach(function(t){o=o.add(r._elem(t,n,i))}),o},dropElemCache:function(t,e,n){if(t){var i=this,o=M(e,n);t.indexOf(" ")<0?delete i._elemCache[t+o]:t.split(" ").forEach(function(t){delete i._elemCache[t+o]})}else this._elemCache={};return this},elemParams:function(t){var e;return"string"==typeof t?(e=t,t=this.elem(t)):e=this.__self._extractElemNameFrom(t),u(t[0])[x(this.__self.getName(),e)]||{}},elemify:function(t,n){return(t=e(t)).__bemElemName=n,t},containsDomElem:function(t){var e=!1;return this.domElem.each(function(){return!(e=t.parents().andSelf().index(this)>-1)}),e},buildSelector:function(t,e,n){return this.__self.buildSelector(t,e,n)},destruct:function(t){var n=this,i=n.__self;n._isDestructing=!0,n._needSpecialUnbind&&i.doc.add(i.win).unbind("."+n._uniqId),n.dropElemCache().domElem.each(function(t,n){var i=s(n);e.each(i,function(t,e){var o=m[e.uniqId];o?o._isDestructing||(l(o,n),delete i[t]):delete p[e.uniqId]}),e.isEmptyObject(i)&&c(n)}),t||n.domElem.remove(),delete m[n.un()._uniqId],delete n.domElem,delete n._elemCache,n.__base()}},{scope:f,doc:h,win:d,_processLive:function(t){var e=this,n=e._liveInitable;if("live"in e){var i="undefined"==typeof n;i^t&&(n=e.live()!==!1,e.live=function(){})}return n},init:function(t,n,o){(!t||e.isFunction(t))&&(o=n,n=t,t=h);var r=e.identify();return a(t,".i-bem").each(function(){i(e(this),r)}),n&&this.afterCurrentEvent(function(){n.call(o||this,t)}),this._runAfterCurrentEventFns(),t},destruct:function(t,i,o){"boolean"!=typeof t&&(o=i,i=t,t=n),a(i,".i-bem",o).each(function(t,n){var i=s(this);e.each(i,function(t,e){if(e.uniqId){var o=m[e.uniqId];o?(l(o,n),delete i[t]):delete p[e.uniqId]}}),e.isEmptyObject(i)&&c(this)}),t||(o?i.empty():i.remove())},update:function(t,e,n,i){this.destruct(t,!0),this.init(t.html(e),n,i)},replace:function(t,n){this.destruct(!0,t),this.init(e(n).replaceAll(t))},append:function(t,n){this.init(e(n).appendTo(t))},prepend:function(t,n){this.init(e(n).prependTo(t))},before:function(t,n){this.init(e(n).insertBefore(t))},after:function(t,n){this.init(e(n).insertAfter(t))},_buildCtxEventName:function(t){return this._name+":"+t},_liveClassBind:function(t,n,i,o){var r=this;if(n.indexOf(" ")>-1)n.split(" ").forEach(function(e){r._liveClassBind(t,e,i,o)});else{var a=_[n],s=e.identify(i);a||(a=_[n]={},h.bind(n,r.changeThis(r._liveClassTrigger,r))),a=a[t]||(a[t]={uniqIds:{},fns:[]}),s in a.uniqIds||(a.fns.push({uniqId:s,fn:r._buildLiveEventFn(i,o)}),a.uniqIds[s]=a.fns.length-1)}return this},_liveClassUnbind:function(t,n,i){var o=_[n];if(o)if(i){if(o=o[t]){var r=e.identify(i);if(r in o.uniqIds){var a=o.uniqIds[r],s=o.fns.length-1;for(o.fns.splice(a,1);s>a;)o.uniqIds[o.fns[a++].uniqId]=a-1;delete o.uniqIds[r]}}}else delete o[t];return this},_liveClassTrigger:function(t){var n=_[t.type];if(n){var i=t.target,o=[];for(var r in n)n.hasOwnProperty(r)&&o.push(r);do for(var a=" "+i.className+" ",s=0;r=o[s++];)if(a.indexOf(" "+r+" ")>-1){for(var u,c=0,l=n[r].fns,d=!1;u=l[c++];)u.fn.call(e(i),t)===!1&&(d=!0);if(d&&t.preventDefault(),d||t.isPropagationStopped())return;o.splice(--s,1)}while(o.length&&(i=i.parentNode))}},_buildLiveEventFn:function(t,n){var i=this;return function(r){var a=[i._name,((r.data||(r.data={})).domElem=e(this)).closest(i.buildSelector()),!0],s=o.apply(null,n?a.concat([t,r]):a);return s&&!n&&t?t.apply(s,arguments):void 0}},liveInitOnEvent:function(t,e,n){return this.liveBindTo(t,e,n,!0)},liveBindTo:function(t,i,o,r){(!i||e.isFunction(i))&&(o=i,i=t,t=n),t&&"string"!=typeof t||(t={elem:t}),t.elemName&&(t.elem=t.elemName);var a=this;return t.elem&&t.elem.indexOf(" ")>0?(t.elem.split(" ").forEach(function(e){a._liveClassBind(x(a._name,e,t.modName,t.modVal),i,o,r)}),a):a._liveClassBind(x(a._name,t.elem,t.modName,t.modVal),i,o,r)},liveUnbindFrom:function(t,e,n){var i=this;return t.indexOf(" ")>1?(t.split(" ").forEach(function(t){i._liveClassUnbind(x(i._name,t),e,n)}),i):i._liveClassUnbind(x(i._name,t),e,n)},_liveInitOnBlockEvent:function(t,e,n,i){var o=this._name;return v[e].on(t,function(t){var e=arguments,r=t.block[i](o);n&&r.forEach(function(t){n.apply(t,e)})}),this},liveInitOnBlockEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOn")},liveInitOnBlockInsideEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOutside")},liveInitOnBlockInit:function(t,e){return this.liveInitOnBlockEvent("init",t,e)},liveInitOnBlockInsideInit:function(t,e){return this.liveInitOnBlockInsideEvent("init",t,e)},on:function(t,e,n,i,o){return t.jquery?this._liveCtxBind(t,e,n,i,o):this.__base(t,e,n,i)},un:function(t,e,n,i){return t.jquery?this._liveCtxUnbind(t,e,n,i):this.__base(t,e,n)},liveCtxBind:function(t,e,n,i,o){return this._liveCtxBind(t,e,n,i,o)},_liveCtxBind:function(t,i,o,r,a){var s=this;if("string"==typeof i)if(e.isFunction(o)&&(a=r,r=o,o=n),i.indexOf(" ")>-1)i.split(" ").forEach(function(e){s._liveCtxBind(t,e,o,r,a)});else{var u=s._buildCtxEventName(i),c=b[u]||(b[u]={counter:0,ctxs:{}});t.each(function(){var t=e.identify(this),n=c.ctxs[t];n||(n=c.ctxs[t]={},++c.counter),n[e.identify(r)+(a?e.identify(a):"")]={fn:r,data:o,ctx:a}})}else e.each(i,function(e,n){s._liveCtxBind(t,e,n,o)});return s},liveCtxUnbind:function(t,e,n,i){return this._liveCtxUnbind(t,e,n,i)},_liveCtxUnbind:function(t,n,i,o){var r=this,a=b[n=r._buildCtxEventName(n)];return a&&(t.each(function(){var t,n=e.identify(this,!0);n&&(t=a.ctxs[n])&&(i&&delete t[e.identify(i)+(o?e.identify(o):"")],(!i||e.isEmptyObject(t))&&(a.counter--,delete a.ctxs[n]))}),a.counter||delete b[n]),r},_extractElemNameFrom:function(t){if(t.__bemElemName)return t.__bemElemName;var e=t[0].className.match(this._buildElemNameRE());return e?e[1]:n},extractParams:u,_buildModClassPrefix:function(t,e){return x(this._name)+(e?E+("string"==typeof e?e:this._extractElemNameFrom(e)):"")+k+t+k},_buildModValRE:function(t,e,n){return new RegExp("(\\s|^)"+this._buildModClassPrefix(t,e)+"("+w+")(?=\\s|$)",n)},_buildElemNameRE:function(){return new RegExp(this._name+E+"("+w+")(?:\\s|$)")},buildSelector:function(t,e,n){return"."+x(this._name,t,e,n)},getBlockByUniqId:function(t){return m[t]},getWindowSize:function(){return{width:d.width(),height:d.height()}}})}(BEM,jQuery),function(){String.prototype.trim||(String.prototype.trim=function(){for(var t=this.replace(/^\s\s*/,""),e=/\s/,n=t.length;e.test(t.charAt(--n)););return t.slice(0,n+1)})}(),function(t){t||(t=window.Lego={}),t.isSessionValid=function(){return!!t.getCookie("yandex_login")}}(window.Lego),BEM.DOM.decl("i-global",{onSetMod:{js:function(){this.del(this.__self._params=$.extend({},this.params),"uniqId","name");var t=this.__self._params;t["passport-msg"]||(t["passport-msg"]=t.id),void 0===t["show-counters"]&&(t["show-counters"]=Math.round(100*Math.random())<=t["show-counters-percent"]),t.locale=t.lang,$(function(){t.oframebust&&Lego.oframebust(t.oframebust)})}},getDefaultParams:function(){return{id:"",login:Lego.isSessionValid()?$.cookie("yandex_login")||"":"",yandexuid:$.cookie("yandexuid"),lang:"ru",tld:"ru",retpath:encodeURI($.decodeURI(location.href)),"passport-host":"https://passport.yandex.ru","pass-host":"//pass.yandex.ru","social-host":"//social.yandex.ru","lego-path":"/lego","show-counters-percent":100}}},{param:function(t){return(this._params||{})[t]}}),BEM.DOM.decl("i-global",{_params:Lego.params}),function(t){function e(t){return t.replace(/^(?:https?:)?\/\//,"")}t||(t=window.Lego={}),!t.params&&(t.params={}),t.c=function(t,n,i){var o=e(i&&i.host||BEM.blocks["i-global"].param("click-host")||"clck.yandex.ru"),r=function(t,e,n,i){return e=e.replace("'","%27"),e.indexOf("/dtype=")>-1?e:location.protocol+"//"+o+"/"+n+"/dtype="+t+"/rnd="+((new Date).getTime()+Math.round(100*Math.random()))+(i?"/*"+(e.match(/^http/)?e:location.protocol+"//"+location.host+(e.match("^/")?e:"/"+e)):"/*data="+encodeURIComponent("url="+encodeURIComponent(e.match(/^http/)?e:location.protocol+"//"+location.host+(e.match("^/")?e:"/"+e))))},a=function(){var e=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],n=document.createElement("script");n.setAttribute("src",r(t,location.href,"jclck")),e.insertBefore(n,e.firstChild)};if(n)if(n.className.match(/b-link_pseudo_yes/)||n.href&&n.href.match(/^mailto:/)||i&&i.noRedirect===!0)a();else if(n.href){var s=n.href;n.href=r(t,s,"redir"),setTimeout(function(){n.href=s},500)}else if(n.form)if(n.type.match(/submit|button|image/)){var s=n.form.action;n.form.action=r(t,s,"redir",!0),setTimeout(function(){n.form.action=s},500)}else a();else{if(!n.action)throw"counter.js: not link and not form!";n.action=r(t,n.action,"redir",!0)}else a()}}(window.Lego),function(t,e){t||(t=window.Lego={}),t.cp=function(n,i,o,r,a,s){"string"==typeof r||(s=a,a=r,r=e),t.c("stred/pid="+n+"/cid="+i+(o?"/path="+o+(r?"/vars="+r:""):""),a,s)}}(window.Lego),function(t){t||(t=window.Lego={}),t.ch=function(e,n,i){BEM.blocks["i-global"].param("show-counters")&&t.cp(0,2219,e,n,i)}}(window.Lego),function(t){t.cred=function(t,e,n){var i,o=function(){var e=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],n=document.createElement("script");n.setAttribute("src",t),e.insertBefore(n,e.firstChild)};if(e)if(e.className.match(/b-link_pseudo_yes/)||e.href&&e.href.match(/^mailto:/)||n&&n.noRedirect===!0)o();else if(e.href)i=e.href,e.href=t,setTimeout(function(){e.href=i},500);else if(e.form)e.type.match(/submit|button|image/)?(i=e.form.action,e.form.action=t,setTimeout(function(){e.form.action=i},500)):o();else{if(!e.action)throw"counter.js: not link and not form!";e.action=t}else o()}}(window.Lego),window.csh_ifgsid=csh_ifmsid,function(t){t||(t=window.Lego={}),t.getCookie=function(t){var e=document.cookie;if(e.length<1)return!1;var n=e.indexOf(t+"=");if(-1==n)return!1;n+=t.length+1;var i=e.indexOf(";",n);return decodeURIComponent(-1==i?e.substring(n):e.substring(n,i))}}(window.Lego),function(t,e){e||(e=window.Lego={}),e.init||(e.init=function(n){return(n=e.params=t.extend({id:"",login:e.isSessionValid()?e.getCookie("yandex_login")||"":"",yandexuid:e.getCookie("yandexuid"),locale:"ru",retpath:window.location.toString(),"passport-host":"//passport.yandex.ru","pass-host":"//pass.yandex.ru","passport-msg":n.id,"social-host":"//social.yandex.ru","lego-path":"/lego","show-counters-percent":100},n,e.params))["show-counters"]=Math.round(100*Math.random())<=n["show-counters-percent"],BEM.blocks["i-global"]._params||t.extend(BEM.blocks["i-global"]._params={},n),t(function(){n.oframebust&&e.oframebust(n.oframebust)}),n}),e.block||(e.block={}),e.blockInit||(e.blockInit=function(n,i){n=n||document,i=i||".g-js",t(n).find(i).each(function(){var n=t(this),i=this.onclick?this.onclick():{},o=i.name||"",r=e.block[o];r&&!n.data(o)&&(r.call(n,i),n.data(o,!0).addClass(o+"_js_inited"))})}),e.blockInitBinded||(e.blockInitBinded=!!t(document).ready(function(){e.blockInit()}))}(jQuery,window.Lego),function(t,e,n,i,o,r){e=t.documentElement,n="className",i="replace",e[n]=e[n][i]("i-ua_js_no","i-ua_js_yes"),"CSS1Compat"!=t.compatMode&&(e[n]=e[n][i]("i-ua_css_standart","i-ua_css_quirks")),/iphone|ipad|ipod/i.test(navigator.appVersion)&&/OS\s7_/.test(navigator.appVersion)?((o=t.documentElement)&&(r=o.classList),r.add("ios7")):/android/i.test(navigator.appVersion)&&((o=t.documentElement)&&(r=o.classList),r.add("android"))}(document),function(t){t||(t=window.Lego={}),t.messages=t.messages||{},t.message=function(e,n){return"ru"==t.params.locale?n:t.messages[e]||n}}(window.Lego),function(t){t.ya||(t.ya={})}(this),function(t){t.Collection||(t.Collection=function(t){this.storage=[],this.idAttr=t||"id"},t.Collection.prototype={add:function(t){this.storage.push(t),$(this).trigger("append."+t[this.idAttr],[t])},get:function(t){var e=this;return this.storage.filter(function(n){return n[e.idAttr]===t})}})}(ya,this),function(t){var e=/\[%\s([^%]+)\s%\]/g;t.template=function(t,n){n=n||{};try{var i=t.replace(/'/g,"\\'").replace(e,function(t,e){return n.hasOwnProperty(e)?"'+(hash.hasOwnProperty(\""+e+'")?hash["'+e+'"]:"'+n[e]+"\")+'":"'+(hash.hasOwnProperty(\""+e+'")&&typeof(hash["'+e+"\"])!='undefined'?hash[\""+e+"\"]:'')+'"});return new Function("hash","return '"+i+"'")}catch(o){debug("template make failed:",t,i)}},t.getClasses=function(t,e,n){var i,o=t;if(n&&(o+=" "+n),e)for(i in e)e.hasOwnProperty(i)&&e[i]&&(o+=" "+t+"_"+i+"_"+e[i]);return o},t.getAttrs=function(t){if(!t)return"";var e,n="";for(e in t)t.hasOwnProperty(e)&&(n+=" "+e+'="'+t[e]+'"');return n},t.getJsParams=function(t){return JSON.stringify(t||{}).replace(/"/g,"'")},t.decline=function(t,e){return e&&e.length?0===t&&e[3]?e[3]:e[1]||e[2]?e[2]?(t%=100,t>=20&&(t%=10),1===t?e[0]:t>1&&5>t?e[1]:e[2]):t>=0&&1>=t?e[0]:e[1]:e[1]:e}}(ya,this),ya.pages={},ya.templates={common:{},pages:{}},ya.generators={common:{},pages:{}},ya.hash={common:{},pages:{}},function(t,e){t.make=function(t,e){return t.hasOwnProperty(e)||(t[e]={}),t[e]},t.uid=function(){return String(Math.random()).substr(2,12)},t.htmlFilter=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t.urlFilter=function(t){return t.replace(/./g,function(t){return t.match(/[&@\/;:=+?$]/)?t:encodeURIComponent(t)})},t.capitalize=function(t){return t=t||"",t[0].toUpperCase()+t.substring(1)},t.formatNumber=function(t,e,n){if(isNaN(t))return t;t+="",e=e||",",n=n||"&nbsp;";var i=t.lastIndexOf("."),o=[],r="",a=0,s="";for(-1!==i?r=e+t.substr(i+1):i=t.length;--i>-1;)s=t[i]+s,a++,3===a&&(o.push(s),s="",a=0);return s&&o.push(s),o.reverse().join(n)+r},t.Collection=function(t){this.storage=[],this.idAttr=t||"id"},t.Collection.prototype={add:function(t){this.storage.push(t),$(this).trigger("append."+t[this.idAttr],[t])},get:function(t){var e=this;return this.storage.filter(function(n){return n[e.idAttr]===t})}},t.log=function(){if(env.debug)if(e.console)e.console.log.apply(this,arguments);else if(e.debug)e.debug.apply(this,arguments);else if(e.document&&e.document.body){var t="debugWindow",n=document.getElementById(t);n?n.innerHTML+="<hr/>msg":document.body.innerHTML+='<div style="width:50%;height: 50px; margin-bottom: 200px; overflow: auto;position: absolute;bottom: 0; z-index: 9999; border:1px solid #ccc;background: #fff; color: #000; padding: 1em 2em;margin:2px;" id="'+t+'">Debug:<hr/>'+arguments[0]+"</div>"}},t.zCookie={insert:function(t,e){var n,i,o,r=e.split(":"),a=[],s=!1;if(3===r.length){o=r[0],i=t.split("|");for(var u=0,c=i.length;c>u;u++)i[u]&&(n=i[u].split(":"),n[0]===o?(a.push(e),s=!0):a.push(i[u]));return s||a.push(e),a.join("|")}return!1},get:function(t){t||(t="");for(var e=t.split("|"),n={},i=0,o=e.length;o>i;i++){var r=e[i].split(":");3===r.length&&(n[r[0].substr(2)]=r)}return function(t,e,i){var o,r,a=n[t];if(a){o=a[1],r="l"===a[2];var s={version:o,ls:r,cache:"c"===a[2]&&o===e,fresh:r&&o===e,patchable:r&&i&&i.some(function(t){return t===o})};return s}}}},e.home&&home.getStaticURL&&(t.getStaticURL=home.getStaticURL)}(ya,this);var env={};!function(t){t.devInstance=!1,t.useTests=!1,t.useCache=!0,t.lsExternalStyles=0,t.lsExternalScripts=0,t.lsClientScrips=0,t.serverSide=1,t.configs={adaptiveRules:{w1:function(t){return{styles:[t.getStaticURL("/static/css/_desktop.w1.css")]}},w2:function(t){return{styles:[t.getStaticURL("/static/css/_desktop.w2.css")],stylesIE:[t.getStaticURL("/static/css/_desktop.w2.ie.css")]}},w3:function(t){return{styles:[t.getStaticURL("/static/css/_desktop.w3.css")],stylesIE:[t.getStaticURL("/static/css/_desktop.w3.ie.css")]}},h1:function(t){return{styles:[t.getStaticURL("/static/css/_desktop.h1.css")]}}}}}(env,this),function(t){"use strict";for(var e=["ms","moz","webkit","o"],n=0;n<e.length&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[e[n]+"RequestAnimationFrame"];if(void 0===t.requestAnimationFrame){var i,o=[],r=+new Date,a=0,s=function(){var t=o;o=[],a=+new Date,i=0;for(var e=0,n=t.length;n>e;e++)t[e](a-r)};t.requestAnimationFrame=function(e){if(o.push(e),!i){var n=+new Date,r=Math.max(0,16-(n-a));i=t.setTimeout(s,r)}return i},t.requestAnimationFrame.fallback=!0}}(this),$(function(){var t=Detector&&Detector(),e=$("body");$.browser.msie&&parseInt($.browser.version,10)<8&&t&&t.isInlineBlockSupported&&t.isInlineBlockSupported()&&($("link[relates=ieOLD]").remove(),$("style[relates=ieOLD]").remove()),home.supportsCssTransitions&&e.removeClass("css3-transition-off").addClass("css3-transition-on")}),ya.passRequest=function(t){if(t){var e=$("<iframe />");e.css({position:"absolute",height:"0",width:"0",left:"0",top:"0",visibility:"hidden"}),e.attr("src",t),e.appendTo(document.body)}},window.home=window.home||{},home.supportsCssTransitions=function(){return/MSIE/.test(navigator.userAgent)&&!window.atob?!1:function(){var t=document.createElement("p").style,e="transition"in t||"WebkitTransition"in t||"MozTransition"in t||"msTransition"in t||"OTransition"in t;return e}()}(),home.cssPrefix=function(){if(/MSIE/.test(navigator.userAgent)&&!window.atob)return"";var t=window.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1];return e}(),home.getPrefixedProperty=function(t){if(!t)return"";if(!home.supportsCssTransitions)return t;var e=home.cssPrefix?"-"+home.cssPrefix+"-":"";return e+t},home.debounce=function(t,e,n){var i,o,r,a,s;return function(){r=this,o=arguments,a=new Date;var u=function(){var c=new Date-a;e>c?i=setTimeout(u,e-c):(i=null,n||(s=t.apply(r,o)))},c=n&&!i;return i||(i=setTimeout(u,e)),c&&(s=t.apply(r,o)),s}},home.delayManager=function(){var t={},e={},n=function(n,i){t[n]||(t[n]=[]),e[n]?i():t[n].push(i)},i=function(e){if(t[e])for(var n=t[e].length,i=0;n>i;i++)t[e].shift().call()};return{add:function(t,e){n(t,e)},runQueue:function(t){e[t]=!0,i(t)}}}(),$(function(){x.Component.initByHTML()}),$(document).ready(function(){$.browser&&$.browser.msie&&$("html").addClass("i-ua_browser_msie")}),function(t){t.ya||(t.ya={})}(this),function(t){var e=/\[%\s([^%]+)\s%\]/g;t.template=function(t,n){n=n||{};try{var i=t.replace(/'/g,"\\'").replace(e,function(t,e){return n.hasOwnProperty(e)?"'+(hash.hasOwnProperty(\""+e+'")?hash["'+e+'"]:"'+n[e]+"\")+'":"'+(hash.hasOwnProperty(\""+e+'")&&typeof(hash["'+e+"\"])!='undefined'?hash[\""+e+"\"]:'')+'"});return new Function("hash","return '"+i+"'")}catch(o){debug("template make failed:",t,i)}},t.getClasses=function(t,e,n){var i,o=t;if(n&&(o+=" "+n),e)for(i in e)e.hasOwnProperty(i)&&e[i]&&(o+=" "+t+"_"+i+"_"+e[i]);return o},t.getAttrs=function(t){if(!t)return"";var e,n="";for(e in t)t.hasOwnProperty(e)&&(n+=" "+e+'="'+t[e]+'"');return n},t.getJsParams=function(t){return JSON.stringify(t||{}).replace(/"/g,"'")},t.decline=function(t,e){return e&&e.length?0===t&&e[3]?e[3]:e[1]||e[2]?e[2]?(t%=100,t>=20&&(t%=10),1===t?e[0]:t>1&&5>t?e[1]:e[2]):t>=0&&1>=t?e[0]:e[1]:e[1]:e}}(ya,this),ya.pages={},ya.templates={common:{},pages:{}},ya.generators={common:{},pages:{}},ya.hash={common:{},pages:{}},function(t,e){t.make=function(t,e){return t.hasOwnProperty(e)||(t[e]={}),t[e]},t.uid=function(){return String(Math.random()).substr(2,12)},t.htmlFilter=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t.urlFilter=function(t){return t.replace(/./g,function(t){return t.match(/[&@\/;:=+?$]/)?t:encodeURIComponent(t)})},t.capitalize=function(t){return t=t||"",t[0].toUpperCase()+t.substring(1)},t.formatNumber=function(t,e,n){if(isNaN(t))return t;t+="",e=e||",",n=n||"&nbsp;";var i=t.lastIndexOf("."),o=[],r="",a=0,s="";for(-1!==i?r=e+t.substr(i+1):i=t.length;--i>-1;)s=t[i]+s,a++,3===a&&(o.push(s),s="",a=0);return s&&o.push(s),o.reverse().join(n)+r},t.Collection=function(t){this.storage=[],this.idAttr=t||"id"},t.Collection.prototype={add:function(t){this.storage.push(t),$(this).trigger("append."+t[this.idAttr],[t])},get:function(t){var e=this;return this.storage.filter(function(n){return n[e.idAttr]===t})}},t.log=function(){if(env.debug)if(e.console)e.console.log.apply(this,arguments);else if(e.debug)e.debug.apply(this,arguments);else if(e.document&&e.document.body){var t="debugWindow",n=document.getElementById(t);n?n.innerHTML+="<hr/>msg":document.body.innerHTML+='<div style="width:50%;height: 50px; margin-bottom: 200px; overflow: auto;position: absolute;bottom: 0; z-index: 9999; border:1px solid #ccc;background: #fff; color: #000; padding: 1em 2em;margin:2px;" id="'+t+'">Debug:<hr/>'+arguments[0]+"</div>"}},t.zCookie={insert:function(t,e){var n,i,o,r=e.split(":"),a=[],s=!1;if(3===r.length){o=r[0],i=t.split("|");for(var u=0,c=i.length;c>u;u++)i[u]&&(n=i[u].split(":"),n[0]===o?(a.push(e),s=!0):a.push(i[u]));return s||a.push(e),a.join("|")}return!1},get:function(t){t||(t="");for(var e=t.split("|"),n={},i=0,o=e.length;o>i;i++){var r=e[i].split(":");3===r.length&&(n[r[0].substr(2)]=r)}return function(t,e,i){var o,r,a=n[t];if(a){o=a[1],r="l"===a[2];var s={version:o,ls:r,cache:"c"===a[2]&&o===e,fresh:r&&o===e,patchable:r&&i&&i.some(function(t){return t===o})};return s}}}},e.home&&home.getStaticURL&&(t.getStaticURL=home.getStaticURL)}(ya,this),$(function(){BEM.DOM.init()}),function(t){t=t||{},t.oframebustMatchDomain=function(t,e){t="[object Array]"===Object.prototype.toString.call(t)?t:function(){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}();for(var n=0,i=t.length;i>n;n++){var o=t[n];if("string"==typeof o){if(/(\?|\*)/.test(o)){var r=o.replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\?/g,".{1}");if(new RegExp("^"+r+"$").test(e))return!0}else if(e==o)return!0}else try{if(o.test(e))return!0}catch(a){}}}}(window.Lego),function(t){t=t||{},t.oframebust=function(e){if(window.top.location!=window.location){var n=document.referrer.match(/^https?:\/\/([^:\/\s]+)\/?.*/);if(!n)return;!t.oframebustMatchDomain(e,n[1])&&(window.top.location=window.location)}}}(window.Lego),function(t){var e=t.event.special.leftclick={setup:function(){t(this).bind("click",e.handler)},teardown:function(){t(this).unbind("click",e.handler)},handler:function(e){e.button||(e.type="leftclick",t.event.handle.apply(this,arguments),e.type="click")}}}(jQuery),BEM.DOM.decl("b-form-button",{onSetMod:{js:function(){var t=this.isDisabled();(this._href=this.domElem.attr("href"))&&t&&this.domElem.removeAttr("href"),this.elem("input").attr("disabled",t)},focused:{yes:function(){var t=this;return t.isDisabled()?!1:(t.bindTo("keydown",this._onKeyDown).elem("input").is(":focus")||t.elem("input").focus(),void(t._unloadInited||(t._unloadInited=$(window).bind("unload",function(){t.delMod("focused")}))))},"":function(){this.unbindFrom("keydown").elem("input").blur()}},disabled:function(t,e){var n="yes"==e;this._href&&(n?this.domElem.removeAttr("href"):this.domElem.attr("href",this._href)),n&&this.domElem.keyup(),this.afterCurrentEvent(function(){this.domElem&&this.elem("input").attr("disabled",n)})},pressed:function(t,e){this.isDisabled()||this.trigger("yes"==e?"press":"release")},hovered:{"":function(){this.delMod("pressed")}},"*":function(t){return this.isDisabled()&&"hovered pressed".indexOf(t)>-1?!1:void 0}},isDisabled:function(){return this.hasMod("disabled","yes")},url:function(t){return"undefined"==typeof t?this._href:(this._href=t,this.isDisabled()||this.domElem.attr("href",t),this)},_onKeyDown:function(t){var e=t.keyCode;13!=e&&32!=e||this._keyDowned||(this._keyDowned=!0,this.setMod("pressed","yes").bindTo("keyup",function(){this.delMod("pressed").unbindFrom("keyup"),delete this._keyDowned,32==e&&this.domElem.attr("href")&&(document.location=this.domElem.attr("href"))}))},_onClick:function(t){this.isDisabled()?t.preventDefault():this.afterCurrentEvent(function(){this.trigger("click")})},destruct:function(){this.delMod("focused"),this.__base.apply(this,arguments)}},{live:function(){var t={mouseover:{name:"hovered",val:"yes"},mouseout:{name:"hovered"},mousedown:{name:"pressed",val:"yes"},mouseup:{name:"pressed"},focusin:{name:"focused",val:"yes"},focusout:{name:"focused"}};this.liveBindTo("leftclick",function(t){this._onClick(t)}).liveBindTo("mouseover mouseout mouseup focusin focusout",function(e){var n=t[e.type];this.setMod(n.name,n.val||"")}).liveBindTo("mousedown",function(e){var n=t[e.type];1==e.which&&this.setMod(n.name,n.val||"")})}}),BEM.HTML.decl("b-form-button",{onBlock:function(t){t.tag(t.param("url")?"a":"span").attrs({href:t.param("url"),target:t.param("target")}).mods({size:t.mod("size"),theme:t.mod("theme")}).content([{elem:"left",tag:"i"},{elem:"content",tag:"span",content:{elem:"text",tag:"span",content:t.content()}}],!0).afterContent(t.param("type")?{elem:"input",attrs:{value:t.param("value")||"",type:t.param("type"),name:t.param("name"),disabled:t.mod("disabled")&&"disabled"}}:{elem:"click"}).js(!0)},onElem:{input:function(t){t.tag("input")},click:function(t){t.tag("i")}}}),BEM.decl("i-statface",{onSetMod:{js:function(){this._data={},this._needSend=!1,this.hasMod("send","manual")||$(window).unload(this.changeThis(this.send))}},set:function(t,e){this._needSend=!0;var n=this._data;return"object"==typeof t?$.each(t,function(t,e){n[t]=e}):n[t]=e,this},reset:function(){var t=this;return arguments[0]?$.each(arguments,function(e,n){delete t._data[n]}):this._data={},$.isEmptyObject(this._data)&&(this._needSend=!1),this},serialize:function(){var t=this;return $.map(t.params.keys,function(e){return t._data[e]}).join(".")+(t.params.customKeys?$.map(t.params.customKeys,function(e){var n=t._data[e];return"/"+e+"="+(void 0==n?"":n)}).join(""):"")},send:function(t){if(this._needSend){var e=this.params,n=["//",e.host,"/",e.path,"/dtype=stred","/pid=",e.pid,"/cid=",e.cid,"/path=",this.serialize(),"/*data=",encodeURIComponent("url="+encodeURIComponent(e.url))].join("");"click"==e.path?document.createElement("IMG").src=n:$.ajax({type:"GET",url:n,data:null,complete:t||$.noop,dataType:"script",timeout:500}),this._needSend=!1}return this},getDefaultParams:function(){return{host:"clck.yandex.ru",path:"jclck",url:location.href}}}),BEM.DOM.decl("b-morda-search",{onSetMod:{js:function(){var t=this;this.input=this.findBlockInside("b-form-input"),this.form=this.domElem.find("form"),this._bindHeatDNS(),this._bindEmptyInputClickCounter(),this._initSearchSample(),this._initSearchSampleBro(),this.input.hasMod("suggest","yes")&&(this._initNahStat(),this.input.on("select",function(e,n){n.item.params.cgi&&n.item.params.cgi.forEach(function(e){e instanceof Array&&e.length>1&&BEM.DOM.append(t.form,BEM.HTML.build({block:"b-search",elem:"hidden",tag:"input",attrs:{type:"hidden",name:e[0],value:e[1]}}))}),n.item.hasMod("type","nav")||t.form.submit()}))}},_bindHeatDNS:function(){},_bindEmptyInputClickCounter:function(){function t(t){!e.val()&&t&&(t.clientX||t.clientY)&&Lego.cp(132,71618)}var e=this.input;e.bindTo("click",t)},_initSearchSample:function(){var t=this.findBlockInside("sample","b-link"),e=this.input,n=this;t&&t.bindTo("click",function(t){e._preventRequest=!0,e.val(n.params.text||$(t.target).text()).setMod("focused","yes"),e._preventRequest=!1;var i=n.domElem.find("input[name='nl']");return n.params.nl&&!i.length&&(i=$('<input type="hidden" name="nl" value="1"/>').insertAfter(e.domElem)),!1})},_initSearchSampleBro:function(){var t,e=this.findBlockInside("b-morda-search__sample-browser"),n=this.input,i=this,o=["yeni Yandex Browser","hzl Yandex Browser","gvenli Yandex Browser","Yandex Browser indir","site evirisi Yandex Browser'da"];e&&e.bindTo("click",function(){t=Math.floor(5*Math.random()),n._preventRequest=!0,n.val(o[t]||"  ").setMod("focused","yes"),n._preventRequest=!1;var e=i.domElem.find("input[name='nl']");return i.params.nl&&!e.length&&(e=$('<input type="hidden" name="nl" value="1"/>').insertAfter(n.domElem)),!1})},_initNahStat:function(){var t,e,n=this._resetSuggestStats(),i=new Date,o="",r=0,a=this;
this.input.on({select:function(t,e){n.usageType=e.byKeyboard?"keyboard":"mouse",(e.item.hasMod("type","nah")||e.item.hasMod("type","href"))&&(n.nah="nah_used"),e.item.hasMod("type","nav")&&a._submitStats()},"data-requested":function(){i=new Date},"data-received":function(t,e){var o=e.metainfo;o&&(n.region=o.r,n.exprt=o.exprt,n.log=encodeURIComponent(o.log),o.personal=o.pers_options||o.n),i&&n.times.push(new Date-i);var r=1==o.personal;r||$.each(e.items,function(){return!(r="nah"==this[0])}),r&&"nah_used"!=n.nah&&(n.nah="nah_not_used")},"update-items":function(){"edit"!=n.usageType&&(n.usageType="not_used")},change:function(t,e){n._submited=!1,n.ratio.userActions++,e&&"autocomplete"==e.source?(n.usageType="suggest",n.position=e.itemIndex+1):("suggest"==n.usageType&&(n.usageType="edit"),e&&e.source||(n.user_input=encodeURIComponent(t.block.val())))}}).bindTo("keyup click",function(i){switch(i.keyCode){case 38:case 40:case 27:break;default:t=this.val(),e=a.input.getSelectionEnd(),(o!=t||r!=e)&&((-1!=[37,39].indexOf(i.keyCode)||"click"==i.type)&&this.trigger("change"),n.endTime=(new Date).getTime(),n.startTime||(n.startTime=n.endTime),n.pos=e,o=t,r=e)}}),this.findBlockInside("button","b-form-button").domElem.bind("click",function(){n.buttonByMouse="button_by_mouse"});var s=function(t){return a._suggestStats._submited?void a.form.unbind("submit",s):(t.preventDefault()||a._submitStats(function(){a.form.unbind("submit",s).submit().bind("submit",s)}),!1)};a.form.bind("submit",s),this.input.hasMod("tap-ahead","yes")&&this.input.on("ahead-fill",function(t,e){n.aheadKey=e.usage,n.chars=e.chars})},_resetSuggestStats:function(){return this._suggestStats=this._suggestStats||{},$.extend(this._suggestStats,{suggestType:this.input.params.suggestType||Lego.params.id,usageType:"not_shown",region:"",nah:"nah_not_shown",buttonByMouse:"",position:0,pos:0,startTime:0,endTime:0,session:(new Date).getTime()+Math.round(1e4*Math.random()),times:[],user_input:"",_submited:!0,ratio:{userValue:0,finalValue:0,userActions:0}}),this._suggestStats},_submitStats:function(t){var e=this._suggestStats;e.text=encodeURIComponent(this.input.val()),e.ratio.userValue=e.user_input.length,e.ratio.finalValue=e.text.length;var n=["session","region","times","pos","text","user_input","ratio","chars","log"];e.exprt&&n.push("exprt");var i=BEM.create("i-statface",{pid:0,cid:2873,url:"http://ya.ru",keys:["suggestType","usageType","position","nah","buttonByMouse","aheadKey"],customKeys:n}),o={};$.each(e,function(t,e){if(void 0!=e)if("object"==typeof e){if(!$.isArray(e)){var n=[];$.each(e,function(t,e){n.push(e)}),e=n}o[t]=e.join(".")}else o[t]=e}),o.position="p"+o.position;var r=(new Date).getTime();return e.startTime&&(n.push("since_first_change"),o.since_first_change=r-e.startTime),e.endTime&&(n.push("since_last_change"),o.since_last_change=r-e.endTime),i.set(o).send(t),this._resetSuggestStats(),this}}),$(document).ready(function(){var t=window.iosClidHS;-1!==window.location.hash.indexOf("#hs")&&t&&$(".b-morda-search-form").append('<input type="hidden" name="clid" value="'+t+'">')}),function(){var t,e,n=function(){for(var e,n=0;e=t[n++];)e.val(e.elem("input").val())},i=function(t){try{return t.activeElement}catch(e){}};BEM.DOM.decl("b-form-input",{onSetMod:{js:function(){var o=this,r=o.elem("input"),a=i(o.__self.doc[0]),s=o.params.autoFocus&&!(a&&$(a).is("input, textarea"));o._val=r.val(),o._input0=r[0],(a===o._input0||s)&&(o._autoFocus=!0,o.setMod("focused","yes")._focused=!0,delete o._autoFocus),e||(t=[],e=o.channel("sys").on({tick:n,idle:function(){e.un("tick",n)},wakeup:function(){e.on("tick",n)}})),o._instanceIndex=t.push(o.bindTo(r,{focus:o._onFocus,blur:o._onBlur}))-1,o.params.shortcut&&o.bindToDoc("keydown",function(t){t.ctrlKey&&38==t.keyCode&&!$(t.target).is("input, textarea")&&o.setMod("focused","yes")})},disabled:function(t,e){this.elem("input").attr("disabled","yes"==e)},focused:function(t,e){if(this.hasMod("disabled","yes"))return!1;var n="yes"==e;n?this._focused||this._focus():this._focused&&this._blur(),this.afterCurrentEvent(function(){this.trigger(n?"focus":"blur")})}},onElemSetMod:{message:{visibility:function(t,e,n){var i=this,o=i.getMod(t,"type");if(o){var r=!0;n||i.elem("message","type",o).each(function(){this!=t[0]&&i.hasMod($(this),"visibility","visible")&&(r=!1)}),r&&i.toggleMod("message-"+o,"yes","","visible"===n)}}}},val:function(t,e){if("undefined"==typeof t)return this._val;if(this._val!=t){var n=this.elem("input");n.val()!=t&&n.val(t),this._val=t,this.trigger("change",e)}return this},getSelectionEnd:function(){var t=this.elem("input")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var n=document.selection.createRange();if(n&&n.parentElement()==t){var i=t.value.length,o=t.createTextRange();o.moveToBookmark(n.getBookmark());var r=t.createTextRange();r.collapse(!1),e=o.compareEndPoints("EndToEnd",r)>-1?i:-o.moveEnd("character",-i)}}return e},name:function(){return this.elem("input").attr("name")},_onFocus:function(){return this._focused=!0,this.setMod("focused","yes")},_onBlur:function(){var t=this;return i(document)===t._input0?(t._focused=!1,t):t._preventBlur?(setTimeout(function(){t._focus()},0),t):(t._focused=!1,t.delMod("focused"))},_focus:function(){var t=this.elem("input")[0];if(t.createTextRange&&!t.selectionStart){var e=t.createTextRange();e.move("character",t.value.length),e.select()}else t.focus()},_blur:function(){this.elem("input").blur()},destruct:function(){this.__base.apply(this,arguments),this.params.shortcut&&this.unbindFromDoc("keydown"),t.splice(this._instanceIndex,1);for(var e,n=this._instanceIndex;e=t[n++];)--e._instanceIndex}}),BEM.HTML.decl("b-form-input",{onBlock:function(t){var e=t.param("id")||t.generateId();t.tag("span").tParam("id",e).tParam("has-clear","yes"===t.mod("has-clear")).tParam("type",t.mod("type")||"input").afterContent({elem:"box",tag:"span",content:{elem:"input",attrs:{value:t.param("value"),name:t.param("name"),id:e}}}).js(!0)},onElem:{input:function(t){t.tag(t.tParam("type"))},label:function(t){t.tag("label").attr("for",t.tParam("id"))},box:function(t){t.tParam("has-clear")&&t.afterContent({elem:"clear",tag:"span"})},hint:function(t){t.tag("label").attr("for",t.tParam("id"))}}})}(),BEM.DOM.decl("b-form-input",{_onBlur:function(){var t=this;return t._preventBlur?(setTimeout(function(){t._focus()},0),t):(t._focused=!1,t.delMod("focused"))}}),function(){var t,e=0,n=!1,i=0,o=BEM.channel("sys"),r=50;BEM.decl("i-system",{},{start:function(){$(document).bind("mousemove keydown",function(){i=0,n&&(n=!1,o.trigger("wakeup"))}),this._tick()},_tick:function(){var a=this;o.trigger("tick",{counter:e++}),!n&&(i+=r)>3e3&&(n=!0,o.trigger("idle")),t=setTimeout(function(){a._tick()},r)}}).start()}(),function(t){function e(){return r.length?r.shift():o?o.clone():o=i()}function n(t){r.push(t)}function i(){var e,n=(a.safari||a.webkit)&&navigator.userAgent.toLowerCase().indexOf("mobile")>-1;if(n)return t("<div/>");try{e=location.hostname!==document.domain}catch(i){e=!0}return t("<iframe"+(a.msie&&a.version<9?' frameborder="0"':"")+(a.msie&&e?" src=\"javascript:void(function(){document.open();document.write('&lt;script&gt;document.domain=\\'"+document.domain+"\\'&lt;/script&gt;');document.close();})()\"":"")+"/>")}var o,r=[],a=t.browser;BEM.DOM.decl("i-popup",{onSetMod:{js:function(){var e=t.browser;e.msie&&parseInt(e.version)>=9&&(this.domElem[0].onresize=function(){this.className+=""})},visibility:{visible:function(){var t=this._getUnder(),e=t.parent();this.hasMod(t,"type","paranja")?e.is("body")||t.appendTo("body"):e[0]!==this.domElem[0]&&t.prependTo(this.domElem),this._inBody||(this._inBody=!!this.domElem.appendTo("body")),this.trigger("show")},"":function(){var t=this._getUnder();this.hasMod(t,"type","paranja")&&t.remove(),this._putUnder(),this.trigger("hide")}}},_getUnder:function(){return this._under||(this._under=e().attr("class",this._underClass||(this._underClass=this.findElem("under").remove().attr("class"))))},_putUnder:function(){n(this._under),delete this._under},show:function(t){return t&&this.domElem.css(t),this.setMod("visibility","visible")},hide:function(){return this.delMod("animate").delMod("visibility")}},{live:!0})}(jQuery),BEM.HTML.decl("i-popup",{onBlock:function(t){t.mod("autoclosable","yes").js(!0).wrapContent({elem:"content"}).afterContent({elem:"under",mods:t.param("underMods"),mix:t.param("underMix")}).param("zIndex")&&t.attr("style","z-index:"+(32700+t.param("zIndex")))}}),function(t){var e=t.browser.opera&&t.browser.version<12.1?"keypress":"keydown";BEM.DOM.decl({name:"i-popup",modName:"autoclosable",modVal:"yes"},{onSetMod:{visibility:{visible:function(){this.afterCurrentEvent(function(){if(this.hasMod("visibility","visible")){var n=this._under;this.bindToDoc("leftclick",function(e){this.containsDomElem(t(e.target))||this._onOutClick(e)}).bindToDoc(e,function(t){27==t.keyCode&&this.hide()}),n&&n.is("iframe")&&this.hasMod(n,"type","paranja")&&this.bindToDomElem(t([n[0].contentWindow,n[0].contentWindow.document]),"leftclick",this._onOutClick)}}),this.__base.apply(this,arguments)},"":function(){return this.unbindFromDoc("leftclick "+e).__base.apply(this,arguments)}}},_onOutClick:function(e){var n=t.Event("outside-click");this.trigger(n,{domEvent:e}),n.isDefaultPrevented()||this.hide()}})}(jQuery),BEM.DOM.decl("b-form-input",{onSetMod:{js:function(){this.__base.apply(this,arguments),(this._hasHint=!!this.elem("hint")[0])&&this.on("change",this._updateHint)._updateHint()},focused:function(){this.__base.apply(this,arguments),this._hasHint&&this._updateHint()}},_updateHint:function(){this.toggleMod(this.elem("hint-wrap"),"visibility","visible",!(this._focused||this.val()))}}),function(){var t={};BEM.decl("i-request",{onSetMod:{js:function(){this._preventCache=!1}},get:function(t,e,n,i){$.isFunction(n)||(i=n,n=this.params.onError),this._get(t,e,n,$.extend({},this.params,i))},_get:function(e,n,i,o){var r=this._buildCacheKey(e,o),a=t[o.cacheGroup];o.cache&&a&&r in a.data?this.afterCurrentEvent(function(){n.call(this.params.callbackCtx,a.data[r])},this):this._do(e,n,i,o)},_do:function(){},_onSuccess:function(t,e,n,i){i.cache&&!this._preventCache&&this.putToCache(i,t,n),this._preventCache=!1},_buildCacheKey:function(t){return"string"==typeof t?t:$.param(t)},putToCache:function(e,n,i){var o=t[e.cacheGroup]||(t[e.cacheGroup]={keys:[],data:{}});o.keys.length>=e.cacheSize&&delete o.data[o.keys.shift()];var r=this._buildCacheKey(n,e);o.data[r]=i,o.keys.push(r)},dropCache:function(){delete t[this.params.cacheGroup]},getDefaultParams:function(){return{cache:!1,cacheGroup:"default",cacheSize:100,callbackCtx:this}}},{_cache:t})}(),BEM.decl({block:"i-request_type_ajax",baseBlock:"i-request"},{onSetMod:{js:function(){this.__base(),this._requestNumber=this._number=this._preventNumber=this._retryCount=0}},_get:function(t,e,n,i){this._number++,this._requestNumber++,this._retryCount=i.retryCount,this.__base.apply(this,arguments)},_do:function(t,e,n,i){var o=this;if(o._number>o._preventNumber){var r=arguments,a={data:i.data?$.extend({},i.data,t):t},s=o._wrapCallback(function(n,r,a){o._onSuccess(o._buildCacheKey(t,i),t,n[0],i),o._allowCallback(r,a)&&e.apply(i.callbackCtx,n)}),u=o._wrapCallback(function(t,e,a){o._allowCallback(e,a)&&(o._retryCount-->0?setTimeout(function(){o._do.apply(o,r)},i.retryInterval):n&&n.apply(i.callbackCtx,t))});$.each(["url","dataType","timeout","type","jsonp","jsonpCallback"].concat(i.paramsToSettings||[]),function(t,e){a[e]=i[e]}),$.ajax(a).done(s).fail(u)}},_wrapCallback:function(t){var e=this._requestNumber,n=this._number;return function(i){null!==i&&t(arguments,e,n)}},_allowCallback:function(t,e){return e>this._preventNumber&&this._requestNumber==t},_buildCacheKey:function(t,e){return"string"==typeof t?t:this.__base(t)+e.url},abort:function(){this._preventNumber=++this._number},preventCallbacks:function(){this.abort()},getDefaultParams:function(){return $.extend(this.__base(),{cache:!0,type:"GET",dataType:"jsonp",timeout:2e4,retryCount:0,retryInterval:2e3})}}),function(t){var e,n=BEM.HTML,i=BEM.DOM;t(function(){t(window).bind("focus",function(){e=document.activeElement})}),i.decl({name:"b-form-input",modName:"autocomplete",modVal:"yes"},{onSetMod:{js:function(){var e=this;e.params.foot&&(e.foot=e.params.foot),e._preventRequest=!0,e._preventPopupShow=!1,e._isPopupShown=!1,e.__base.apply(e,arguments),e._userVal=e.val();var n=e._focused,i=e._autoFocus;n&&e.delMod("focused"),e._input0=e.elem("input").filter("input[autocomplete]").attr("autocomplete","off")[0],e._preventRequest=!1,e._autoFocus=!0,n&&e.setMod("focused","yes"),i||delete e._autoFocus,e._items=[],e._curItemIndex=-1,e._doRequest=t.debounce(e._doRequest,e.params.debounceDelay),e.on("change",e._onChange)},focused:{yes:function(){this.__base(),this.params.showListOnFocus&&!this._autoFocus&&this._onChange()},"":function(){this.__base(),this._preventHide||this._getPopup().hide()}}},onElemSetMod:{popup:{fixed:{yes:function(){this._isPopupShown&&this.afterCurrentEvent(function(){this._updatePopupPos()})},"":function(){this._isPopupShown&&this.afterCurrentEvent(function(){this._updatePopupPos()})}}}},getDataprovider:function(){var e=this.params.dataprovider.url;return this._dataprovider||(this._dataprovider=BEM.create(this.params.dataprovider.name||this.__self.getName()+"__dataprovider",t.extend(this.params.dataprovider,{url:e,callbackCtx:this})))},_onChange:function(){return this._preventRequest||this._doRequest(),this._onChange},_onKeyDown:function(t){var e=this,n=38==t.keyCode||40==t.keyCode;if(n&&!t.shiftKey)if(t.preventDefault(),e._isPopupShown){var i=e._items.length,o=!1;if(i){var r=t.keyCode-39,a=e._curItemIndex,s=0;do o=(0==a&&-1==r||a+r>=i)&&e._onLeaveItem(e._items[a],!0),a+=r,a=0>a?i-1:a>=i?0:a;while(!o&&e._onEnterItem(e._items[a],!0)===!1&&++s<i)}}else e._getHiddenPopup()},_onKeyPress:function(t){13==t.keyCode&&(this._curItemIndex>-1&&this._isCurItemEnteredByKeyboard&&(t.preventDefault(),this._onSelectItem(this._items[this._curItemIndex],!0)),this._getPopup().hide())},_getHiddenPopup:function(){this._preventRequest||this._focused&&!this._isPopupShown&&this._doRequest()},_getPopup:function(){var e=this;if(!e._popup){var o=t.browser.opera&&t.browser.version<12.1?"keypress":"keydown",r=e.__self.getName(),a=[{elem:"items",tag:"ul",mix:[{block:r,elem:"popup-items"}]},{block:"b-form-input",elem:"shadow",tag:"i"}];e._hasPopupFade()&&a.push({block:r,elem:"fade"}),e._popup=t(n.build({block:"i-popup",mix:[{block:r,elem:"popup",mods:e.params.popupMods,js:{uniqId:e._uniqId}}],content:a})).bem("i-popup").on({show:function(){e.trigger("popup-shown").bindTo("keypress",e._onKeyPress).bindToDomElem(t(window),"resize",e._updatePopupPos).unbindFrom("input","click")._isPopupShown=!0},"outside-click":function(n,i){e.containsDomElem(t(i.domEvent.target))&&n.preventDefault()},hide:function(){e.trigger("popup-hidden").unbindFrom("keypress").unbindFromDomElem(t(window),"resize").bindTo("input","click",e._getHiddenPopup)._curItemIndex=-1,e._isPopupShown=!1}}),e.bindTo(o,e._onKeyDown),t.each({mouseover:e._onEnterItem,mouseout:e._onLeaveItem,mousedown:e._onSelectItem,mouseup:e._onItemMouseUp},function(t,n){BEM.blocks["b-autocomplete-item"].on(e._popup.domElem,t,function(t){n.call(e,t.block)})}),i.init(e._popup.domElem)}return e._popup},getPopup:function(){return this._getPopup()},_hasPopupFade:function(){return"yes"==(this.params.popupMods||{}).fade},_updatePopupPos:function(){var t=this.elem("box"),e=t.offset();e.top+=t.outerHeight(),this.hasMod(this.elem("popup"),"fixed")&&(e.top-=i.win.scrollTop()),this._hasPopupFade()&&(e.width=t.outerWidth()),this._preventPopupShow||this._getPopup().show(e)},_onEnterItem:function(t,e){if(t.hasMod("enterable","no"))return!1;var n=this._items,i=this._curItemIndex;i>-1&&n[i].delMod("hovered"),i=this._getItemIndex(t),i>-1&&n[i].setMod("hovered","yes"),this._curItemIndex=i,this._isCurItemEnteredByKeyboard=!!e,e&&this.params.updateOnEnter&&(this._preventRequest=!0,this.val(t.enter()!==!1?t.val():this._userVal,{source:"autocomplete",itemIndex:this._curItemIndex}).del("_preventRequest"))},_onLeaveItem:function(t,e){var n=this._curItemIndex;return n>-1&&n==this._getItemIndex(t)&&(this._items[n].delMod("hovered"),this._curItemIndex=-1),e&&this.val(this._userVal),!0},_onSelectItem:function(t,e){var n=t.select(e||!1),i="object"==typeof n?n.needUpdate:n!==!1,o="object"==typeof n&&n.needEvent;this._preventRequest=!0,this._preventBlur=!e,i&&this.val(this._userVal=t.val(),{source:"autocomplete",itemIndex:this._curItemIndex}),e?this.del("_preventRequest"):(i||(this._preventHide=!0),this.afterCurrentEvent(function(){this.setMod("focused","yes").del("_preventRequest","_preventHide")})),(i||o)&&this.trigger("select",{item:t,byKeyboard:e})},_onItemMouseUp:function(){this.del("_preventBlur")._getPopup().hide()},_getItemIndex:function(e){return t.inArray(e,this._items)},_doRequest:function(){var e=this;e.enablePopup(),e._userVal=e.val(),e.trigger("data-requested").getDataprovider().get(e.val(),function(n){e.trigger("data-received",n);var o=e._getPopup(),r=n.items||n;e.foot&&r.length&&-1==t.inArray(e.foot,r)&&r.push(e.foot),r.length?(e._curItemIndex=-1,i.update(o.elem("items"),e._buildItemsHtml(r),function(){e._updatePopupPos(),e._items=o.findBlocksInside("b-autocomplete-item"),e.trigger("update-items")})):o.hide()})},_buildItemsHtml:function(e){var i=this;return n.build(t.map(e,function(e){var n,o={block:"b-autocomplete-item",data:e,mods:{type:t.isArray(e)?e[0]:"text"},suggestVersion:i.params.dataprovider.version};return t.isArray(e)&&t.isPlainObject(n=e.concat().pop())&&t.extend(o,n),o}))},setFoot:function(t){return this.foot=t},getDefaultParams:function(){return t.extend(this.__base(),{updateOnEnter:!0,debounceDelay:50,showListOnFocus:!0})},enablePopup:function(){this._preventPopupShow=!1},disablePopup:function(){this._preventPopupShow=!0}})}(jQuery),BEM.DOM.decl({name:"b-form-input",modName:"autocomplete",modVal:"yes"},{_updatePopupPos:function(){var t=this.elem("box"),e=t.offset();e.top+=t.outerHeight(),this.hasMod(this.elem("popup"),"fixed")&&(e.top-=BEM.DOM.win.scrollTop()),this._preventPopupShow||this._getPopup().show(e)},_getPopup:function(){var t=this;if(!t._popup){var e=$.browser.opera&&$.browser.version<12.1?"keypress":"keydown",n=t.__self.getName(),i=[{elem:"items",tag:"ul",mix:[{block:n,elem:"popup-items"}]},{block:"b-form-input",elem:"shadow",tag:"i"}];t._hasPopupFade()&&i.push({block:n,elem:"fade"}),t._popup=$(BEM.HTML.build({block:"i-popup",mix:[{block:n,elem:"popup",mods:t.params.popupMods,js:{uniqId:t._uniqId}}],content:i})).bem("i-popup").on({show:function(){t.trigger("popup-shown").bindTo("keypress",t._onKeyPress).bindTo(e,t._onKeyDown).bindToWin("resize",t._updatePopupPos).unbindFrom("input","click")._isPopupShown=!0},"outside-click":function(e,n){t.containsDomElem($(n.domEvent.target))&&e.preventDefault()},hide:function(){t.trigger("popup-hidden").unbindFrom("keypress "+e).unbindFromWin("resize").bindTo("input","click",t._getHiddenPopup)._curItemIndex=-1,t._isPopupShown=!1}}),$.each({mouseover:t._onEnterItem,mouseout:t._onLeaveItem,mousedown:t._onSelectItem,mouseup:t._onItemMouseUp},function(e,n){BEM.blocks["b-autocomplete-item"].on(t._popup.domElem,e,function(e){n.call(t,e.block)})}),BEM.DOM.init(t._popup.domElem)}return t._popup},_onSelectItem:function(t,e){var n=t.select(e||!1),i="object"==typeof n?n.needUpdate:n!==!1,o="object"==typeof n&&n.needEvent;this._preventRequest=!0,this._preventBlur=!e,i&&this.val(this._userVal=t.val(),{source:"autocomplete",itemIndex:this._curItemIndex}),e?this.del("_preventRequest","_preventBlur"):(i||(this._preventHide=!0),this.afterCurrentEvent(function(){this.setMod("focused","yes").del("_preventRequest","_preventHide","_preventBlur")})),(i||o)&&this.trigger("select",{item:t,byKeyboard:e})}}),BEM.decl({name:"b-form-input__dataprovider",baseBlock:"i-request_type_ajax"},{get:function(t,e){return this.__base({part:t},function(t){e.call(this,{items:t[1],metainfo:t[2]})})}}),BEM.decl({name:"b-form-input__dataprovider",baseBlock:"i-request_type_ajax"},{get:function(t,e){var n=this.params.url,i={part:t,pos:this.params.callbackCtx.getSelectionEnd(),yu:Lego.params.yandexuid||"",srv:this.params.callbackCtx.params.suggestType||Lego.params.id||""},o=this._getLR();return o&&!n.match(/lr=(.*?)(?:&|$)/)&&(i.lr=o),this.__base(i,function(t){e.call(this,{items:t[1],metainfo:t[2]})})},_onSuccess:function(t,e,n){n[2]&&n[2].nocache&&(this._preventCache=!0),this.__base.apply(this,arguments)},_getLR:function(){if(this.hasOwnProperty("_lr"))return this._lr;var t=document.getElementsByName("lr");if(t.length)return this._lr=t[0].value;try{if(lrParam=window.location.toString().match(/lr=(.*?)(?:&|$)/))return this._lr=lrParam[1]}catch(e){}return this._lr=""}}),BEM.decl("i-common__string",{},{cleverSubstring:function(){var t="";return function(e,n,i){return e.length>n+i?e.substring(0,n-1)+t:e}}(),escapeHTML:function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return function(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return t[e]||e})}}(),escapeRegExp:function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},highlight:function(t,e){if(!$.isArray(e))return t;var n,i=[],o=0,r=e.sort(function(t,e){return t[0]-e[0]}),a=[],s="?",u=~t.indexOf(s),c=function(){for(var e,n=/\&#\d+;/gi;e=n.exec(t);)a.push(e[0]),t=t.replace(e[0],s)},l=function(t){if(u)return t;for(;~t.indexOf(s)&&a.length;)t=t.replace(s,a[0]),a.shift();return t};return!u&&c(),r.forEach(function(e){n=o>e[0]?o:e[0],i.push({tag:"span",elem:"span",content:l(t.slice(o,n))}),i.push({tag:"em",elem:"em",content:l(t.slice(n,o=e[1]))})},this),i.push({tag:"span",elem:"span",content:l(t.slice(o))}),i}}),BEM.DOM.decl("b-autocomplete-item",{val:function(){return this.params.val||this.elem("text").text()||this.domElem.text()},enter:function(){},select:function(){}},{live:function(){this.liveBindTo("mouseover mouseout mousedown mouseup",function(t){this.trigger(t.type)})}}),BEM.HTML.decl("b-autocomplete-item",{onBlock:function(t){var e=t.param("data"),n=BEM.blocks["i-common__string"].escapeHTML($.isArray(e)?e[1]:e);$.isArray(t.param("search_cgi"))&&t.js({cgi:t.param("search_cgi")}),t.tag("li").mod("pers",t.param("pers")?"yes":!1).content(BEM.blocks["i-common__string"].highlight(n,t.param("hl"))).js(!0)}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"hl"},{onBlock:function(t){t.content($.map(t.param("data").slice(1),function(t){return $.isArray(t)?{tag:"span",elem:"highlight",content:t[0]}:t}))}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"fact"},{onBlock:function(t){var e=t.param("data").slice(1);t.content([{tag:"span",elem:"text",content:BEM.blocks["i-common__string"].highlight(e[0],t.param("hl"))},{tag:"span",elem:"fact",content:["  ",BEM.blocks["i-common__string"].escapeHTML(e[1])]}])}}),BEM.DOM.decl({block:"b-autocomplete-item",modName:"nav",modVal:"yes"},{enter:function(){return!1},select:function(t){return t&&$('<form style="display:none" action="'+this.val()+'" target="_blank"/>').appendTo("body").submit().remove(),{needEvent:!0}}},{getUrl:function(t){return(t.match(/^\w[\w-]*:\/\//g)?"":"http://")+t}}),BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"nav"},{onSetMod:{js:function(){this.setMod("nav","yes")}},enter:function(){return this.__base.apply(this,arguments)},select:function(){return this.__base.apply(this,arguments)}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"nav"},{onBlock:function(t){var e=t.param("data"),n=4==t.param("suggestVersion"),i=e[4]||e[3],o=(i.match(/^\w[\w-]*:\/\//g)?"":"http://")+i;t.js({val:o}).content({elem:"link",url:o,title:BEM.blocks["i-common__string"].escapeHTML(n?e[3]:e[2]),description:BEM.blocks["i-common__string"].highlight(n?e[2]:e[1],t.param("hl"))})},onElem:{link:function(t){t.tag("a").attrs({href:t.param("url"),target:"_blank"}).content([{elem:"link-url",tag:"span",content:t.param("title")},{elem:"link-info",tag:"span",content:["&nbsp;&mdash; "].concat(t.param("description"))}])}}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"nah"},{onBlock:function(t){t.content(t.param("data")[1])}}),BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"href"},{url:function(){return this.findBlockInside("b-link").domElem.attr("href")},enter:function(){return!1},select:function(t){return t&&(location.href=this.url()),!1}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"href"},{onBlock:function(t){var e=t.param("data").slice(1);t.content({block:"b-link",content:e[0],url:e[1]})}}),BEM.HTML.decl("b-link",{onBlock:function(t){t.tag("a").attr("href",t.param("url"));for(var e,n=["title","target"];e=n.pop();)t.param(e)&&t.attr(e,t.param(e))}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"weather"},{onBlock:function(t){var e=t.param("data").slice(1),n=BEM.blocks["i-common__string"].escapeHTML;t.content([{tag:"span",elem:"text",content:n(e[0])},{tag:"i",elem:"icon",mods:{weather:e[2].replace("-","minus-").replace("+","plus-").replace(/_/g,"-")}},{tag:"span",elem:"value",content:n(e[1].replace("-","&ndash;"))}])}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"traffic"},{onBlock:function(t){var e=t.param("data").slice(1),n=BEM.blocks["i-common__string"].escapeHTML;t.content([{tag:"span",elem:"text",content:n(e[0])},{tag:"i",elem:"icon",mods:{traffic:e[2]}},{tag:"span",elem:"value",content:n(e[1])}])}}),BEM.DOM.decl({block:"b-autocomplete-item",modName:"type",modVal:"foot"},{select:function(){return!1}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"foot"},{onBlock:function(t){t.mod("enterable","no").content($.map(t.param("data").slice(1),function(t){return $.isArray(t)?{tag:"span",elem:"foot",content:t[0]}:t}))}}),BEM.HTML.decl("b-autocomplete-item",{onElem:{nav:function(t){var e=BEM.blocks["b-autocomplete-item"].getUrl;t.tag("a").attrs({href:e(t.param("url")),target:"_blank"}).content(t.content)}}}),BEM.HTML.decl({block:"b-autocomplete-item",modName:"type",modVal:"icon"},{onBlock:function(t){var e=t.param("data").slice(1),n=e[0]||"",i=e[1]||{},o=BEM.blocks["i-common__string"].escapeHTML,r=BEM.blocks["b-autocomplete-item"].getUrl;if(i.icon){var a={};Array.isArray(i.icon[0])?i.icon.forEach(function(t){a[t[0]]=t[1]}):a[i.icon[0]]=i.icon[1];var s=a.svg?"background-image:none,url("+a.svg+")":"",u=a.png?"background-image:url("+a.png+");":"",c=[{tag:"span",elem:"text",content:o(n)},{tag:"i",elem:"icon",attrs:{style:u+s}},{tag:"span",elem:"value",content:i.fact&&o(i.fact.replace("-","&ndash;"))}];i.url?t.mod("nav","yes").js({val:r(i.url)}).content({block:"b-autocomplete-item",elem:"nav",url:i.url,content:c}):t.content(c)}}}),BEM.DOM.decl({name:"b-form-input",modName:"suggest",modVal:"yes"},{onSetMod:{js:function(){this.__base(),$.extend(!0,this.params,{popupMods:{suggest:"yes"}})}}}),BEM.DOM.decl({name:"b-form-input",modName:"suggest",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.on("data-received",function(t,e){var n=e.metainfo,i=n.pers_options||n.n;i&&this._toggleNahFoot(1===i)})}},_toggleNahFoot:function(t){var e=/\(\(([^\)]+)\)\)/g,n=Lego.params.tuneURL||"http://tune.yandex.ru",i=Lego.message("b-suggest.hah:linkHref",n+"/suggest/?retpath="+encodeURIComponent(location.protocol+"//"+location.host));this._suggestFoot||(this._suggestFoot=this.setFoot(["foot",(t?BEM.I18N("b-head-search","my-searches-on"):BEM.I18N("b-head-search","my-searches-off")).replace(e,'<a class="b-link" href="'+i+'">$1</a>')]))}}),BEM.DOM.decl({name:"b-form-input",modName:"type",modVal:"autofocus"},{onSetMod:{js:function(){this._preventRequest=!0,this.delMod("focused"),this.setMod("focused","yes")._focused=!0,this.__base.apply(this,arguments),this._preventRequest=!1;var t=this;$(window).bind("keyboardOpened.lego",function(){t.setMod("focused","yes")._focused=!0}),this.bindTo("click",function(){this._preventRequest||this._focused&&!this._isPopupShown&&this._doRequest()})}}}),BEM.DOM.decl({name:"b-form-input",modName:"tap-ahead",modVal:"yes"},{onSetMod:{js:function(){this.__base(),this.buildAhead(),this._input=this.elem("input")[0],this._intent=!1,this._text=this.val(),this._preventAhead=!1,this._lastBackspace=0,this.on({"data-received":this._onDataReceive,change:this._onTextChange,"popup-hidden":this._onPopupHide}).bindTo("mousedown",function(t){if(!this._preventAhead&&t.target===this._input){var e=t.pageX-this.domElem.offset().left-parseInt(this._ahead.css("padding-left"),10),n=this.elem("ahead-filler").width(),i=n+this.elem("ahead-hintholder").width();if(e>n&&i>e){this.trigger("ahead-click");var o=this;setTimeout(function(){o._fill({usage:"mouse"})},0)}}})}},_onKeyDown:function(t){switch(this.__base.apply(this,arguments),new Date-this._lastBackspace>this.params.backspaceDelay&&(this._preventAhead=!1),t.keyCode){case 8:if(!this.params.hideOnBackspace)break;this._preventAhead=!0,this._lastBackspace=new Date,this._intent=this.clearAhead();break;case 9:this._isPopupShown&&(t.preventDefault(),this._fill({usage:"tab"}));break;case 39:this.val().length==this.getSelectionEnd()&&this._fill({usage:"arrow"});break;case 38:case 40:this.clearAhead()}},_onDataReceive:function(t,e){if(this._preventAhead||e.metainfo&&e.metainfo.off_client_tpah)return!1;var n=e.items&&e.items[0],i=this._text,o="object"==typeof n?n[1]:n,r="string"==typeof o&&o.match("^"+BEM.blocks["i-common__string"].escapeRegExp(i.toLowerCase())+"(.*)$");"yes"===this.getMod("tap-ahead-from-server")?this._showAhead(i,e.metainfo["continue"]||"",e):r&&i.length>=this.params.showOverChars?this._showAhead(i,this.params.showFullPhrase?r[1]:r[1].split(" ")[0]):this._intent=this.clearAhead()},_showAhead:function(t,e,n){return n=n||{},n.items&&t===n.items[0]?this.clearAhead():(this.elem("ahead-hintholder").text(e),void(this._intent=this.showAhead(t,t+e)))},_onTextChange:function(){var t=this._text.length-(this._text=this.val()).length;t>0&&this.shiftAhead(t),this._intent&&!this._intent.match("^"+BEM.blocks["i-common__string"].escapeRegExp(this.val()))&&this.clearAhead()},_onPopupHide:function(){this._preventAhead=!0,this.clearAhead()},_fill:function(t){var e=$.extend(t,{chars:this._intent.length-this._text.length});if("string"==typeof this._intent){try{var n=document.createEvent("TextEvent");n.initTextEvent("textInput",!0,!0,null,this._intent.slice(this.val().length),9),this._input.selectionEnd=this._input.selectionStart=this._text.length,this._input.dispatchEvent(n)}catch(i){if(this.val(this._intent),this._input.createTextRange){var o=this._input.createTextRange();o.moveEnd("character",this._text.length),o.collapse(!1),o.select()}}this.trigger("ahead-fill",e)}},getDefaultParams:function(){return $.extend(this.__base(),{showOverChars:3,backspaceDelay:100,hideOnBackspace:!0,showFullPhrase:!1})}}),BEM.DOM.decl("b-form-input",{onSetMod:{js:function(){this.__base(),this._filler="",this._hint=""}},buildAhead:function(){return this._ahead=$(BEM.HTML.build({block:"b-form-input",elem:"ahead"})),BEM.DOM.init(this._ahead.insertBefore(this.elem("input"))),this},_setAhead:function(t,e){return this.elem("ahead-filler").text((this._filler=t)||""),this.elem("ahead-hint").val(!this._preventAhead&&(this._hint=e)||""),e},showAhead:function(t,e){return"undefined"==typeof t&&this.clearAhead(),this._setAhead(t,e)},clearAhead:function(){return this._setAhead("",""),!1},shiftAhead:function(t){this.elem("ahead-filler").text((this._filler=this._filler.slice(0,-t))||"")}}),BEM.HTML.decl("b-form-input",{onElem:{ahead:function(t){t.mix([{block:"b-form-input",elem:"input"}]).content([{elem:"ahead-filler"},{elem:"ahead-hint"},{elem:"ahead-hintholder"}])},"ahead-filler":function(t){t.tag("span")},"ahead-hint":function(t){t.mix([{block:"b-form-input",elem:"input"}]).tag("input").attrs({disabled:!0})},"ahead-hintholder":function(t){t.tag("span")}}}),function(t){BEM.DOM.decl("b-dropdowna",{onSetMod:{js:function(){this._getSwitcher().on("click",this._toggle,this)
},disabled:function(t,e){this._getSwitcher().setMod(t,e),"yes"==e&&this.getPopup().hide()}},_getSwitcher:function(){return this._switcher||(this._switcher=this.findBlockInside("b-"+(this.getMod(this.elem("switcher"),"type")||"link")))},_toggle:function(){this.getPopup().toggle(this.elem("switcher"))},getPopup:function(){return this._popup||(this._popup=this.findBlockInside("b-popupa")).on("outside-click",function(e,n){this._getSwitcher().containsDomElem(t(n.domEvent.target))&&e.preventDefault()},this)},destruct:function(){var t=this._popup;t&&t.destruct(),this.__base.apply(this,arguments)}},{live:function(){this.liveInitOnEvent("switcher","leftclick",function(){})}})}(jQuery),BEM.HTML.decl("b-dropdowna",{onBlock:function(t){t.js(!0)}}),function(t){var e=["down-right","down","down-left","up","up-right","up-left","right-down","right","right-up","left-down","left","left-up"];BEM.DOM.decl("b-popupa",{onSetMod:{js:function(){this._owner=null,this._isShowed=!1,this._direction=this.getMod("direction")||"down",this._lastDirection=null,this._hasTail=!!this.elem("tail").length,this._hasTail||Object.keys(this.params).forEach(function(t){0===t.indexOf("tail")&&(this.params[t]=0)},this)}},show:function(t){return this._isShowed&&this._owner===t||(this._owner=t,this._getUnder().show({left:-1e4,top:-1e4}),this.pos(),this._getUnder().setMod("animate","yes")),this},hide:function(){return this._isShowed&&this._getUnder().hide(),this},toggle:function(t){return this.isShowed()?this.hide():this.show(t)},_pos:function(){var t=this._calcParams(this._owner);return this._hasTail&&this.elem("tail").css(t.tailOffsets),this.setMod("direction",t.direction)._getUnder().show(t.offsets),this},pos:function(){return this._isShowed?this._pos():this},isShowed:function(){return this._isShowed},setDirection:function(t){this._direction!=t&&(this._direction=t,this.isShowed()&&this.pos())},setContent:function(t,e,n){return BEM.DOM.update(this.elem("content"),t,e,n),this.isShowed()?this.pos():this},_isOwnerNode:function(){return!(!this._owner||!this._owner.jquery)},_calcDimensions:function(){var t=this._getUnder().domElem,e=this._getUnder()._getUnder(),n=this.__self.win,i=this._owner,o=this._isOwnerNode(),r=o?i.offset():i,a=o?i.outerWidth():0,s=o?i.outerHeight():0,u=n.scrollLeft(),c=n.scrollTop(),l=this.__self.getWindowSize(),d=parseInt(this.elem("content").css("border-top-width"),10);return{ownerWidth:a,ownerHeight:s,ownerLeft:r.left,ownerTop:r.top,ownerRight:r.left+a,ownerBottom:r.top+s,ownerHorizMiddle:r.left+a/2,ownerVertMiddle:r.top+s/2,posWidth:t.outerWidth(),posHeight:t.outerHeight(),underWidth:e.outerWidth(),underHeight:e.outerHeight(),borderWidth:isNaN(d)?0:d,windowLeft:u,windowRight:u+l.width,windowTop:c,windowBottom:c+l.height}},_calcParams:function(){var e=this._calcDimensions();if(this.hasMod("adjustable","no"))return this.calcDirectionParams(this._direction,e);var n={},i=this.params.directions,o=t.inArray(this._direction,i);o>-1||(o=0);var r,a,s=o;do{if(r=i[o],a=n[r]=this.calcDirectionParams(r,e),!a.factor)return this._lastDirection=r,a;++o==i.length&&(o=0)}while(o!==s);return n[this._lastDirection||i[0]]},calcDirectionParams:function(t,e){var n,i=this.params,o={top:0,left:0},r={marginLeft:0,marginTop:0},a=t.split("-")[0],s=this._hasTail&&e.ownerWidth<i.tailWidthVertical?(i.tailWidthVertical-e.ownerWidth)/2:0,u=this._hasTail&&e.ownerHeight<i.tailHeightHorizontal?(i.tailHeightHorizontal-e.ownerHeight)/2:0;switch(t){case"up":case"down":o.left=e.ownerHorizMiddle-e.posWidth/2,o.top="down"==t?e.ownerBottom+i.tailHeightVertical:e.ownerTop-e.posHeight-i.tailHeightVertical,r.marginLeft=e.posWidth/2-i.tailWidthVertical/2,r.marginTop="down"==t?0-i.tailHeightVertical:0;break;case"up-left":case"up-right":case"down-left":case"down-right":o.left="down-right"==t||"up-right"==t?e.ownerLeft-s:e.ownerRight-e.posWidth+s,o.top="down"==a?e.ownerBottom+i.tailHeightVertical:e.ownerTop-e.posHeight-i.tailHeightVertical,r.marginLeft=e.ownerWidth>e.posWidth?e.posWidth/2-i.tailWidthVertical/2:e.ownerHorizMiddle-o.left-i.tailWidthVertical/2,r.marginTop="down"==a?e.borderWidth-i.tailHeightVertical:0-e.borderWidth;break;case"left-down":case"right-down":o.left="left-down"==t?e.ownerLeft-e.posWidth-i.tailWidthHorizontal:e.ownerRight+i.tailWidthHorizontal,o.top=e.ownerTop-u,r.marginLeft="left-down"==t?0-e.borderWidth:e.borderWidth-i.tailWidthHorizontal,r.marginTop=e.ownerHeight<e.posHeight?e.ownerVertMiddle-o.top-i.tailHeightHorizontal/2:e.posHeight/2-i.tailHeightHorizontal/2;break;case"left":case"right":o.left="left"==t?e.ownerLeft-e.posWidth-i.tailWidthHorizontal:e.ownerRight+i.tailWidthHorizontal,o.top=e.ownerVertMiddle-e.posHeight/2,r.marginLeft="left"==t?0-e.borderWidth:e.borderWidth-i.tailWidthHorizontal,r.marginTop=e.posHeight/2-i.tailHeightHorizontal/2;break;case"left-up":case"right-up":o.left="left-up"==t?e.ownerLeft-e.posWidth-i.tailWidthHorizontal:e.ownerRight+i.tailWidthHorizontal,o.top=e.ownerBottom-e.posHeight+u,r.marginLeft="left"==a?0-e.borderWidth:e.borderWidth-i.tailWidthHorizontal,r.marginTop=e.ownerHeight>e.posHeight?e.posHeight/2-i.tailHeightHorizontal/2:e.ownerVertMiddle-o.top-i.tailHeightHorizontal/2}return n=this.calcInWindowFactor(o,e),{direction:a,factor:n,offsets:o,tailOffsets:r}},calcInWindowFactor:function(t,e){var n=0;return e.windowTop>t.top&&(n+=e.windowTop-t.top),t.top+e.underHeight>e.windowBottom&&(n+=t.top+e.underHeight-e.windowBottom),e.windowLeft>t.left&&(n+=e.windowLeft-t.left),t.left+e.underWidth>e.windowRight&&(n+=t.left+e.underWidth-e.windowRight),n},getDefaultParams:function(){return{tailOffset:19,tailWidthHorizontal:9,tailWidthVertical:19,tailHeightHorizontal:19,tailHeightVertical:10,shadowSize:7,directions:e}},destruct:function(){var t=this._under;t?this._destructing||(this._destructing=!0,this.hide(),BEM.DOM.destruct(!1,t.domElem),this.__base(!0)):this.__base.apply(this,arguments)},_getUnder:function(){if(!this._under){var e=t(BEM.HTML.build({block:"i-popup",zIndex:this.params.zIndex,mods:{autoclosable:this.getMod("autoclosable")||"yes",fixed:this.hasMod("direction","fixed")&&"yes"},underMods:this.params.underMods,underMix:[{block:"b-popupa",elem:"under"}]}));(this._under=this.findBlockOn(e,"i-popup")).on({show:this._onUnderShowed,hide:this._onUnderHidden,"outside-click":this._onUnderOutsideClicked},this).elem("content").append(this.domElem)}return this._under},_onUnderShowed:function(){this._isShowed=!0,this.bindToDomElem(t(window),"resize",this.pos)._isOwnerNode()&&this.bindToDomElem(this._owner.parents().add(this.__self.win),"scroll",this.pos),this.trigger("show")},_onUnderHidden:function(){this._isShowed=!1,this.unbindFromDomElem(t(window),"resize")._isOwnerNode()&&this.unbindFromDomElem(this._owner.parents().add(this.__self.win),"scroll"),this.trigger("hide")},_onUnderOutsideClicked:function(){this.trigger.apply(this,arguments)}},{live:function(){this.liveBindTo("close","leftclick",function(){this.hide()})}}),BEM.HTML.decl("b-popupa",{onBlock:function(e){var n=!1;t.each(e.param("content"),function(t,e){return!(n="close"==e.elem)}),e.mods({theme:"ffffff",direction:"down","has-close":n&&"yes"}).js(!0).afterContent({elem:"shadow"})},onElem:{content:function(t){t.wrap({elem:"wrap-cell",tag:"td"}).wrap({tag:"tr"}).wrap({elem:"wrap",tag:"table"})},close:function(t){t.tag("i")},shadow:function(t){t.tag("i")},tail:function(t){t.tag("i").wrapContent({elem:"tail-i",tag:"i"})}}})}(jQuery),BEM.DOM.decl("b-popupa",{immediateHide:function(){return this._isShowed&&this._getUnder().delMod("animate").delMod("visibility"),this},onSetMod:{overlapping:{yes:function(){this.afterCurrentEvent(function(){this._bindOnShowHide()})}}},_pos:function(){var t=this._calcParams(this._owner);return this.elem("tail")&&this.elem("tail").css(t.tailOffsets),this.setMod("direction",t.direction)._getUnder().show(t.offsets),this}}),BEM.HTML.decl("b-dropdowna",{onElem:{switcher:function(t){t.tag("span")}}}),function(t,e){BEM.DOM.decl("b-head-tabs",{onSetMod:{js:function(){e.block["b-head-tabs"].call(this,this.params)}}});var n=e.block["b-head-tabs"]=function(e){function i(e,n){var i=p[e]||{};return!i.clid&&n&&(i.clid=n),t.each(g[e]||[],function(){h[this]&&(i[this]=h[this])}),i}function o(e,n){var i=[].concat(b[e]),o=e+d;("imageswww"==o||"wwwimages"==o)&&i.push("site");var r=m[e]||{};return t.each(i,function(){h[this]&&(r[this]=h[this])}),!r.clid&&n&&"www"!==e&&(r.clid=n),r}function r(e){var n={};return e?(t.each(e.substr(1).split("&"),function(){var e=this.split("="),i=e[0],o=e[1];if(i)if(n.hasOwnProperty(i)){var r=n[i];t.isArray(r)?r.push(o):n[i]=[r,o]}else n[i]=o}),void 0!==t.decodeURIComponent?a(n):n):n}function a(e){var n=["site"];return t.each(e,function(i,o){t.inArray(i,n)>-1&&(e[i]=t.isArray(o)?o.map(function(e){return t.decodeURIComponent(e)}):t.decodeURIComponent(o))}),e}var s,u=this.findBlockOutside("b-page").findBlockInside("b-head-search"),c=u&&u.findBlockInside("b-search"),l=c&&c.findBlockInside("b-form-input"),d=BEM.blocks["i-global"].param("id"),h=function(){var e=r(window.location.search),n=/^#.*(\?.+)$/.exec(window.location.hash);return n&&t.extend(e,r(n[1])),e}(),f={www:505,search:521,images:526}[d]||527,p={market:{cvredirect:2,clid:f}},m={news:{rpt:"nnews2",grhow:"clutop"},haber:{rpt:"nnews2",grhow:"clutop"},yaca:{rpt:"rs2"},market:{cvredirect:2,clid:f},blogs:{ft:"blog"},people:{filter:"people"},appsearch:{filter:"mobile_apps"}},g=function(){var e={};return t.each(["news","yaca","market","blogs","maps","adresa","video","fotki","slovari","auto","images","music","www","aile","yandex","haber","gorsel"],function(){e[this]=["family"]}),e}(),b=function(){var e={};return t.each(["news","yaca","market","blogs","maps","adresa","video","fotki","slovari","auto","images","music","www","aile","yandex","haber","gorsel"],function(){e[this]=["noreask","family"]}),e}(),_=this.domElem.find(':not(strong)>a.b-head-tabs__link:not([href$="/all"])').map(function(){var e=this.host.split(".")[0],a=r(this.search),s=a.clid,u=decodeURIComponent(t.param(t.extend(a,i(e,s)),!0)),c=this.pathname.replace(/^\/?(.*)/,"/$1"),l=n.getHostToUrlMap()[e];return l&&c.indexOf(("/"===l.charAt(0)?"":"/")+l)>-1&&(l=""),c=c.slice(1),c.length&&(c=c.replace(/\/*$/,"/")),{node:this,clid:s,toServiceId:e,path:l,pathname:c,host:this.host,searchHost:n.getHostMap()[e],noSearchParamsUrl:u?"?"+u:"",searchParams:t.extend(a,o(e,s))}}).filter(function(){return"undefined"!=typeof this.path}),v=c&&c.elem("advanced")[0];if(v&&v.pathname){var y=r(v.search),w=v.pathname.replace(/^\/?(.*)/,"$1");y.text="",_.push({node:v,clid:y.clid,toServiceId:d,path:"",pathname:w,host:v.host,noSearchParamsUrl:"?"+t.param(y,!0),searchParams:y})}!function(){var i=l&&t.trim(l.val())||e["default"];s!=i&&(s=i,t.each(_,function(){i&&(this.searchParams[n.getSearchParamName(this.toServiceId)]=i),this.node.href=[this.node.protocol+"/",i&&this.searchHost?this.searchHost:this.host,this.pathname+(i?this.path+"?"+t.param(this.searchParams,!0):this.noSearchParamsUrl)].join("/")})),setTimeout(arguments.callee,200)}()};t.extend(n,{getHostToUrlMap:function(){var t={www:"yandsearch",market:"search.xml",maps:"",music:"#!/search",video:"search"};return t.translate=t.ceviri=t.harita=t.maps,t.blogs=t.adresa=t.fotki=t.slovari=t.auto=t.rabota=t.market,t.appsearch=t.people=t.news=t.yaca=t.images=t.gorsel=t.haber=t.yandex=t.www,t.afisha=t.pogoda=t.hava=t.video,t},getHostMap:function(){return{}},getSearchParamName:function(t){switch(t){case"pogoda":case"hava":return"request";default:return"text"}}})}(jQuery,window.Lego),$(document).ready(function(){function t(t,e){return t+(e.length?(-1!==t.indexOf("?")?"&":"?")+e:"")}function e(t){return tabParams.searchParamName&&tabParams.searchParamName[t]?tabParams.searchParamName[t]:""}function n(){var n=encodeURIComponent($.trim(i.val()));a&&n===r||(a=!0,r=n,o.map(function(){var i,o,r,a=(this.host,$(this).attr("id").split("-")[1]),s="",u="",c="";if(tabParams.url[a]&&(i=tabParams.url[a]),tabParams.searchUrl[a]&&(r=tabParams.searchUrl[a]),n&&r||!tabParams.noSearchDefParamsMap||!tabParams.noSearchDefParamsMap[a]?n&&tabParams.searchDefParamsMap&&tabParams.searchDefParamsMap[a]&&(s=$.param(tabParams.searchDefParamsMap[a])):s=$.param(tabParams.noSearchDefParamsMap[a]),u=$.param(tabParams.commonParams),c=[u,s].filter(function(t){return t.length}).join("&"),r&&n||(o=t(i,c)),r&&n){var l=e(a);o=t(r,c),o=t(o,l+"="+n)}$(this).attr("href",o)}))}if(window.tabParams){var i=$("#text"),o=$("a.b-head-tabs__tab-link:not(.b-link_pseudo_yes)");if(i.length||(i=tabParams.elemSearch),!o.length&&tabParams.elemTabs&&(o=tabParams.elemTabs),i.length&&o.length){var r="",a=!1;setInterval(n,200)}}}),BEM.DOM.decl("b-head-tabs",{onSetMod:{js:function(){var t=this.findBlockInside("b-popupa");t&&(t.on("show",function(){this.afterCurrentEvent(function(){$(window).trigger("balance.b-twocolumns")})}),t.on("hide",function(){$(window).trigger("unbalance.b-twocolumns")}))}}}),BEM.DOM.decl({name:"b-link",modName:"pseudo",modVal:"yes"},{_onClick:function(t){t.preventDefault(),this.hasMod("disabled","yes")||this.afterCurrentEvent(function(){this.trigger("click")})}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo({modName:"pseudo",modVal:"yes"},"leftclick",function(t){this._onClick(t)})}}),BEM.HTML.decl({name:"b-link",modName:"pseudo",modVal:"yes"},{onBlock:function(t){t.tag(t.param("url")?"a":"span"),t.wrapContent({elem:"inner"}),t.js(!0)},onElem:{inner:function(t){t.tag("span")}}}),function(t){function e(){var n;t(window).unbind("resize.b-twocolumns").bind("resize.b-twocolumns",e);var i=r.children(":visible").length-a.children(":visible").length;if(-1>i)for(n=0;-i>n;n+=2)r.append(a.children().first());else if(i>1)for(n=0;i>n;n+=2)a.prepend(r.children().last())}var n=t("<div></div>")[0],i=["MozColumnCount","columnCount","WebkitColumnCount"].some(function(t){return t in n.style});if(!i){var o=t(".b-twocolumn").not(".b-morda-search_nojs .b-twocolumn").children(),r=t('<div class="b-twocolumn__left"></div>'),a=t('<div class="b-twocolumn__right"></div>'),s=Math.ceil(o.length/2)+1;o.each(function(t){(s>t?r:a).append(this)}),t(".b-twocolumn").append(r).append(a),t(window).bind("balance.b-twocolumns",e),t(window).bind("unbalance.b-twocolumns",function(){t(window).unbind("resize.b-twocolumns")})}}(jQuery),BEM.DOM.decl("b-keyboard-loader",{onSetMod:{js:function(){Lego.block["b-keyboard-loader"].call(this.domElem,this.params)}}}),function(t,e){e.block["b-keyboard-loader"]=function(n){function i(n){var i=n?"addClass":"toggleClass",o=u.find(".b-keyboard-popup"),r=e.block["b-keyboard"]._lastFocusedIn;o.length&&(u.find(".b-keyboard-popup__gap")[i]("i-hidden"),u.find(".b-keyboard-popup")[i]("i-hidden").hasClass("i-hidden")?(c.trigger("keyboardClosed"),t(document).trigger("popupsClose.lego"),r&&r.focus()):c.trigger("keyboardOpened.lego"),o.data("isHidden",!1))}function o(){d||(e.cp(0,70873,BEM.blocks["i-global"].param("id")+"."+(n.autoLoad?"auto":"manual")),d=!0)}function r(t){return a()[t]}function a(){var e={};return t.each(window.name.split("&"),function(){if(this.toString()){var t=this.split("=");e[t[0]]=t[1]}}),e}function s(e,n){var i=a(),o=[];i[e]=n,t.each(i,function(t,e){o.push(t+"="+e)}),window.name=o.join("&")}var u=t(document.body),c=t(window),l=this;l.click(function(o){o.preventDefault();var r=t(this),a=(this.className.match(/b-keyboard-loader_lang_(\w+)/)||["",""])[1];if(u.find(".b-keyboard")[0])i();else{var s=BEM.blocks["i-global"].param("lego-static-host"),l=s+("/"===s.charAt(s.length-1)?"":"/")+"blocks-desktop/",d=[l+"b-keyboard/_keyboard.js"],h=t.browser.msie&&(!document.documentMode||document.documentMode<9)?".ie":"",f=[l+"b-keyboard/_keyboard"+h+".css"];r.append('<i class="b-keyboard-loader__progress"/>'),t.xLazyLoader({name:"b-keyboard",js:d,css:f,success:function(){e.block["b-keyboard-popup"]({lang:a,"for":n["for"]}),u.append("<div class=\"b-keyboard i-bem\" onclick=\"return {'b-keyboard': { lang:'"+a+"'}};\"></div>"),BEM.DOM.init(t(".b-keyboard")),r.find(".b-keyboard-loader__progress").remove(),c.trigger("keyboardOpened.lego",{afterLoad:!0})}})}}),c.bind("keyboardOpen.lego",function(){l.click()}).bind("keyboardClose.lego",i),n["for"]&&c.bind("keyboardOpened.lego",function(e,i){!(i&&i.afterLoad&&n.autoLoad)&&t(n["for"]).focus()}),c.bind("keyboardLangChanged.lego keyboardSetLang.lego",function(t,e){var n=l.find(".b-keyboard-loader__flag");n[0]&&("tt"===e&&(e="ru"),n.attr("src",n.attr("src").replace(/[a-z]+\.png$/,e+".png")))}),n.storeState=n.storeState!==!1,n.storeState&&c.bind("keyboardOpened.lego",function(){s("keyboard_state","open");var e=r("keyboard_lang");e&&t(window).trigger("keyboardSetLang.lego",e)}).bind("keyboardClosed.lego",function(){s("keyboard_state","close")}).bind("keyboardLangChanged.lego",function(t,e){s("keyboard_lang",e)}),(n.autoLoad=n.autoLoad||n.storeState&&"open"==r("keyboard_state"))&&l.click();var d;c.bind("keyboardOpened.lego",function(){o(),t("input:focus").focus()})}}(jQuery,window.Lego),function(t){function e(){function e(t,e){l[t](e,function(t){"error"==t?h.push(e):d.push(e)&&a.each(e),o()},"lazy-loaded-"+(a.name?a.name:(new Date).getTime()))}function i(t){a.complete(t,d,h),a[t]("error"==t?h:d),clearTimeout(s),clearTimeout(u)}function o(){d.length==f.length?i("success"):d.length+h.length==f.length&&i("error")}function r(){h.push(this.src),o()}var a,s,u,c,l=this,d=[],h=[],f=[];this.init=function(n){if(n){if(a=t.extend({},t.xLazyLoader.defaults,n),c={js:a.js,css:a.css,img:a.img},t.each(c,function(t,e){"string"==typeof e&&(e=e.split(",")),f=f.concat(e)}),!f.length)return void i("error");a.timeout&&(s=setTimeout(function(){var e=d.concat(h);t.each(f,function(n,i){-1==t.inArray(i,e)&&h.push(i)}),i("error")},a.timeout)),t.each(c,function(n,i){t.isArray(i)?t.each(i,function(t,i){e(n,i)}):"string"==typeof i&&e(n,i)})}},this.js=function(e,i){var o=t('script[src*="'+e+'"]');if(o.length)return void(o.attr("pending")?o.bind("scriptload",i):i());var a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("charset","utf-8"),a.setAttribute("src",e),a.setAttribute("pending",1),a.onerror=r,t(a).bind("scriptload",function(){t(this).removeAttr("pending"),i(),setTimeout(function(){t(a).unbind("scriptload")},10)});var s=!1;a.onload=a.onreadystatechange=function(){s||this.readyState&&!/loaded|complete/.test(this.readyState)||(s=!0,a.onload=a.onreadystatechange=null,t(a).trigger("scriptload"))},n.appendChild(a)},this.css=function(e,i){if(t('link[href*="'+e+'"]').length)return void i();var o=document.createElement("link");o.setAttribute("type","text/css"),o.setAttribute("rel","stylesheet"),o.setAttribute("href",e),t.browser.msie?o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&i()}:t.browser.opera?o.onload=i:!function(){o&&o.sheet?i():u=setTimeout(arguments.callee,20)}(),n.appendChild(o)},this.img=function(t,e){var n=new Image;n.onload=e,n.onerror=r,n.src=t},this.disable=function(e){t("#lazy-loaded-"+e,n).attr("disabled","disabled")},this.enable=function(e){t("#lazy-loaded-"+e,n).removeAttr("disabled")},this.destroy=function(e){t("#lazy-loaded-"+e,n).remove()}}t.xLazyLoader=function(t,n){"object"==typeof t&&(n=t,t="init"),(new e)[t](n)},t.xLazyLoader.defaults={js:[],css:[],img:[],name:null,timeout:2e4,success:function(){},error:function(){},complete:function(){},each:function(){}};var n=document.getElementsByTagName("head")[0]}(jQuery),BEM.DOM.decl("b-keyboard-loader",{onSetMod:{js:function(){var t=this;Lego.block["b-keyboard-loader"].call(this.domElem,this.params),$(window).on("keyboardOpened.lego",function(){t.params.statOpen&&cp(t.params.statOpen)}).on("keyboardClosed.lego",function(e){"lego"===e.namespace&&t.params.statClose&&cp(t.params.statClose)})}}}),function(t,e){e.block["b-keyboard-loader"]=function(n){function i(n){t("body").removeClass("b-page_keyboard");var i=n?"addClass":"toggleClass",o=u.find(".b-keyboard-popup");if(o.length){if(u.find(".b-keyboard-popup__gap")[i]("i-hidden"),u.find(".b-keyboard-popup")[i]("i-hidden").hasClass("i-hidden")){c.trigger("keyboardClosed"),t(document).trigger("popupsClose.lego");var r=e.block["b-keyboard"]._lastFocusedIn;void 0!==r&&r.focus()}else c.trigger("keyboardOpened.lego");o.data("isHidden",!1)}}function o(){h||(e.cp(0,70873,BEM.blocks["i-global"].param("id")+"."+(n.autoLoad?"auto":"manual")),h=!0)}function r(t){return a()[t]}function a(){var e={};return t.each(window.name.split("&"),function(){if(this.toString()){var t=this.split("=");e[t[0]]=t[1]}}),e}function s(e,n){var i=a(),o=[];i[e]=n,t.each(i,function(t,e){o.push(t+"="+e)}),window.name=o.join("&")}var u=t(document.body),c=t(window),l=this;l.click(function(o){o.preventDefault();var r=t(this),a=(this.className.match(/b-keyboard-loader_lang_(\w+)/)||["",""])[1];if(u.find(".b-keyboard")[0])i();else{var s=BEM.blocks["i-global"].param("lego-static-host-keyboard"),l=s+("/"===s.charAt(s.length-1)?"":"/")+"blocks-desktop/",d=[l+"b-keyboard/_keyboard.js"],h=t.browser.msie&&(!document.documentMode||document.documentMode<9)?".ie":"",f=[l+"b-keyboard/_keyboard"+h+".css"];r.append('<i class="b-keyboard-loader__progress"/>'),t.xLazyLoader({name:"b-keyboard",js:d,css:f,success:function(){e.block["b-keyboard-popup"]({lang:a,"for":n["for"]}),u.append("<div class=\"b-keyboard i-bem\" onclick=\"return {'b-keyboard': { lang:'"+a+"'}};\"></div>"),BEM.DOM.init(t(".b-keyboard")),r.find(".b-keyboard-loader__progress").remove(),c.trigger("keyboardOpened.lego",{afterLoad:!0}),t(".b-keyboard").on("click",".b-keyboard__key",function(){var e=t("#text").offset().top;t(".b-keyboard-popup").offset().top<e+30&&window.scrollTo(0,e-20)})}})}}),c.bind("keyboardOpen.lego",function(){l.click()}).bind("keyboardClose.lego",i),n["for"]&&c.bind("keyboardOpened.lego",function(e,i){!(i&&i.afterLoad&&n.autoLoad)&&t(n["for"]).focus()}),c.bind("keyboardLangChanged.lego keyboardSetLang.lego",function(t,e){var n=l.find(".b-keyboard-loader__flag");n[0]&&("tt"===e&&(e="ru"),n.attr("src",n.attr("src").replace(/[a-z]+\.png$/,e+".png")))}),n.storeState=n.storeState!==!1,n.storeState&&c.bind("keyboardOpened.lego",function(){s("keyboard_state","open");var e=r("keyboard_lang");e&&t(window).trigger("keyboardSetLang.lego",e)}).bind("keyboardClosed.lego",function(){t("body").removeClass("b-page_keyboard"),s("keyboard_state","close")}).bind("keyboardLangChanged.lego",function(t,e){s("keyboard_lang",e)});var d="#kb"===window.location.hash;(n.autoLoad=n.autoLoad||n.storeState&&"open"===r("keyboard_state")||d)&&l.click();var h;c.bind("keyboardOpened.lego",function(){o(),t("input:focus").focus(),t("body").addClass("b-page_keyboard")})}}(jQuery,window.Lego),function(t){function e(){function e(t,e){l[t](e,function(t){"error"==t?h.push(e):d.push(e)&&a.each(e),o()},"lazy-loaded-"+(a.name?a.name:(new Date).getTime()))}function i(t){a.complete(t,d,h),a[t]("error"==t?h:d),clearTimeout(s),clearTimeout(u)}function o(){d.length==f.length?i("success"):d.length+h.length==f.length&&i("error")}function r(){h.push(this.src),o()}var a,s,u,c,l=this,d=[],h=[],f=[];this.init=function(n){if(n){if(a=t.extend({},t.xLazyLoader.defaults,n),c={js:a.js,css:a.css,img:a.img},t.each(c,function(t,e){"string"==typeof e&&(e=e.split(",")),f=f.concat(e)}),!f.length)return void i("error");a.timeout&&(s=setTimeout(function(){var e=d.concat(h);t.each(f,function(n,i){-1==t.inArray(i,e)&&h.push(i)}),i("error")},a.timeout)),t.each(c,function(n,i){t.isArray(i)?t.each(i,function(t,i){e(n,i)}):"string"==typeof i&&e(n,i)})}},this.js=function(e,i){var o=t('script[src*="'+e+'"]');if(o.length)return void(o.attr("pending")?o.bind("scriptload",i):i());var a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("charset","utf-8"),a.setAttribute("src",e),a.setAttribute("pending",1),a.onerror=r,t(a).bind("scriptload",function(){t(this).removeAttr("pending"),i(),setTimeout(function(){t(a).unbind("scriptload")},10)});var s=!1;a.onload=a.onreadystatechange=function(){s||this.readyState&&!/loaded|complete/.test(this.readyState)||(s=!0,a.onload=a.onreadystatechange=null,t(a).trigger("scriptload"))},n.appendChild(a)},this.css=function(e,i){if(t('link[href*="'+e+'"]').length)return void i();var o=document.createElement("link");o.setAttribute("type","text/css"),o.setAttribute("rel","stylesheet"),o.setAttribute("href",e),t.browser.msie?o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&i()}:t.browser.opera?o.onload=i:!function(){o&&o.sheet?i():u=setTimeout(arguments.callee,20)}(),n.appendChild(o)},this.img=function(t,e){var n=new Image;n.onload=e,n.onerror=r,n.src=t},this.disable=function(e){t("#lazy-loaded-"+e,n).attr("disabled","disabled")},this.enable=function(e){t("#lazy-loaded-"+e,n).removeAttr("disabled")},this.destroy=function(e){t("#lazy-loaded-"+e,n).remove()}}t.xLazyLoader=function(t,n){"object"==typeof t&&(n=t,t="init"),(new e)[t](n)},t.xLazyLoader.defaults={js:[],css:[],img:[],name:null,timeout:2e4,success:function(){},error:function(){},complete:function(){},each:function(){}};var n=document.getElementsByTagName("head")[0]}(jQuery),BEM.DOM.decl("b-menu",{onElemSetMod:{trigger:{state:function(t,e,n){this.toggleMod(this.findElem(t.closest(this.buildSelector("layout-vert-cell")),"item-content").eq(0),"visibility","visible","opened"==n).trigger("trigger",{domElem:t,state:n})}},item:{state:{current:function(t){var e=this,n=e.__self.getName(),i=e.elem("item","state","current").filter(function(){return $(this).closest(e.buildSelector()).bem(n)===e});e.findElem(t.parents(e.buildSelector("item-content")).prev(e.buildSelector("item")),"trigger").each(function(){e.setMod($(this),"state","opened")}),e.delMod(i,"state").trigger("current",{prev:i,current:t})}}}},onTriggerClick:function(t){t.preventDefault(),this.toggleMod(t.data.domElem,"state","opened")},onItemSelectorClick:function(t){var e=this._getItemByEvent(t);this.hasMod(e,"state","disabled")||this.setMod(e,"state","current")},_getItemByEvent:function(t){return t.data.domElem.closest(this.buildSelector("item"))}},{live:function(){this.liveBindTo("trigger","leftclick",function(t){this.onTriggerClick(t)}).liveBindTo("item-selector","leftclick",function(t){this.onItemSelectorClick(t)})}}),BEM.DOM.decl("b-keyboard-popup",{onSetMod:{js:function(){Lego.block["b-keyboard-popup"].call(this.domElem,this.params)}}}),function(t,e){e.block["b-keyboard-popup"]=function(n){var i=t('<div class="b-keyboard-popup__gap"/><div class="b-keyboard-popup"><div class="b-keyboard-popup__bar"><span class="b-keyboard-popup__bar-link b-keyboard-popup__close"><img class="b-icon" src="//yandex.st/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif">'+BEM.I18N("b-keyboard-popup","close")+"</span></div><div class=\"b-keyboard i-bem\" onclick=\"return {name: 'b-keyboard',fake: false,lang: '"+n.lang+"'"+(n["for"]?",'for': '"+n["for"]+"'":"")+'};"/></div>').appendTo("body"),o=i.filter(".b-keyboard-popup"),r=(i.filter(".b-keyboard-popup__gap"),function(t){return"undefined"==typeof t?o.data("isHidden"):void o.data("isHidden",t)}),a=function(){r()||(i.addClass("i-hidden"),t(window).trigger("keyboardClosed.lego"),r(!0))};t(document).bind("popupsClose.lego",function(e,n){r()||n&&n.source&&t.contains(o[0],n.source)||a()}),i.find(".b-keyboard-popup__close").click(function(){a();var t=e.block["b-keyboard"]._lastFocusedIn;t&&t.focus()})}}(jQuery,window.Lego);var i18n=i18n||{};!function(t,e){function n(t){return"string"==typeof t&&(t={block:t}),t.block+(t.elem?l+t.elem:"")+(t.modName?c+t.modName+c+t.modVal:"")}function i(t){var e={};return t.split(l).forEach(function(t,n){var i=[n?"elem":"block","mod","val"];t.split(c).forEach(function(t,n){e[i[n]]=t})}),e}function o(t){return t?u.push(t):!1}function r(){return u.length&&u.pop()}function a(){this._lang="",this._prj="lego",this._keyset="",this._key=""}if("function"==typeof e.I18N&&e.I18N._proto)return e.I18N;var s={},u=[],c="_",l="__",d="ru";a.prototype={lang:function(t){return this._lang=t,this},project:function(t){return this._prj=t,this},keyset:function(t,e){return e&&o(this._keyset),this._keyset=n(t),this},key:function(t){return this._key=t,this},decl:function(t){var e=i(this._keyset),n="i-tanker"===e.block?"tanker":this._prj,o=e.elem||this._keyset,r=this._key;n=i18n[n]||(i18n[n]={}),o=n[o]||(n[o]={}),o[r]="function"==typeof t?t:function(){return t};var a=s[this._lang]||(s[this._lang]={}),u=a[this._keyset]||(a[this._keyset]={});u[r]=t},val:function(t,e){var n=s[this._lang]&&s[this._lang][this._keyset];if(!n)return console&&console.log&&console.log("[Error] keyset: "+this._keyset+" key: "+this._key+" (lang: "+this._lang+")"),"";if(n=n[this._key],!n)return"";try{return"string"==typeof n?n:e?n.call(e,t):n.call(this,t)}catch(i){throw"[Error] keyset: "+this._keyset+" key: "+this._key+" (lang: "+this._lang+")"}},_c:function(){return s}},e.I18N=function(t){var e=function(t,n,i){return e.keyset(t).key(n,i)};return e._proto=t,e.project=function(t){return this._proto.project(t),this},e.keyset=function(t){return this._proto.keyset(t,!0),this},e.key=function(t,n){var i,o,a=this._proto;return a.lang(this._lang).key(t),i=a.val.call(a,n,e),o=r(),o&&a.keyset(o,!1),i},e.decl=function(t,e,n){var i,o=this._proto;n||(n={}),n.lang&&o.lang(n.lang),o.keyset(t);for(i in e)e.hasOwnProperty(i)&&o.key(i).decl(e[i]);return this},e.lang=function(t){return"undefined"!=typeof t&&(this._lang=t),this._lang},e.lang(d),e}(new a),BEM=e}(this,"undefined"==typeof BEM?{}:BEM),BEM.I18N.decl("b-foot",{about:" ",advert:"",agreement:" ",beta:"-","copyright-notice":"",design:"","design-artlebedev":" ","design-artlebedev-url":"http://www.artlebedev.ru",mobile:" ","privacy-policy":"","services-button-value":"",stat:"","terms-of-service":"",termsofuse:"  ",vacancies:"","yandex-is-local":" ","yandex-is-not-local":"   "},{lang:"ru"}),BEM.I18N.decl("b-form-input",{search:"","search-label":"",vid:""},{lang:"ru"}),BEM.I18N.decl("b-head-logo",{yandex:""},{lang:"ru"}),BEM.I18N.decl("b-head-tabs",{more:"",or:""},{lang:"ru"}),BEM.I18N.decl("b-keyboard-loader",{keyboard:""},{lang:"ru"}),BEM.I18N.decl("b-keyboard-popup",{close:""},{lang:"ru"}),BEM.I18N.decl("i-services",{404:"404",adresa:"",advertising:"",afisha:"",all:"",api:"API",appsearch:"",auto:"",avia:"",aziada:"",ba:"",backapv:" .",balance:"",bar:"","bar-ie":"","bar-ie9":"9",bayan:" ",blogs:"",books:"",browser:"",calendar:"",captcha:"...",catalogwdgt:" ",chrome:"   ",city:"",cityday:" ",collection:"",company:"",contest:"Contest",desktop:" ",direct:"","direct.market":"",disk:"",ege:"",expert:"",feedback:" ",ff:"  ",fotki:"",fresh:"",games:"",geocontext:"",goroda:"",help:"",i:"",ie:"  ",images:"","images-com":"",interests:"",internet:"",keyboard:"",kraski:"",kuda:"",large:"  ",legal:" ",lenta:"",libra:"",literacy:"   ",local:"",lost:"",love:"13",mail:"",maps:"","maps-wiki":" ",market:"","market.advertising":"",metrika:"",metro:"",mobile:"",moikrug:"",money:"",museums:"",music:"","music-partner":": ",nahodki:"",nano:"",newhire:"",news:"",oauth:"",online:"",openid:"OpenID",opera:"Opera Software",opinion:"",partners:"",partnersearch:"  ",passport:"",pdd:"  ",peoplesearch:"",perevod:"",probki:"",pulse:": ",punto:"Puntoswitcher",pvo:"",rabota:"",ramazan:"",rasp:"",realty:"",referats:"",rk:"?",root:".  Unix ",school:"",search:"",server:"",site:"",slovari:"",so:"",social:"",soft:"",sport:"",sprav:"",start:" ",stat:"",subs:"",taxi:"",terms:"",tests:"  ",tickets:"",time:".",toster:"",translate:"",tune:"",tv:"",uslugi:"",video:"","video-com":"",wdgt:"",weather:"",webmaster:"",widgets:"",wordstat:"",wow:".",www:"",xmlsearch:"XML",yaca:"",yamb:" ",zakladki:""},{lang:"ru"}),BEM.I18N.lang("ru");
