function cp(t,e,n){var i="clck/lid="+t;Lego.params.statRoot&&(i+="/sid="+Lego.params.msid);try{Lego.c(i,e,n)}catch(r){}}function cpr(t,e,n){try{Lego.cred(t,e,n)}catch(i){}}function cpt(t,e){t+=(document.getElementById("form").text.value?".full":".empty")+"/u="+(new Date).getTime(),cp(t,e)}function c0(t){try{Lego.c(t)}catch(e){}}function csh(t,e){try{cp(t,e)}catch(n){}}function csh_ifmsid(t,e){Lego.params.statRoot&&csh(t,e)}function cpa(t){return t&&"undefined"!=typeof Lego.params.msid?"onmousedown=\"Lego.cp('132','71946','"+t+"',this)\"":""}function cleverSubstring(t,e,n){var i="â€¦";return t.length>e+n?t.substring(0,e-1)+i:t}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e(t):e(t)}("undefined"!=typeof global?global:this,function(t){var e=function(){};if(e.version="1.0.11",e.isDebug=!1,e.isArray=function(t){return t instanceof Array},e.isArrayLike=function(t){return e.isObject(t)&&!e.isArray(t)&&"length"in t},e.isElement=function(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}},e.isFunction=function(){return Array.prototype.every.call(arguments,function(t){return t instanceof Function})},e.isObject=function(t){return"object"==typeof t},e.isString=function(){return Array.prototype.every.call(arguments,function(t){return"string"==typeof t})},e.stringf=function(t){var e=Array.prototype.slice.call(arguments,1);return t.replace(/%s/g,function(){return e.shift()||""})},"undefined"==typeof JSON)throw new Error("JSON is not supported");e.JSON=JSON,e.console={slog:function(){this.log(e.stringf.apply(this,arguments))},log:function(e){"undefined"!=typeof debug?debug(e):t.console&&t.console.log&&t.console.log(e)},error:function(t){throw new Error(t)},dir:function(t){this.log(e.JSON.stringify(t))}},e.log=e.console.log,e.error=e.console.error;var n=/^https?:\/\/\S+/i;e.isURL=function(t){return"string"!=typeof t&&e.error("isURL expects string parameter instead "+typeof t),n.test(t)};var i=Array.prototype.filter?function(t,e){return t.filter(e)}:function(t,n){var i=[];return e.each(t,function(t,e){n(t,e,this)&&i.push(t)}),i};e.filter=function(t,n){return e.isArray(t)||e.error("first argument is expected to be an array instead of "+typeof t),e.isFunction(n)||e.error("second argument is expected to be a function instead of "+typeof n),i(t,n)},e.forEach=function(t,e,n){var i,r;for(n=n||t,i=0,r=t.length;r>i;i++)e.call(n,t[i],i,t);return this},e.indexOf=function(t,e,n){if(n=n||0,!(t instanceof Array))throw new Error("Function expects array as first argument");if("indexOf"in Array.prototype)return t.indexOf(e,n);for(var i=0,r=t.length;r>i;i++)if(t[i]===e&&i>=n)return i;return-1},e.map=function(t,n){var i=[];return e.isArray(t)&&n instanceof Function&&(i=t.map(n)),i},function(){var t=Array.prototype.some?function(t,e){return t.some(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(e(t[n],n,t))return!0;return!1};e.some=function(n,i){return e.isArray(n)||e.error("first argument is expected to be an array instead of "+typeof n),e.isFunction(i)||e.error("second argument is expected to be a function instead of "+typeof i),t(n,i)}}();var r={};e.each=r.each=function(t,n,i){if(e.isArray(t))e.forEach.apply(this,arguments);else{var r;i=i||t;for(r in t)t.hasOwnProperty(r)&&n.call(i,t[r],r,t)}return this},e.beget=function(t,n){var i,r={},o=typeof t,s=typeof n;if("object"!==o&&e.error("Only object allowed to be prototype and tried to work with "+o),"undefined"!==s&&"object"!==s&&e.error("Only object allowed to be list of properties instead "+s),"function"==typeof Object.create)i={},e.each(n,function(t,e){i[e]={writable:!0,enumerable:!0,value:t}}),r=Object.create(t,i);else{var a=function(){};t&&"object"==typeof t&&(a.prototype=t),i=new a,"undefined"!=typeof n&&e.each(n,function(t,e){i[e]=t}),r=i}return r},e.getRandom=function(t){return parseInt(Math.random()*(t||1e3))},e.getElementId=function(t){e.isElement(t)||e.error("nodeElement expected as first argument instead of "+typeof t);var n=t.getAttribute("id");return n||(n="_"+e.getRandom(1e16),t.setAttribute("id",n)),n};var o=function(t){for(var e=document.all,n=[],i=0,r=e.length;r>i;++i)"string"==typeof e[i].getAttribute(t)&&n.push(e[i]);return n};e.getElementsByAttr=function(e){var n=[],i=arguments[1]||t.document||null;if("getAttribute"in i&&i.getAttribute(e)&&n.push(i),i&&i.querySelectorAll)try{n=n.concat(Array.prototype.slice.call(i.querySelectorAll("["+e+"]")))}catch(r){}return n.length||(n=n.concat(o(e))),n};var s=(new RegExp).compile(/^\s+|\s+$/g);e.trim=function(t){var n=typeof t;return"string"!==n&&e.error("Argument must be string but"+n+" passed"),t.trim instanceof Function?t.trim():t.replace(s,"")},e.stripSpaces=function(t){return t.split(" ").join("")},e.getJPathValue=function(t,e){for(var n=t,i=e.split("."),r=0;n[i[r]];)n=n[i[r++]];return n},e.getObject=function(t){return t.beget=function(t){return e.beget(this,t)},e.beget(t)},e.create=function(t){var e=function(){};return e.prototype=t,new e},e.constructURL=function(t,e){var n,i="",r=[],o=t.match(/((?:https?\:)?(?:\/)?\/[^?]+)\?([^#]+)?(\#\S+)?/),s=o&&o[3]?o[3]:"";if(o&&o[2])for(var a=o[2].split("&"),u=a.length;u--;)r.push(a[u]);for(n in e)e.hasOwnProperty(n)&&r.push(n+"="+e[n]);return i=o?o[1]+"?"+r.join("&")+s:t+"?"+r.join("&")+s},e.data=function(t,n){return e.isElement(t)||e.error("nodeElement expected as first argument instead of "+typeof t),t.getAttribute("data-"+n)},e.ComponentBase={data:function(t){var n=this.element;return n?e.data(n,t):void 0},setId:function(t){return this.id=t,this},baseInit:function(t,n){var i=this;this.element=n,e.each(e.dataset(n),function(t,e){i[e]=t})}},e.Component=function(){var t=[],n=[],i={},r="data-xapp";return{extend:function(r){var o,s=t.length;if(e.isObject(r))o=e.beget(e.ComponentBase,r);else if(e.isString(r)&&e.isFunction(arguments[1]))o=e.beget(e.ComponentBase,{id:r,init:arguments[1]});else{if(!e.isString(r)||!e.isArray(arguments[1]))throw new Error('Unknown definition structure, try to use extend("yourName", function() { ... init code ... })');var a=arguments[1];o=e.beget(e.ComponentBase,{id:r,init:function(){var t=e.filter(a,function(t){return e.isString(t)});t=e.map(t,function(t){if(!n[t])throw new Error("Service "+t+" hasnt defined");return n[t]()});var i=e.filter(a,function(t){return e.isFunction(t)});if(i.length>1)throw new Error("Too much declaration functions");i[0].apply(this,t)}})}return o.id||e.error("extend method expects id field in description object"),t.push(o),i[o.id]=s,t[s]},factory:function(t,e){n[t]=e},initByHTML:function(t){var n=t||document,i=this,o=e.getElementsByAttr(r,n);return e.forEach(o,function(t){var n=e.data(t,"xapp");e.forEach(n.split(" "),function(n){i.initById(n,e.getElementId(t),t)})}),this},initById:function(e,n,r){var o=e in i?t[i[e]]:null;o&&("undefined"!=typeof n&&o.setId(n),o.baseInit(n,r),o.init(n))}}}(),e.dataset=function(t){var n={};return e.isElement(t)&&(t.dataset?n=t.dataset:e.forEach(t.attributes,function(t){0===t.name.indexOf("data-")&&(n[t.name.substr(5)]=t.value)})),n},e.generateId=function(){return String(Math.random()).substr(2)},e.ns=function(t,e,n){return t[e]||(t[e]={}),"undefined"!=typeof n&&n.call(t[e]),this},e.extend=function(t,e){var n=function(){};t.superclass=n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,e.prototype.constructor===Object.prototype.constructor&&(e.prototype.constructor=e)},e.Interface=function(t,n){var i=this;2!==arguments.length&&e.error("Interface constructor called with "+arguments.length+"parameters, but expected exactly 2"),this.methods=[],this.name=t,e.forEach(n,function(t){"string"!=typeof t&&e.error("Interface constructor expects method names to be passed in as a string"),i.methods.push(t)})},e.Interface.ensureImplements=function(t,n){return 2!==arguments.length&&e.error("Interface constructor called with "+arguments.length+"parameters, but expected at least 2"),e.forEach(n,function(n){n.constructor!==e.Interface&&e.error("Function Interface.ensureImplements expects arguments two and above to be instances of Interface."),e.forEach(n.methods,function(i){t[i]&&"function"==typeof t[i]||e.error("Function Interface.ensureImplements: object does not implement the "+n.name+" interface. Method "+i+" was not found.")})}),!0},e.View=function(t){this.templates=t&&t.templates?e.beget(t.templates):{}},e.isString=function(){return Array.prototype.every.call(arguments,function(t){return"string"==typeof t})},e.View.prototype={templates:{},re:{parse:/\[\%\s+([^%]+)\s+\%\]/g,rule:/:/},setParseRe:function(t){this.re.parse=t},getCustomRender:function(){var t="undefined"!==arguments[0]?arguments[0].split(this.re.rule):null;return t&&2===t.length?this.parseRules[t[0]]&&this.parseRules[t[0]].call(this,t[1]):void 0},parseRules:{l10n:function(t){return function(n){return e.isDebug&&!n.l10n(t)&&e.console.error("There is no translation for "+t),n.l10n?n.l10n(t):t}},jpath:function(t){return function(n){return e.getJPathValue(n,t)||""}},view:function(t){var e=this;return function(n){return e.get(t,n)}}},ruleFunction:function(t,n,i){var r=this;return this.getCustomRender(t)||function(o){var s=o&&o[t]||o&&o.views&&o.views.get(t,o)||"";return s||(s=i[t]?r.getContent(i[t],o):n?n[t]:""),e.isDebug&&!s&&e.console.log("Undefined variable "+t),s||""}},getContent:function(t,n){var i="";return i=e.isArray(t)?e.map(t,function(t){return"string"==typeof t?t:t(n)}).join(""):e.isFunction(t)?t(n):t.toString()},get:function(t,e){var n=this,i=e&&e.views?e.views.templates[t]:this.templates[t];return n.getContent(i,e)}},e.View.prototype.let=function(t,n,i){var r=this.templates[t]=[],o=this,s=0;return e.isFunction(n)?r.push(n):(n.replace(this.re.parse,function(t,e,a){r.push(n.substr(s,a-s),o.ruleFunction(e,i,o.templates)),s=a+t.length}),s<n.length&&r.push(n.substr(s))),this},e.views=new e.View,e.toArray=function(t){return Array.prototype.slice.call(t)};var a={},u={};return e.amd={define:function(t,e,n){return n=n||!0,a[t]=e,n&&(u[t]=!0),this},require:function(){var t=e.toArray(arguments).slice(0,arguments.length-1),n=arguments[arguments.length-1];return t=e.map(t,function(t){if(!a[t])throw new Error("Unmet dependency:"+t);return u[t]?(a[t]=e.isFunction(a[t])?a[t]():a[t],a[t]):a[t]()}),n.apply(this,t),this}},e.debounce=function(t,e,n){var i;return function(){var r=this,o=arguments,s=function(){i=null,n||t.apply(r,o)},a=n&&!i;clearTimeout(i),i=setTimeout(s,e),a&&t.apply(r,o)}},"function"==typeof define&&define.amd&&define("franky",[],function(){return e}),t.x=t.franky=e,e}),$(function(){x.Component.initByHTML()}),x.ns(this,"ya"),x.ns(this,"home"),function(t){function e(e,i,r){var s=!1;if(o){var a=[];t.each(u,function(){r.hasOwnProperty(this)&&(s=!0)&&a.push({name:this,val:r[this]})}),s&&(t.each(r,function(t){a.push({name:t,val:this})}),r=a)}t.each(r,function(r,o){if(s&&(r=o.name,o=o.val),t.isFunction(o)&&(!n||o.toString().indexOf(".__base")>-1)){var a=e[r]||function(){};i[r]=function(){var t=this.__base;this.__base=a;var e=o.apply(this,arguments);return this.__base=t,e}}else i[r]=o})}var n=function(){"_"}.toString().indexOf("_")>-1,i=function(){},r=Object.create||function(t){var e=function(){};return e.prototype=t,new e},o=!0,s={toString:""};for(var a in s)s.hasOwnProperty(a)&&(o=!1);var u=o?["toString","valueOf"]:null;t.inherit=function(){var n=arguments,o=t.isFunction(n[0]),s=o?n[0]:i,a=n[o?1:0]||{},u=n[o?2:1],c=a.__constructor||o&&s.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:function(){};if(!o)return c.prototype=a,c.prototype.__self=c.prototype.constructor=c,t.extend(c,u);t.extend(c,s);var l=s.prototype,h=c.prototype=r(l);return h.__self=h.constructor=c,e(l,h,a),u&&e(s,c,u),c},t.inheritSelf=function(t,n,i){var r=t.prototype;return e(r,r,n),i&&e(t,t,i),t}}(jQuery),function(t){var e=0,n="__"+ +new Date,i=function(){return"uniq"+ ++e};t.identify=function(t,e){if(!t)return i();var r="uniqueID"in t?"uniqueID":n;return e||r in t?t[r]:t[r]=i()}}(jQuery),function(t){t.isEmptyObject||(t.isEmptyObject=function(t){for(var e in t)return!1;return!0})}(jQuery),function(t){t.extend({debounce:function(t,e,n,i){3==arguments.length&&"boolean"!=typeof n&&(i=n,n=!1);var r;return function(){var o=arguments;i=i||this,n&&!r&&t.apply(i,o),clearTimeout(r),r=setTimeout(function(){n||t.apply(i,o),r=null},e)}},throttle:function(t,e,n){var i,r,o;return function(){r=arguments,o=!0,n=n||this,i||function(){o?(t.apply(n,r),o=!1,i=setTimeout(arguments.callee,e)):i=null}()}}})}(jQuery),function(t){var e="__"+ +new Date+"storage",n=function(e,n){return t.identify(e)+(n?t.identify(n):"")},i={buildEventName:function(t){return t},on:function(i,r,o,s,a){if("string"==typeof i){t.isFunction(r)&&(s=o,o=r,r=void 0);for(var u,c=n(o,s),l=this[e]||(this[e]={}),h=i.split(" "),f=0;i=h[f++];)if(i=this.buildEventName(i),u=l[i]||(l[i]={ids:{},list:{}}),!(c in u.ids)){var d=u.list,p={fn:o,data:r,ctx:s,special:a};d.last?(d.last.next=p,p.prev=d.last):d.first=p,u.ids[c]=d.last=p}}else{var m=this;t.each(i,function(t,e){m.on(t,e,r,a)})}return this},onFirst:function(t,e,n,i){return this.on(t,e,n,i,{one:!0})},un:function(i,r,o){if("string"==typeof i||"undefined"==typeof i){var s=this[e];if(s)if(i){for(var a,u=i.split(" "),c=0;i=u[c++];)if(i=this.buildEventName(i),a=s[i])if(r){var l=n(r,o),h=a.ids;if(l in h){var f=a.list,d=h[l],p=d.prev,m=d.next;p?p.next=m:d===f.first&&(f.first=m),m?m.prev=p:d===f.last&&(f.last=p),delete h[l]}}else delete this[e][i]}else delete this[e]}else{var _=this;t.each(i,function(t,e){_.un(t,e,o)})}return this},trigger:function(n,i){var r,o=this,s=o[e];if("string"==typeof n?n=t.Event(o.buildEventName(r=n)):n.type=o.buildEventName(r=n.type),n.target||(n.target=o),s&&(s=s[n.type]))for(var a,u=s.list.first;u;)n.data=u.data,a=u.fn.call(u.ctx||o,n,i),"undefined"!=typeof a&&(n.result=a,a===!1&&(n.preventDefault(),n.stopPropagation())),u.special&&u.special.one&&o.un(r,u.fn,u.ctx),u=u.next;return this}};t.observable=t.inherit(i,i)}(jQuery),function(t,e){function n(t,e,n){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(n?"_"+n:"")}function i(e,i,r){t.isFunction(e)?i[n(r,"*","*")]=e:t.each(e,function(e,o){t.isFunction(o)?i[n(r,e,"*")]=o:t.each(o,function(t,o){i[n(r,e,t)]=o})})}function r(t,e){return e?Array.isArray(e)?function(n){for(var i=0,r=e.length;r>i;)if(n.hasMod(t,e[i++]))return!0;return!1}:function(n){return n.hasMod(t,e)}:function(e){return e.hasMod(t)}}var o=[],s={},a={};this.BEM=t.inherit(t.observable,{__constructor:function(t,e,n){var i=this;i._modCache=t||{},i._processingMods={},i._params=e,i.params=null,n!==!1?i._init():i.afterCurrentEvent(function(){i._init()})},_init:function(){return this._initing||this.hasMod("js","inited")||(this._initing=!0,this.params||(this.params=t.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},changeThis:function(t,e){return t.bind(e||this)},afterCurrentEvent:function(t,e){this.__self.afterCurrentEvent(this.changeThis(t,e))},trigger:function(t,e){return this.__base(t=this.buildEvent(t),e).__self.trigger(t,e),this},buildEvent:function(e){return"string"==typeof e&&(e=t.Event(e)),e.block=this,e},hasMod:function(t,n,i){var r=arguments.length,o=!1;1==r?(i="",n=t,t=e,o=!0):2==r&&("string"==typeof t?(i=n,n=t,t=e):(i="",o=!0));var s=this.getMod(t,n)===i;return o?!s:s},getMod:function(t,e){var n=typeof t;if("string"===n||"undefined"===n){e=t||e;var i=this._modCache;return e in i?i[e]:i[e]=this._extractModVal(e)}return this._getElemMod(e,t)},_getElemMod:function(t,e,n){return this._extractModVal(t,e,n)},getMods:function(t){var n=t&&"string"!=typeof t,i=this,r=[].slice.call(arguments,n?1:0),o=i._extractMods(r,n?t:e);return n||(r.length?r.forEach(function(t){i._modCache[t]=o[t]}):i._modCache=o),o},setMod:function(n,i,r){"undefined"==typeof r&&(r=i,i=n,n=e);var o=this;if(!n||n[0]){var s=(n&&n[0]?t.identify(n[0]):"")+"_"+i;if(this._processingMods[s])return o;var a,u=n?o._getElemMod(i,n,a=o.__self._extractElemNameFrom(n)):o.getMod(i);if(u===r)return o;this._processingMods[s]=!0;var c=!0,l=[i,r,u];n&&l.unshift(n),[["*","*"],[i,"*"],[i,r]].forEach(function(t){c=o._callModFn(a,t[0],t[1],l)!==!1&&c}),!n&&c&&(o._modCache[i]=r),c&&o._afterSetMod(i,r,u,n,a),delete this._processingMods[s]}return o},_afterSetMod:function(){},toggleMod:function(t,n,i,r,o){"string"==typeof t&&(o=r,r=i,i=n,n=t,t=e),"undefined"==typeof r?r="":"boolean"==typeof r&&(o=r,r="");var s=this.getMod(t,n);return(s==i||s==r)&&this.setMod(t,n,"boolean"==typeof o?o?i:r:this.hasMod(t,n,i)?r:i),this},delMod:function(t,n){return n||(n=t,t=e),this.setMod(t,n,"")},_callModFn:function(t,i,r,o){var s=n(t,i,r);return this[s]?this[s].apply(this,o):e},_extractModVal:function(){return""},_extractMods:function(){return{}},channel:function(t,e){return this.__self.channel(t,e)},getDefaultParams:function(){return{}},del:function(t){var e=[].slice.call(arguments);return"string"==typeof t&&e.unshift(this),this.__self.del.apply(this.__self,e),this},destruct:function(){}},{_name:"i-bem",blocks:s,decl:function(n,o,a){if("string"==typeof n?n={block:n}:n.name&&(n.block=n.name),n.baseBlock&&!s[n.baseBlock])throw'baseBlock "'+n.baseBlock+'" for "'+n.block+'" is undefined';o||(o={}),o.onSetMod&&(i(o.onSetMod,o),delete o.onSetMod),o.onElemSetMod&&(t.each(o.onElemSetMod,function(t,e){i(e,o,t)}),delete o.onElemSetMod);var u=s[n.baseBlock||n.block]||this;if(n.modName){var c=r(n.modName,n.modVal);t.each(o,function(n,i){t.isFunction(i)&&(o[n]=function(){var t;if(c(this))t=i;else{var r=u.prototype[n];r&&r!==o[n]&&(t=this.__base)}return t?t.apply(this,arguments):e})})}if(a&&"boolean"==typeof a.live){var l=a.live;a.live=function(){return l}}var h;return n.block==u._name?(h=t.inheritSelf(u,o,a))._processLive(!0):((h=s[n.block]=t.inherit(u,o,a))._name=n.block,delete h._liveInitable),h},_processLive:function(){return!1},create:function(t,e){return"string"==typeof t&&(t={block:t}),new s[t.block](t.mods,e)},getName:function(){return this._name},_extractElemNameFrom:function(){},afterCurrentEvent:function(t,e){1==o.push({fn:t,ctx:e})&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var t=o.length;if(t)for(var e,n=o.splice(0,t);e=n.shift();)e.fn.call(e.ctx||this)},changeThis:function(t,e){return t.bind(e||this)},del:function(t){var e="string"==typeof t,n=e?0:1,i=arguments.length;for(e&&(t=this);i>n;)delete t[arguments[n++]];return this},channel:function(n,i){return"boolean"==typeof n&&(i=n,n=e),n||(n="default"),i?void(a[n]&&(a[n].un(),delete a[n])):a[n]||(a[n]=new t.observable)}})}(jQuery),function(){Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e})}(),function(){var t=Array.prototype,e=Object.prototype.toString,n={indexOf:function(t,e){e=+(e||0);var n=this,i=n.length;if(i>0&&i>e)for(e=0>e?Math.ceil(e):Math.floor(e),-i>e&&(e=0),0>e&&(e+=i);i>e;){if(e in n&&n[e]===t)return e;++e}return-1},forEach:function(t,e){for(var n=-1,i=this,r=i.length;++n<r;)n in i&&(e?t.call(e,i[n],n,i):t(i[n],n,i))},map:function(t,e){for(var n=-1,i=this,r=i.length,o=new Array(r);++n<r;)n in i&&(o[n]=e?t.call(e,i[n],n,i):t(i[n],n,i));return o},filter:function(t,e){for(var n=-1,i=this,r=i.length,o=[];++n<r;)n in i&&(e?t.call(e,i[n],n,i):t(i[n],n,i))&&o.push(i[n]);return o},reduce:function(t,e){var n,i=-1,r=this,o=r.length;if(arguments.length<2){for(;++i<o;)if(i in r){n=r[i];break}}else n=e;for(;++i<o;)i in r&&(n=t(n,r[i],i,r));return n},some:function(t,e){for(var n=-1,i=this,r=i.length;++n<r;)if(n in i&&(e?t.call(e,i[n],n,i):t(i[n],n,i)))return!0;return!1},every:function(t,e){for(var n=-1,i=this,r=i.length;++n<r;)if(n in i&&!(e?t.call(e,i[n],n,i):t(i[n],n,i)))return!1;return!0}};for(var i in n)t[i]||(t[i]=n[i]);Array.isArray||(Array.isArray=function(t){return"[object Array]"===e.call(t)})}(),function(){var t=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(e){var n=this,i=t.call(arguments,1);return function(){return n.apply(e,i.concat(t.call(arguments)))}})}(),function(t,e,n){function i(t,e,n){n.push(s,t,s,e)}function r(t,e,n,r){r.push(t),n&&i(e,n,r)}function o(t,e,o,s,u){r(t,n,n,u),u.push(a,e),s&&i(o,s,u)}var s="_",a="__",u="[a-zA-Z0-9-]+";t.INTERNAL={NAME_PATTERN:u,MOD_DELIM:s,ELEM_DELIM:a,buildModPostfix:function(t,e,n){var r=n||[];return i(t,e,r),n?r:r.join("")},buildClass:function(t,e,i,s,a){var u=typeof i;if("string"==u?"string"!=typeof s&&"number"!=typeof s&&(a=s,s=i,i=e,e=n):"undefined"!=u?(a=i,i=n):e&&"string"!=typeof e&&(a=e,e=n),!(e||i||a))return t;var c=a||[];return e?o(t,e,i,s,c):r(t,i,s,c),a?c:c.join("")},buildClasses:function(t,i,s,a){i&&"string"!=typeof i&&(a=s,s=i,i=n);var u=a||[];return i?o(t,i,n,n,u):r(t,n,n,u),s&&e.each(s,function(e,n){n&&(u.push(" "),i?o(t,i,e,n,u):r(t,e,n,u))}),a?u:u.join("")}}}(BEM,jQuery),jQuery.cookie=function(t,e,n){if("undefined"==typeof e){var i=null;if(document.cookie&&""!=document.cookie)for(var r=document.cookie.split(";"),o=0;o<r.length;o++){var s=jQuery.trim(r[o]);if(s.substring(0,t.length+1)==t+"="){i=decodeURIComponent(s.substring(t.length+1));break}}return i}n=n||{},null===e&&(e="",n.expires=-1);var a="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var u;"number"==typeof n.expires?(u=new Date,u.setTime(u.getTime()+24*n.expires*60*60*1e3)):u=n.expires,a="; expires="+u.toUTCString()}var c=n.path?"; path="+n.path:"",l=n.domain?"; domain="+n.domain:"",h=n.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),a,c,l,h].join("")},function(t){function e(t){return t.replace(/%.{2}/g,function(t){return i[t]||t})}function n(t,n){var i="";try{i=t(n)}catch(r){try{i=t(e(n))}catch(r){i=n}}return i}var i={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};t.extend({decodeURI:function(t){return n(decodeURI,t)},decodeURIComponent:function(t){return n(decodeURIComponent,t)}})}(jQuery),function(t,e,n){function i(t,e,n){(t[e]||(t[e]=[])).unshift(n)}function r(t,e){return e.modName?function(n){(n._curBlock.mods||{})[e.modName]===e.modVal&&t(n)}:t}function o(t,n){var i,r=e.isArray(n);return e.isArray(t)?r?i=t.concat(n):(i=t).push(n):r?(i=n).unshift(t):i=[t,n],i}function s(t){return t.replace(p,function(t){return d[t]})}var a=t.INTERNAL,u=a.ELEM_DELIM,c={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1},l=a.buildClass,h=a.buildClasses,f={},d={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},p=/["&<>]/g;t.HTML={decl:function(t,n){"string"==typeof t&&(t={block:t}),t.name&&(t.block=t.name);var o=f[t.block]||(f[t.block]={});n.onBlock&&i(o,"_block",r(n.onBlock,t)),n.onElem&&(e.isFunction(n.onElem)?i(o,"_elem",r(n.onElem,t)):e.each(n.onElem,function(e,n){i(o,"_elem"+("*"===e?"":u+e),r(n,t))}))},build:function(t){var e=new this.Ctx(t);return e._buildAll(),e._flush()},Ctx:e.inherit({__constructor:function(t){this._buffer=[],this._params=t,this._tParams=null,this._tParamsChanges=null,this._curBlock=n},pos:function(){return this._params._pos},isFirst:function(){return 1===this._params._pos},isLast:function(){var t=this._params;return t._pos===t._siblingsCount},params:function(t){var e=this;return"undefined"==typeof t?e._params:(e._params=t,e)},param:function(t,n,i,r){var o=this,s=o._params;return"undefined"==typeof n?s[t]:(!i&&t in s?r&&(s[t]=e.extend(n,s[t])):s[t]=n,o)},attrs:function(t,e){return this.param("attrs",t,e,!0)},attr:function(t,e,n){var i=this;if("undefined"==typeof e)return(i._params.attrs||{})[t];var r=i._params.attrs;return r?(n||!(t in r))&&(r[t]=e):(i._params.attrs={})[t]=e,i},tag:function(t,e){return this.param("tag",t,e)},cls:function(t,e){return this.param("cls",t,e)},mods:function(t,e){return this.param("mods",t,e,!0)},mod:function(t,e,n){var i=this;if("undefined"==typeof e)return(i._params.mods||{})[t];var r=i._params.mods;return r?(n||!(t in r))&&(r[t]=e):(i._params.mods={})[t]=e,i},mix:function(t,e){var n=this,i=n._params;return"undefined"==typeof t?i.mix:(i.mix=!e&&"mix"in i?i.mix.concat(t):t,n)},js:function(t){return this.param("js",t)},content:function(t,e){return this.param("content",t,e)},wrapContent:function(t){var e=this,n=e._params;return t.content=n.content,n.content=t,e},beforeContent:function(t){var e=this,n=e._params;return n.content=o(t,n.content),e},afterContent:function(t){var e=this,n=e._params;return n.content=o(n.content,t),e},wrap:function(t){var e=this,n=e._params;return t.block||(t._curBlock=e._curBlock),t.content=n._wrapper?n._wrapper:n,n._wrapper=t,e},tParam:function(t,e){var n=this,i=n._tParams||(n._tParams={});if("undefined"==typeof e)return i[t];var r=n._tParamsChanges||(n._tParamsChanges={});return t in r||(r[t]=i[t]),i[t]=e,n},generateId:function(){return e.identify()},stop:function(){this._params._isStopped=!0},_buildAll:function(){var t=this,n=t._buffer,i=t._params,r=typeof i;if("string"==r||"number"==r)n.push(i);else if(e.isArray(i))for(var o,s,a=0,u=i.length;u>a;)t._params=o=i[a++],s=typeof o,"string"==s||"number"==s?n.push(o):o&&(o._pos=a,o._siblingsCount=u,t._buildByDecl());else i&&(t._params._pos=t._params._siblingsCount=1,t._buildByDecl())},_build:function(){var t,n=this,i=n._buffer,r=n._params,o=r.tag||"div",a=r.block||r.elem,u=a&&(r.block||n._curBlock.block),f=!1;r.js&&((t={})[l(u,r.elem)]=r.js===!0?{}:r.js,f=!r.elem),i.push("<",o),(a||r.cls)&&(i.push(' class="'),a&&(h(u,r.elem,r.mods,i),r.mix&&e.each(r.mix,function(e,n){n&&(i.push(" "),h(n.block,n.elem,n.mods,i),n.js&&((t||(t={}))[l(n.block,n.elem)]=n.js===!0?{}:n.js,f||(f=!n.elem)))})),r.cls&&i.push(a?" ":"",r.cls),f&&i.push(" i-bem"),i.push('"')),t&&i.push(' onclick="return ',s(JSON.stringify(t)),'"'),r.attrs&&e.each(r.attrs,function(t,e){"undefined"!=typeof e&&null!==e&&e!==!1&&i.push(" ",t,'="',e.toString().replace(/"/g,"&quot;"),'"')}),c[o]?i.push("/>"):(i.push(">"),"undefined"!=typeof r.content&&(n._params=r.content,n._buildAll()),i.push("</",o,">"))},_flush:function(){var t=this._buffer.join("");return delete this._buffer,t},_buildByDecl:function(){var t=this,n=t._curBlock,i=t._params;if(i._curBlock&&(t._curBlock=i._curBlock),i.block&&(t._curBlock=i),!i._wrapper){if(i.block||i.elem){var r=f[t._curBlock.block];if(r){var o;if(i.elem?(o=r["_elem"+u+i.elem],r._elem&&(o=o?o.concat(r._elem):r._elem)):o=r._block,o)for(var s,a=0;(s=o[a++])&&(s(t),!i._isStopped););}}if(i._wrapper)return i._curBlock=t._curBlock,t._params=i._wrapper,t._buildAll()}var c=t._tParamsChanges;if(t._tParamsChanges=null,t._build(),t._curBlock=n,c){var l=t._tParams;e.each(c,function(t,e){"undefined"==typeof e?delete l[t]:l[t]=e})}}})}}(BEM,jQuery),function(t){if(!window.JSON){var e,n=Object.prototype.toString,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};window.JSON={stringify:e=function(o){if(null===o)return"null";if("undefined"==typeof o)return t;switch(n.call(o)){case"[object String]":return i.lastIndex=0,'"'+(i.test(o)?o.replace(i,function(t){var e=r[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}):o)+'"';case"[object Number]":case"[object Boolean]":return""+o;case"[object Array]":for(var s,a="[",u=0,c=o.length;c>u;)s=e(o[u]),a+=(u++?",":"")+("undefined"==typeof s?"null":s);return a+"]";case"[object Object]":if("[object Function]"===n.call(o.toJSON))return e(o.toJSON());var s,a="{",u=0;for(var l in o)o.hasOwnProperty(l)&&(s=e(o[l]),"undefined"!=typeof s&&(a+=(u++?",":"")+'"'+l+'":'+s));return a+"}";default:return t}},parse:function(t){return Function("return "+t)()}}}}(),function(t,e,n){function i(t,n){var i=t[0];e.each(a(i),function(s,a){o(a,i,s,n);var u=p[a.uniqId];u?u.domElem.index(i)<0&&(u.domElem=u.domElem.add(t),e.extend(u._params,a)):r(s,t,a)})}function r(t,i,r,s,u){"boolean"==typeof r&&(u=s,s=r,r=n);var c=i[0];r=o(r||a(c)[t],c,t);var l=r.uniqId;if(p[l])return p[l]._init();d[l]=d[l]?d[l].add(i):i;var h=c.parentNode;h&&11!==h.nodeType||e.unique(d[l]);var f=v[t]||B.decl(t,{},{live:!0});if(!(f._liveInitable=!!f._processLive())||s||r.live===!1){s&&i.addClass("i-bem");var m=new f(d[l],r,!!s);return delete d[l],u&&u.apply(m,M.call(arguments,4)),m}}function o(t,n,i,r){(t||(t={})).uniqId||(t.uniqId=(t.id?i+"-id-"+t.id:e.identify())+(r||e.identify()));var o=e.identify(n),s=m[o]||(m[o]={});return s[i]||(s[i]=t),t}function s(t,e,n){var i=t.find(e);return n?i:i.add(t.filter(e))}function a(t){var n=e.identify(t);return m[n]||(m[n]=u(t))}function u(t){var n,i,r=t.getAttribute("data-bem");return r?JSON.parse(r):(n=t.onclick||t.ondblclick,n||"body"!=t.tagName.toLowerCase()||(i=e(t),r=i.attr("onclick")||i.attr("ondblclick"),r&&(n=Function(r))),n?n():{})}function c(t){delete m[e.identify(t)]}function l(t,e){1===t.domElem.length?t.destruct(!0):t.domElem=t.domElem.not(e)}var h=e(window),f=e(document),d={},p={},m={},_={},g={},v=t.blocks,b=t.INTERNAL,y=b.NAME_PATTERN,w=b.MOD_DELIM,x=b.ELEM_DELIM,E=b.buildModPostfix,k=b.buildClass,M=Array.prototype.slice,D=Array.prototype.reverse;e.fn.bem=function(t,e){return r(t,this,e,!0)};var B=t.DOM=t.decl("i-bem__dom",{__constructor:function(t,n,i){var r=this;r.domElem=t,r._eventNameCache={},r._elemCache={},p[r._uniqId=n.uniqId||e.identify(r)]=r,r._needSpecialUnbind=!1,r.__base(null,n,i)},findBlocksInside:function(t,e){return this._findBlocks("find",t,e)},findBlockInside:function(t,e){return this._findBlocks("find",t,e,!0)},findBlocksOutside:function(t,e){return this._findBlocks("parents",t,e)},findBlockOutside:function(t,e){return this._findBlocks("closest",t,e)[0]||null},findBlocksOn:function(t,e){return this._findBlocks("",t,e)},findBlockOn:function(t,e){return this._findBlocks("",t,e,!0)},_findBlocks:function(t,i,o,s){if(!this.domElem)return[];o||(o=i,i=n);var a=i?"string"==typeof i?this.findElem(i):i:this.domElem,u="string"==typeof o,c=u?o:o.block||o.blockName,l="."+(u?k(c):k(c,o.modName,o.modVal))+(s?":first":""),h=a.filter(l);if(t&&(h=h.add(a[t](l))),s)return h[0]?r(c,h.eq(0),!0):null;var f=[],d={};return e.each(h,function(t,n){var i=r(c,e(n),!0);d[i._uniqId]||(d[i._uniqId]=!0,f.push(i))}),f},bindToDomElem:function(t,n,i){var r=this;return i?t.bind(r._buildEventName(n),function(t){return(t.data||(t.data={})).domElem=e(this),i.apply(r,arguments)}):e.each(n,function(e,n){r.bindToDomElem(t,e,n)}),r},bindToDoc:function(t,e){return this._needSpecialUnbind=!0,this.bindToDomElem(f,t,e)},bindToWin:function(t,e){var n,i,r=e;return"resize"===t&&(e=function(){var t=h.height(),e=h.width();(n!==t||i!==e)&&(n=t,i=e,r.apply(this,arguments))}),this._needSpecialUnbind=!0,this.bindToDomElem(h,t,e)},bindTo:function(t,n,i){return!n||e.isFunction(n)?(i=n,n=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.bindToDomElem(t,n,i)},unbindFromDomElem:function(t,e){return t.unbind(this._buildEventName(e)),this},unbindFromDoc:function(t){return this.unbindFromDomElem(f,t)},unbindFromWin:function(t){return this.unbindFromDomElem(h,t)},unbindFrom:function(t,e){return e?"string"==typeof t&&(t=this.elem(t)):(e=t,t=this.domElem),this.unbindFromDomElem(t,e)
},_buildEventName:function(t){var e=this;return t.indexOf(" ")>1?t.split(" ").map(function(t){return e._buildOneEventName(t)}).join(" "):e._buildOneEventName(t)},_buildOneEventName:function(t){var e=this,n=e._eventNameCache;if(t in n)return n[t];var i="."+e._uniqId;if(t.indexOf(".")<0)return n[t]=t+i;var r=".bem_"+e.__self._name;return n[t]=t.split(".").map(function(t,e){return 0==e?t+r:r+"_"+t}).join("")+i},trigger:function(t,e){return this.__base(t=this.buildEvent(t),e).domElem&&this._ctxTrigger(t,e),this},_ctxTrigger:function(t,n){var i=this,r=_[i.__self._buildCtxEventName(t.type)],o={};r&&i.domElem.each(function(){for(var s=this,a=r.counter;s&&a;){var u=e.identify(s,!0);if(u){if(o[u])break;var c=r.ctxs[u];c&&(e.each(c,function(e,r){r.fn.call(r.ctx||i,t,n)}),a--),o[u]=!0}s=s.parentNode}})},setMod:function(t,n,i){if(t&&"undefined"!=typeof i&&t.length>1){var r=this;return t.each(function(){var o=e(this);o.__bemElemName=t.__bemElemName,r.setMod(o,n,i)}),r}return this.__base(t,n,i)},_extractModVal:function(t,e,n){var i,r=(e||this.domElem)[0];return r&&(i=r.className.match(this.__self._buildModValRE(t,n||e))),i?i[2]:""},_extractMods:function(t,e){var n={},i=!t.length,r=0;return((e||this.domElem)[0].className.match(this.__self._buildModValRE("("+(i?y:t.join("|"))+")",e,"g"))||[]).forEach(function(t){var e=(t=t.trim()).lastIndexOf(w),i=t.substr(0,e-1).lastIndexOf(w);n[t.substr(i+1,e-i-1)]=t.substr(e+1),++r}),r<t.length&&t.forEach(function(t){t in n||(n[t]="")}),n},_afterSetMod:function(t,n,i,r,o){var s=this.__self,a=s._buildModClassPrefix(t,o),u=s._buildModValRE(t,o),c=""===n;(r||this.domElem).each(function(){var t=this.className;t.indexOf(a)>-1?this.className=t.replace(u,c?"":"$1"+a+n):c||e(this).addClass(a+n)}),o&&this.dropElemCache(o,t,i).dropElemCache(o,t,n)},findElem:function(t,e,n,i){arguments.length%2?(i=n,n=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.findElem(t));var r=this.__self,o="."+e.split(" ").map(function(t){return k(r._name,t,n,i)}).join(",.");return s(t,o)},_elem:function(t,e,n){var i,r=t+E(e,n);return(i=this._elemCache[r])||(i=this._elemCache[r]=this.findElem(t,e,n),i.__bemElemName=t),i},elem:function(t,n,i){if(n&&"string"!=typeof n)return n.__bemElemName=t,n;if(t.indexOf(" ")<0)return this._elem(t,n,i);var r=e([]),o=this;return t.split(" ").forEach(function(t){r=r.add(o._elem(t,n,i))}),r},dropElemCache:function(t,e,n){if(t){var i=this,r=E(e,n);t.indexOf(" ")<0?delete i._elemCache[t+r]:t.split(" ").forEach(function(t){delete i._elemCache[t+r]})}else this._elemCache={};return this},elemParams:function(t){var e;return"string"==typeof t?(e=t,t=this.elem(t)):e=this.__self._extractElemNameFrom(t),u(t[0])[k(this.__self.getName(),e)]||{}},elemify:function(t,n){return(t=e(t)).__bemElemName=n,t},containsDomElem:function(t){var e=!1;return this.domElem.each(function(){return!(e=t.parents().andSelf().index(this)>-1)}),e},buildSelector:function(t,e,n){return this.__self.buildSelector(t,e,n)},destruct:function(t){var n=this,i=n.__self;n._isDestructing||(n._isDestructing=!0,n._needSpecialUnbind&&i.doc.add(i.win).unbind("."+n._uniqId),n.dropElemCache().domElem.each(function(t,n){var i=a(n);e.each(i,function(t,e){var i=p[e.uniqId];i?i._isDestructing||l(i,n):delete d[e.uniqId]}),c(n)}),t||n.domElem.remove(),delete p[n.un()._uniqId],delete n.domElem,delete n._elemCache,n.__base())}},{scope:null,doc:f,win:h,_processLive:function(t){var e=this,n=e._liveInitable;if("live"in e){var i="undefined"==typeof n;if(i^t){n=e.live()!==!1;var r=e.getName(),o=e.live;e.live=function(){return this.getName()===r?n:o.apply(this,arguments)}}}return n},init:function(t,n,r){(!t||e.isFunction(t))&&(r=n,n=t,t=f);var o=e.identify();return s(t,".i-bem").each(function(){i(e(this),o)}),n&&this.afterCurrentEvent(function(){n.call(r||this,t)}),this._runAfterCurrentEventFns(),t},destruct:function(t,i,r){"boolean"!=typeof t&&(r=i,i=t,t=n),D.call(s(i,".i-bem",r)).each(function(t,n){var i=a(this);e.each(i,function(t,e){if(e.uniqId){var i=p[e.uniqId];i?l(i,n):delete d[e.uniqId]}}),c(this)}),t||(r?i.empty():i.remove())},update:function(t,e,n,i){this.destruct(t,!0),this.init(t.html(e),n,i)},replace:function(t,n){this.destruct(!0,t),this.init(e(n).replaceAll(t))},append:function(t,n){this.init(e(n).appendTo(t))},prepend:function(t,n){this.init(e(n).prependTo(t))},before:function(t,n){this.init(e(n).insertBefore(t))},after:function(t,n){this.init(e(n).insertAfter(t))},_buildCtxEventName:function(t){return this._name+":"+t},_liveClassBind:function(t,n,i,r){var o=this;if(n.indexOf(" ")>-1)n.split(" ").forEach(function(e){o._liveClassBind(t,e,i,r)});else{var s=g[n],a=e.identify(i);s||(s=g[n]={},f.bind(n,o.changeThis(o._liveClassTrigger,o))),s=s[t]||(s[t]={uniqIds:{},fns:[]}),a in s.uniqIds||(s.fns.push({uniqId:a,fn:o._buildLiveEventFn(i,r)}),s.uniqIds[a]=s.fns.length-1)}return this},_liveClassUnbind:function(t,n,i){var r=g[n];if(r)if(i){if(r=r[t]){var o=e.identify(i);if(o in r.uniqIds){var s=r.uniqIds[o],a=r.fns.length-1;for(r.fns.splice(s,1);a>s;)r.uniqIds[r.fns[s++].uniqId]=s-1;delete r.uniqIds[o]}}}else delete r[t];return this},_liveClassTrigger:function(t){var n=g[t.type];if(n){var i=t.target,r=[];for(var o in n)n.hasOwnProperty(o)&&r.push(o);do for(var s=" "+i.className+" ",a=0;o=r[a++];)if(s.indexOf(" "+o+" ")>-1){for(var u,c=0,l=n[o].fns,h=!1;u=l[c++];)u.fn.call(e(i),t)===!1&&(h=!0);if(h&&t.preventDefault(),h||t.isPropagationStopped())return;r.splice(--a,1)}while(r.length&&(i=i.parentNode))}},_buildLiveEventFn:function(t,n){var i=this;return function(o){var s=[i._name,((o.data||(o.data={})).domElem=e(this)).closest(i.buildSelector()),!0],a=r.apply(null,n?s.concat([t,o]):s);return a&&!n&&t?t.apply(a,arguments):void 0}},liveInitOnEvent:function(t,e,n){return this.liveBindTo(t,e,n,!0)},liveBindTo:function(t,i,r,o){(!i||e.isFunction(i))&&(r=i,i=t,t=n),t&&"string"!=typeof t||(t={elem:t}),t.elemName&&(t.elem=t.elemName);var s=this;return t.elem&&t.elem.indexOf(" ")>0?(t.elem.split(" ").forEach(function(e){s._liveClassBind(k(s._name,e,t.modName,t.modVal),i,r,o)}),s):s._liveClassBind(k(s._name,t.elem,t.modName,t.modVal),i,r,o)},liveUnbindFrom:function(t,i,r){(!i||e.isFunction(i))&&(r=i,i=t,t=n);var o=this;return t&&t.indexOf(" ")>1?(t.split(" ").forEach(function(t){o._liveClassUnbind(k(o._name,t),i,r)}),o):o._liveClassUnbind(k(o._name,t),i,r)},_liveInitOnBlockEvent:function(t,e,n,i){var r=this._name;return v[e].on(t,function(t){if(t.block.domElem){var e=arguments,o=t.block[i](r);n&&o.forEach(function(t){n.apply(t,e)})}}),this},liveInitOnBlockEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOn")},liveInitOnBlockInsideEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOutside")},liveInitOnBlockInit:function(t,e){return this.liveInitOnBlockEvent("init",t,e)},liveInitOnBlockInsideInit:function(t,e){return this.liveInitOnBlockInsideEvent("init",t,e)},on:function(t,e,n,i,r){return t.jquery?this._liveCtxBind(t,e,n,i,r):this.__base(t,e,n,i)},un:function(t,e,n,i){return t.jquery?this._liveCtxUnbind(t,e,n,i):this.__base(t,e,n)},liveCtxBind:function(t,e,n,i,r){return this._liveCtxBind(t,e,n,i,r)},_liveCtxBind:function(t,i,r,o,s){var a=this;if("string"==typeof i)if(e.isFunction(r)&&(s=o,o=r,r=n),i.indexOf(" ")>-1)i.split(" ").forEach(function(e){a._liveCtxBind(t,e,r,o,s)});else{var u=a._buildCtxEventName(i),c=_[u]||(_[u]={counter:0,ctxs:{}});t.each(function(){var t=e.identify(this),n=c.ctxs[t];n||(n=c.ctxs[t]={},++c.counter),n[e.identify(o)+(s?e.identify(s):"")]={fn:o,data:r,ctx:s}})}else e.each(i,function(e,n){a._liveCtxBind(t,e,n,r)});return a},liveCtxUnbind:function(t,e,n,i){return this._liveCtxUnbind(t,e,n,i)},_liveCtxUnbind:function(t,n,i,r){var o=this,s=_[n=o._buildCtxEventName(n)];return s&&(t.each(function(){var t,n=e.identify(this,!0);n&&(t=s.ctxs[n])&&(i&&delete t[e.identify(i)+(r?e.identify(r):"")],(!i||e.isEmptyObject(t))&&(s.counter--,delete s.ctxs[n]))}),s.counter||delete _[n]),o},_extractElemNameFrom:function(t){if(t.__bemElemName)return t.__bemElemName;var e=t[0].className.match(this._buildElemNameRE());return e?e[1]:n},extractParams:u,_buildModClassPrefix:function(t,e){return k(this._name)+(e?x+("string"==typeof e?e:this._extractElemNameFrom(e)):"")+w+t+w},_buildModValRE:function(t,e,n){return new RegExp("(\\s|^)"+this._buildModClassPrefix(t,e)+"("+y+")(?=\\s|$)",n)},_buildElemNameRE:function(){return new RegExp(this._name+x+"("+y+")(?:\\s|$)")},buildSelector:function(t,e,n){return"."+k(this._name,t,e,n)},getBlockByUniqId:function(t){return p[t]},getWindowSize:function(){return{width:h.width(),height:h.height()}}});e(function(){t.DOM.scope=e("body")})}(BEM,jQuery),function(){String.prototype.trim||(String.prototype.trim=function(){for(var t=this.replace(/^\s\s*/,""),e=/\s/,n=t.length;e.test(t.charAt(--n)););return t.slice(0,n+1)})}(),BEM.DOM.decl("i-global",{onSetMod:{js:function(){this.del(this.__self._params=$.extend({},this.params),"uniqId","name");var t=this.__self._params;t["passport-msg"]||(t["passport-msg"]=t.id),void 0===t["show-counters"]&&(t["show-counters"]=Math.round(100*Math.random())<=t["show-counters-percent"]),t.locale=t.lang,$(function(){t.oframebust&&Lego.oframebust(t.oframebust)})}},getDefaultParams:function(){return{id:"",login:Lego.isSessionValid()?$.cookie("yandex_login")||"":"",yandexuid:$.cookie("yandexuid"),lang:"ru",tld:"ru",retpath:encodeURI($.decodeURI(location.href)),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100}}},{param:function(t){return(this._params||{})[t]}}),function(t){t||(t=window.Lego={}),t.isSessionValid=function(){return!!t.getCookie("yandex_login")}}(window.Lego),function(t){function e(t){return t.replace(/^(?:https?:)?\/\//,"")}t||(t=window.Lego={}),!t.params&&(t.params={}),t.c=function(t,n,i){var r=e(i&&i.host||BEM.blocks["i-global"].param("click-host")||"clck.yandex.ru"),o=function(t,e,n,i){return e=e.replace("'","%27"),e.indexOf("/dtype=")>-1?e:location.protocol+"//"+r+"/"+n+"/dtype="+t+"/rnd="+((new Date).getTime()+Math.round(100*Math.random()))+(i?"/*"+(e.match(/^http/)?e:location.protocol+"//"+location.host+(e.match("^/")?e:"/"+e)):"/*data="+encodeURIComponent("url="+encodeURIComponent(e.match(/^http/)?e:location.protocol+"//"+location.host+(e.match("^/")?e:"/"+e))))},s=function(){var e=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],n=document.createElement("script");n.setAttribute("src",o(t,location.href,"jclck")),e.insertBefore(n,e.firstChild)};if(n)if(n.className.match(/b-link_pseudo_yes/)||n.href&&n.href.match(/^mailto:/)||i&&i.noRedirect===!0)s();else if(n.href){var a=n.href;n.href=o(t,a,"redir"),setTimeout(function(){n.href=a},500)}else if(n.form)if(n.type.match(/submit|button|image/)){var a=n.form.action;n.form.action=o(t,a,"redir",!0),setTimeout(function(){n.form.action=a},500)}else s();else{if(!n.action)throw"counter.js: not link and not form!";n.action=o(t,n.action,"redir",!0)}else s()}}(window.Lego),function(t,e){t||(t=window.Lego={}),t.cp=function(n,i,r,o,s,a){"string"==typeof o||(a=s,s=o,o=e),t.c("stred/pid="+n+"/cid="+i+(r?"/path="+r+(o?"/vars="+o:""):""),s,a)}}(window.Lego),function(t){t||(t=window.Lego={}),t.ch=function(e,n,i){BEM.blocks["i-global"].param("show-counters")&&t.cp(0,2219,e,n,i)}}(window.Lego),function(t){t.cred=function(t,e,n){var i,r=function(){var e=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],n=document.createElement("script");n.setAttribute("src",t),e.insertBefore(n,e.firstChild)};if(e)if(e.className.match(/link_pseudo_yes/)||e.href&&e.href.match(/^mailto:/)||n&&n.noRedirect===!0)r();else if(e.href)i=e.href,e.href=t,setTimeout(function(){e.href=i},500);else if(e.form)e.type.match(/submit|button|image/)?(i=e.form.action,e.form.action=t,setTimeout(function(){e.form.action=i},500)):r();else{if(!e.action)throw"counter.js: not link and not form!";e.action=t}else r()}}(window.Lego),window.csh_ifgsid=csh_ifmsid,function(t){t||(t=window.Lego={}),t.getCookie=function(t){var e=document.cookie;if(e.length<1)return!1;var n=e.indexOf(t+"=");if(-1==n)return!1;n+=t.length+1;var i=e.indexOf(";",n);return decodeURIComponent(-1==i?e.substring(n):e.substring(n,i))}}(window.Lego),function(t,e){e||(e=window.Lego={}),e.init||(e.init=function(n){return(n=e.params=t.extend({id:"",login:e.isSessionValid()?e.getCookie("yandex_login")||"":"",yandexuid:e.getCookie("yandexuid"),locale:"ru",retpath:window.location.toString(),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","passport-msg":n.id,"social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100},n,e.params))["show-counters"]=Math.round(100*Math.random())<=n["show-counters-percent"],BEM.blocks["i-global"]._params||t.extend(BEM.blocks["i-global"]._params={},n),t(function(){n.oframebust&&e.oframebust(n.oframebust)}),n}),e.block||(e.block={}),e.blockInit||(e.blockInit=function(n,i){n=n||document,i=i||".g-js",t(n).find(i).each(function(){var n=t(this),i=this.onclick?this.onclick():{},r=i.name||"",o=e.block[r];o&&!n.data(r)&&(o.call(n,i),n.data(r,!0).addClass(r+"_js_inited"))})}),e.blockInitBinded||(e.blockInitBinded=!!t(document).ready(function(){e.blockInit()}))}(jQuery,window.Lego),function(){"use strict";BEM.decl("i-ua",{},{});try{BEM.blocks["i-ua"].svg=document.documentElement.className.indexOf("i-ua_inlinesvg_yes")>-1}catch(t){}}(),function(t,e,n,i,r,o){var s;e=t.documentElement,n="className",i="replace",e[n]=e[n][i]("i-ua_js_no","i-ua_js_yes"),"CSS1Compat"!==t.compatMode&&(e[n]=e[n][i]("i-ua_css_standart","i-ua_css_quirks")),s=navigator.appVersion.match(/OS\s(\d)/),s=s&&s[1]&&parseInt(s[1],10),/iphone|ipad|ipod/i.test(navigator.appVersion)&&s>=7?((r=t.documentElement)&&(o=r.classList),o.add("ios-simplified")):/android/i.test(navigator.appVersion)&&((r=t.documentElement)&&(o=r.classList),o.add("android"))}(document),function(t){t||(t=window.Lego={}),t.messages=t.messages||{},t.message=function(e,n){return"ru"==t.params.locale?n:t.messages[e]||n}}(window.Lego),function(t){var e,n;try{e=t.localStorage,n="ya_ls_test",e.setItem(n,"1"),"1"!==e.getItem(n)?e=null:e.removeItem(n)}catch(i){e=null}var r=t.home||(t.home={}),o=t.console&&function(t){console.log(t)}||function(){},s=function(t){var e="localStorage is disabled. "+(t?t:"");o(e)},a=function(t){try{return t()}catch(e){s(e)}};e?r.localStorage={setItem:function(t,n){return a(function(){return e.setItem(t,n)})},getItem:function(t){return a(function(){return e.getItem(t)})},removeItem:function(t){return a(function(){return e.removeItem(t)})},clear:function(){return a(function(){return e.clear()})},key:function(t){return a(function(){return e.key(t)})}}:(r.localStorage={removeItem:s,setItem:s,getItem:s,clear:s},r.disabledLS=!0)}(window),function(){"use strict";home.htmlFilter=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},home.urlFilter=function(t){return t.replace(/./g,function(t){return t.match(/[&@\/;:=+?$]/)?t:encodeURIComponent(t)})},home.capitalize=function(t){return t?t[0].toUpperCase()+t.substr(1):""},home.isWebpSupported=function(t){return t?!t.isMobile&&("WebKit"===t.BrowserEngine&&("Chrome"===t.BrowserName||"YandexBrowser"===t.BrowserName||"Opera"===t.BrowserName)||"Presto"===t.BrowserEngine&&t.BrowserVersion>11.1):!1},home.isXivaSupported=function(t){return t.XivaUrl&&!t.isOldIE&&!t.isMSIE9},home.encodeParams=function(t){return JSON.stringify(t).replace(/"/g,"'")},home.getBEMParams=function(t){return JSON.stringify(t).replace(/"/g,"&quot;")},home.formatNumber=function(t,e,n){if(isNaN(t))return t;t+="",e=e||",",n=n||"&nbsp;";var i=t.lastIndexOf("."),r=[],o="",s=0,a="";for(-1!==i?o=e+t.substr(i+1):i=t.length;--i>-1;)a=t[i]+a,s++,3===s&&(r.push(a),a="",s=0);return a&&r.push(a),r.reverse().join(n)+o}}(),BEM.DOM.decl("link",{getDefaultParams:function(){return{origTabindex:"0"}},onSetMod:{disabled:function(t,e){var n="yes"===e;this.domElem.attr({"aria-disabled":n,tabindex:n?-1:this.params.origTabindex})}}}),function(t){var e=t.event.special.leftclick={setup:function(){t(this).bind("click",e.handler)},teardown:function(){t(this).unbind("click",e.handler)},handler:function(e){e.button||(e.type="leftclick",t.event.handle.apply(this,arguments),e.type="click")}}}(jQuery),BEM.DOM.decl({name:"link",modName:"pseudo",modVal:"yes"},{_onClick:function(t){t.preventDefault(),this.hasMod("disabled","yes")||this.afterCurrentEvent(function(){this.trigger("click")})},_onKeyUp:function(t){t.shiftKey||t.ctrlKey||t.altKey||(13===t.which||32===t.which)&&(this.hasMod("disabled","yes")||this.afterCurrentEvent(function(){this.trigger("click")}))}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo({modName:"pseudo",modVal:"yes"},"leftclick tap",function(t){this._onClick(t)}).liveBindTo({modName:"pseudo",modVal:"yes"},"keyup",function(t){this._onKeyUp(t)})}}),function(t){t.getData=function(e,n){var i,r,o,s,a="export",u=e.split("."),c=u.length;if(c>1){for(r=t[a]||{},o=0;c>o;o++)if(i=u[o],r=r[i],"undefined"==typeof r)return"undefined"==typeof r?n:r;return"undefined"==typeof r?n:r}return a="export",s=t&&t[a]&&t[a][e],"undefined"==typeof s?n:s}}(home),window.ya=window.ya||{},ya.history=window.history&&history.pushState?function(){return{navigate:function(t){t=t||{},t.url&&(t.title||(t.title=""),t.data||(t.data=""),t.replace?history.replaceState(t.data,t.title,t.url):history.pushState(t.data,t.title,t.url))},onchange:function(t){$(window).on("popstate",function(e){t.call(this,e.originalEvent)})}}}():null,$(document).ready(function(){var t=home&&home.getData&&home.getData("i-change-url.data");if(t){var e=t.url;if(e&&ya.history){var n=home&&home.getData&&home.getData("mordaFromCache.data");if(n){var i=n.lastClid;document.location.search.indexOf("?clid="+i)>-1&&($("form.search input[name='clid']").length||$("form.search").append('<input type="hidden" name="clid" value="'+i+'">'))}ya.history.navigate({data:{page:"morda"},url:e,replace:!0})}}}),BEM.DOM.decl({name:"i-flashcookie",modName:"type",modVal:"inline"},{onSetMod:{js:function(){Lego.block["i-flashcookie"].call(this.domElem,this.params)}}}),function(){var t=Lego.block["i-flashcookie"],e=function(t){function e(t,e){return'<param name="'+t+'" value="'+e+'" />'}function n(t,e){return" "+t+'="'+e+'"'}function i(t,e,n){var i=t.match(e);return i&&i[n+1?n:1]||""}function r(){return i(f.cookie,new RegExp("fuid"+u+"=([^;]+)"))}function o(){var t=f.domain;return t&&i(t,/[^.]+\.[^.]{2,3}(\.tr)?$/,0)}t||(t={});var s,a,u,c,l=t.host||"kiks.yandex",h=window,f=document,d=navigator,p=d.userAgent,m=d.mimeTypes,_=9,g=p&&/gecko/i.test(p),v=p&&/MSIE/.test(p)&&/Win/.test(p),b=g?"embed":"object",y="//"+l.split(".").slice(0,-1).join(".")+".%s/system/fc%d.html",w="//"+l+".ru/system/%s%d.swf",x="//"+l+".ru/fu",E="//"+l+".ru/fu",k="application/x-shockwave-flash",M="style",D="position:absolute;margin-left:-999em;top:0;",B=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',C="allowScriptAccess",S="always",I="height",O="wmode",T="window",P="width",j="bgcolor",F="#FFFFFF",L="ya_fc",N=n(M,D)+n(P,1)+n(I,1)+n("id",L),A=!1;h.ya_fc_external=function(t,i,l,h){s=t,a=i,u=l,c=h||"fc";var f,d=m&&m[k]?m[k].enabledPlugin:0,p=A,y=0,M=r()?w.replace("%d",a).replace("%s",c):x.replace("%s",o());if(d)y=d.description.split("Shockwave Flash ")[1],p=parseInt(y,10)>=_;else if(v){p=A;try{p=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+_)}catch(I){}}return f=p?g?'<div style="'+D+'"><'+b+N+n("src",M)+n(O,T)+n(j,F)+n(C,S)+n("type",k)+"/></div>":(v?"<"+b+B+N+">"+e("movie",M):"<"+b+N+n("type",k)+n("data",M)+">")+e(O,T)+e(j,F)+e(C,S)+"</"+b+">":'<img src="'+E.replace("%s",o())+'" style="'+D+'" />'},h.ya_fc_requestData=function(){var t=f.getElementById("ya_fc");try{t.setLocation(o(),r())}catch(e){}},h.ya_fc_setCookie=function(t){var e=new Date;e.setTime(e.getTime()+31536e7),f.cookie="fuid"+u+"="+t+";expires="+e.toGMTString()+";path=/;domain="+o()},h.ya_fc_getIFrame=function(t){var e=y.replace("%s",t).replace("%d",s),n=f.createElement("iframe"),i=f.getElementsByTagName("body")[0],r="40px;";n.src=e,n.style.cssText=P+r+I+r+"border:0;"+D,n.frameBorder=0,i&&i.insertBefore(n,i.firstChild)};var R=this,$=arguments.callee.load=function(t){var e,n;t.mode?(e="00",n="kfc"):e="07",R.replaceWith(h.ya_fc_external("07_2",e,"01",n))};R.hasClass("i-flashcookie_autoload_no")||$(t)};Lego.block["i-flashcookie"]=function(n){var i=this.hasClass("i-flashcookie_type_inline")?e:t;i&&i.call(this,n)}}(),$(function(){BEM.afterCurrentEvent(function(){BEM.DOM.init()})}),function(){var t={9:"tab",13:"enter",32:"space",33:"page up",34:"page down",35:"end",36:"home",37:"left arrow",38:"up arrow",39:"right arrow",40:"down arrow",46:"delete"},e={27:"escape"};BEM.DOM.decl({block:"i-ua",modName:"interaction",modVal:"yes"},{onSetMod:{js:{inited:function(){this.bindTo("mousedown",this._onPointer).bindTo("keydown",this._onKeyboard)}}},_onPointer:function(){this.interaction="pointer",this.domElem.attr("data-interaction","pointer"),this.unbindFrom("mousedown")},_onKeyboard:function(n){var i=n.keyCode;return e[i]?void this._onPointer():void(t[i]&&"keyboard"!==this.interaction&&(this.domElem.attr("data-interaction","keyboard"),this.interaction="keyboard",this.bindTo("mousedown",this._onPointer)))}})}(),function(t){t=t||{},t.oframebustMatchDomain=function(t,e){t="[object Array]"===Object.prototype.toString.call(t)?t:function(){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}();for(var n=0,i=t.length;i>n;n++){var r=t[n];if("string"==typeof r){if(/(\?|\*)/.test(r)){var o=r.replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\?/g,".{1}");if(new RegExp("^"+o+"$").test(e))return!0}else if(e==r)return!0}else try{if(r.test(e))return!0}catch(s){}}}}(window.Lego),function(t){t=t||{},t.oframebust=function(e){if(window.top.location!=window.location){var n=document.referrer.match(/^https?:\/\/([^:\/\s]+)\/?.*/);if(!n)return;!t.oframebustMatchDomain(e,n[1])&&(window.top.location=window.location)}}}(window.Lego),BEM.DOM.decl("dropdown",{onSetMod:{js:function(){var t=this,e=t.params,n=t._popup=t.findBlockOn(t.elem(e.popupElem),"popup").on("show",function(){t.setMod("action","open").trigger("show")}).on("hide",function(){t.setMod("action","closed").trigger("hide")});e.popupMethods.map(function(e){t[e]=n[e].bind(n)});var i=t.params.switcherBlock,r=t.elem("switcher");i&&(t._switcher=t.findBlockOn(r,i).domElem),r.attr({"aria-haspopup":!0,"aria-expanded":!1})},action:function(t,e){this.elem("switcher").attr("aria-expanded","open"===e)}},getPopup:function(){return this._popup},getDefaultParams:function(){return{popupElem:"popup",popupMethods:["toggle","show","hide","setContent"]}},destruct:function(){this._popup&&this._popup.domElem&&this._popup.destruct.apply(this._popup,arguments),this.__base.apply(this,arguments)},_toggle:function(){this._popup.toggle(this._switcher)},_onSwitcherClick:function(){this._switcher||(this._switcher=this.elem("switcher")),this._toggle()},_onSwitcherKeyUp:function(t){if(!(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey)){var e=this.elem("switcher")[0].tagName.toLowerCase();"button"!==e&&("a"!==e&&13===t.which||32===t.which)&&(t.preventDefault(),this.params.switcherBlock||this._toggle())}}},{live:function(){this.liveBindTo("switcher","leftclick tap",function(t){this._onSwitcherClick(t)}).liveBindTo("switcher","keyup",function(t){this._onSwitcherKeyUp(t)})}}),function(t){var e,n=t.browser,i=n.opera&&n.version<13,r=n.opera&&n.version<12.1?"keypress":"keydown",o=Object.prototype.hasOwnProperty,s=BEM.DOM,a=n.msie&&n.version>=9&&n.version<10,u=function(t){try{return t.activeElement}catch(e){}};s.decl("popup",{getDefaultParams:function(){var t={left:15,right:15,top:15,bottom:15};return{directions:[{to:"bottom",axis:"center",tail:{axis:"center"}},{to:"top",axis:"center",tail:{axis:"center"}},{to:"right",axis:"middle",tail:{axis:"middle"}},{to:"left",axis:"middle",tail:{axis:"middle"}}],tail:{width:24.04,height:12.02,offset:t},duration:150}},onSetMod:{js:function(){this._cache={},this._viewport=s.win,this._scope=s.scope,this._channel=BEM.channel("popups"),this._inContainer=!1,this._isParentFixed=!1,this._owner=null,this._userPosition=null,this._parent=null,this._childs=[],this._isShown=!1,this._isHiding=!1,this._positions={},this._currPos={},this._visibilityFactor=null,this._direction=!1,this._directions={};var t=this.getDefaultParams(),e=this.params,n=this._repackDirParams(t.directions),i=e.generateDirections?this._generateDirections:e.directions,r=this._repackDirParams(i);e.tail&&(this.params.tail=this._mergeParams(t.tail,e.tail)),this._order=r.keys.map(function(t){var e=r.directions[t],i=n.directions[t];return i||(i=n.directions[e.to]),this._directions[t]=this._mergeParams(i,e,{tail:this._tailParamsHook}),t},this)},visibility:{visible:function(){this._onShown()},"":function(){this._onHidden()}}},show:function(e){var n;if(e instanceof BEM)n=e.domElem.eq(0);else if(e instanceof t)n=e;else if(!e)return;if(n){this._owner&&n[0]!==this._owner[0]&&this.delMod("visibility"),this._owner=n;var i=this.findBlockOutside(n,"popup");i&&this.setParent(i)}else this._userPosition=e;return this.setMod("visibility","outside").repaint()},hide:function(){if(this._isHiding)return this;if(this._isShown&&(this._isHiding=!0,this._childs.forEach(function(t){t.hide()}),this.hasMod("animate","yes")&&!this.hasMod("fade-out","no"))){var t=this;return this.beforeHide(function(){t.domElem&&t.delMod("visibility")}),this}return this.delMod("visibility")},toggle:function(t){return this._isShown&&!this._isHiding?this.hide():this.show(t||this._owner)},repaint:function(){this._moveToContainer();var t=this._pickDirection();return this.setMod("to",t.to)._show(this._positions[t.key],this._tailPos&&this._tailPos[t.key]),this},repaintShadowIfNeeded:function(){return a&&this._repaintShadow(),this},getCurrPos:function(){return this._currPos},getCurrDirection:function(){return this._direction},setContent:function(t){return s.update(this.elem("content"),t),this._resetDefault(),this._isShown&&this.repaint(),this},isShown:function(){return this._isShown},setParent:function(t){return this._parent=t,this._isParentFixed=t.hasMod("position","fixed"),t.addChild(this),this},addChild:function(t){for(var e=this._childs,n=e.length,i=0;n>i;i++)if(e[i]._uniqId===t._uniqId)return;t.on("hide",function(){this.removeChild(t)},this),e.push(t)},removeChild:function(t){for(var e=this._childs,n=e.length,i=0;n>i;i++)if(e[i]._uniqId===t._uniqId)return void e.splice(i,1)},setSize:function(t){return t&&(this._resetDefault(),this.domElem.css(t),this._isShown&&!this._isHiding&&this.repaint()),this},_show:function(t,e){return this._currPos=t,e&&this.elem("tail").removeAttr("style").css(e),this.domElem.css(t),(!this._isShown||this._isHiding)&&this.hasMod("animate","yes")&&!this.hasMod("fade-in","no")&&this.afterShow(),this._isHiding=!1,this.setMod("visibility","visible"),this},_onShown:function(){this.bindToDoc(r,function(t){27===t.which&&0===this._childs.length&&this.hide()}),this._bindFocusEvents(),this._attachUnder(),this._isShown=!0,this.hasMod("autoclosable","yes")&&this.afterCurrentEvent(function(){this._enableAutoclosable()}),this.hasMod("adaptive","yes")&&this._enableAdaptive(),this._channel.on("hide",this.hide,this),this.trigger("show")},_onHidden:function(){this._unbindFocusEvents(),this.unbindFromDoc(r),this._detachUnder(),this.hasMod("autoclosable","yes")&&this._disableAutoclosable(),this.hasMod("adaptive","yes")&&this._disableAdaptive(),this._cache={},this._isShown=!1,this._isHiding=!1,this._channel.un("hide"),this._returnFocus(),this.trigger("hide")},_bindFocusEvents:function(){this._lastFocused=t(u(document)||this._scope);var e=this.__self._getFocusable(this.elem("content"));return this._firstFocusable=e.first(),this._lastFocusable=e.last(),this._skipReturnFocus=!1,0===this._firstFocusable.length?void(this._skipReturnFocus=!0):void this.bindTo(this._lastFocused,"keydown",this._onLastFocusedKeyDown).bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown).bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown)},_unbindFocusEvents:function(){this.unbindFrom(this._firstFocusable,"keydown"),this.unbindFrom(this._lastFocusable,"keydown"),this.unbindFrom(this._lastFocused,"keydown")},_onLastFocusedKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||9===t.which&&(t.preventDefault(),this[t.shiftKey?"_lastFocusable":"_firstFocusable"].focus())},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&9===t.which&&(t.preventDefault(),this._lastFocused.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||9===t.which&&(t.preventDefault(),this._lastFocused.focus())},_returnFocus:function(){var t=(this._parent||{})._skipReturnFocus||this._skipReturnFocus;t||this._lastFocused.focus()},_mergeParams:function(t,e,n){var i={};return n||(n={}),t&&"object"==typeof t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),Object.keys(e).forEach(function(r){var s=o.call(n,r)?n[r].call(this,t[r],e[r]):e[r];i[r]=!s||"object"!=typeof s||Array.isArray(s)?s:t[r]?this._mergeParams(t[r],s,n):s},this),i},_tailParamsHook:function(t,e){return e.offset||(e.offset=this.params.tail.offset),"number"==typeof e.offset?{offset:{left:e.offset,top:e.offset}}:e},_generateDirections:function(){if(e)return e;for(var t=[["bottom","top"],["left","right"]],n=[["center","left","right"],["middle","top","bottom"]],i=n,r=t.length,o=[],s=0;r>s;s++)for(var a=t[s],u=a.length,c=0;u>c;c++)for(var l=n[s],h=l.length,f=0;h>f;f++)for(var d=i[s],p=d.length,m=0;p>m;m++)o.push({direction:a[c],axis:l[f],tail:{axis:d[m]}});return e=o,o},_repackDirParams:function(e){var n={},i=[];return("string"==typeof e||t.isPlainObject(e))&&(e=[e]),i=e.map(function(t){if("string"==typeof t){var e=t.split("-");t={to:e[0],tail:{}},e[1]&&(t.axis=e[1]),e[2]&&(t.tail.axis=e[2])}var i=t.to;return n[i]||(n[i]=t),t.axis&&(i+="-"+t.axis),t.key=i,n[i]=t,i},this),{directions:n,keys:i}},setViewport:function(t){return this._viewport=t,this},_pickDirection:function(){var t,e=this._order,n=this.hasMod("adaptive","yes")?e.length:1;for(this._visibilityFactor=0,t=0;n>t;t++){var i=e[t],r=this._directions[i];this._resetPos(i)._pushPos(i,this._calcPos(r))._pushPos(i,this._calcOffsets(r)),this._hasTail()&&this._resetTailPos(i)._pushTailPos(i,this._calcTailPos(r))._pushTailPos(i,this._calcTailOffset(r))._pushPos(i,this._calcOffsetByTail(r)),this._pushPos(i,this._getParentOffset());var o=this._calcVisibilityFactor(r);if((o>this._visibilityFactor||!this._direction)&&(this._visibilityFactor=o,this._direction=this._directions[i],this.size=this.getPlacingSize(),100===o))break}return this._direction},_getParentOffset:function(){var t=this.domElem.offsetParent().offset();return t.left*=-1,t.top*=-1,t},_calcPos:function(t){this._calcPlacingSize(t);var e=this.getOwnerPos(),n=this.getOwnerSize(),i=this.getPlacingSize(),r=t.axis,s=this.params.position||{},a={};switch(t.to){case"bottom":a={top:o.call(s,"top")?s.top:e.top+n.height,left:o.call(s,"left")?s.left:this._calcLeft(r)};break;case"top":a={top:o.call(s,"top")?s.top:e.top-i.height,left:o.call(s,"left")?s.left:this._calcLeft(r)};break;case"left":a={top:o.call(s,"top")?s.top:this._calcTop(r),left:o.call(s,"left")?s.left:e.left-i.width};break;case"right":a={top:o.call(s,"top")?s.top:this._calcTop(r),left:o.call(s,"left")?s.left:e.left+n.width}}return a},_calcTop:function(t){var e=0,n=this.getPlacingSize(),i=this.getOwnerPos(),r=this.getOwnerSize();return"top"===t?e+=i.top:"middle"===t?e+=i.top+r.height/2-n.height/2:"bottom"===t&&(e+=i.top+r.height-n.height),e},_calcLeft:function(t){var e=0,n=this.getPlacingSize(),i=this.getOwnerPos(),r=this.getOwnerSize();return"left"===t?e+=i.left:"center"===t?e+=i.left+r.width/2-n.width/2:"right"===t&&(e+=i.left+r.width-n.width),e},getPlacingSize:function(){return this.getPopupSize()},_calcOffsets:function(t){var e,n=this._cache.offset||(this._cache.offset={}),i=t.key,r=t.offset;
if(n[i])return n[i];if(!r)return!1;if(e={left:0,top:0},"number"==typeof r)switch(i){case"left":e.left+=r;break;case"right":e.left-=r;break;case"top":e.top+=r;break;case"bottom":e.top-=r}else r.left&&(e.left+=r.left),r.right&&(e.left-=r.right),r.top&&(e.top+=r.top),r.bottom&&(e.top-=r.bottom);return n[i]=e,e},_hasTail:function(){return 0!==this.elem("tail").length},_moveToContainer:function(t){if(t)this._inContainer=!1;else{if(this._isShown)return;t=this._parent?this._parent.domElem:this._scope}this.domElem.appendTo(t),this._inContainer=!0},_resetPos:function(t){return t?this._positions[t]=null:this._positions={},this},_pushPosTo:function(t,e,n){n!==!1&&("string"==typeof e?this._sum(t[e]||(t[e]={}),n):(n=e,Object.keys(t).forEach(function(e){this._sum(t[e],n)},this)))},_pushPos:function(t,e){return this._pushPosTo(this._positions,t,e),this},_sum:function(t,e){Object.keys(e).forEach(function(n){t[n]=(t[n]||0)+e[n]})},_getSizeOf:function(t){return{height:t.outerHeight(),width:t.outerWidth()}},getOwnerSize:function(){return this._owner?this._cache.ownerSize||(this._cache.ownerSize=this._getSizeOf(this._owner)):{height:0,width:0}},getPopupSize:function(){return this._getSizeOf(this.domElem)},_getPosOf:function(t){return t.offset()||{left:0,top:0}},getOwnerPos:function(){var t;return this._owner&&(t=this._getPosOf(this._owner),"pageYOffset"in window&&(t.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),t.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft))),t||this._userPosition},_calcVisibilityFactor:function(t){var e,n,i=this._viewport,r=this._getSizeOf(i),o=this.getPopupSize(),s=this._positions[t.key],a=this._parent?this._parent.domElem.offset():{top:0,left:0},u=s.top+(this._isParentFixed?a.top:-i.scrollTop()),c=s.left+(this._isParentFixed?a.left:-i.scrollLeft()),l=c+o.width-r.width,h=u+o.height-r.height,f={height:o.height,width:o.width},d=100;return h>0&&(f.height-=h),0>u&&(f.height+=u),0>c&&(f.width+=c),l>0&&(f.width-=l),f.height<0||f.width<0?d=0:(n=Math.abs(f.height*f.width),e=o.height*o.width,e!==n&&(d=n/e*100)),d},_repaintShadow:function(){"undefined"==typeof this._repaintShadowCounter&&(this._repaintShadowCounter=0),this.domElem.css("zoom",1&++this._repaintShadowCounter)},destruct:function(){var t=arguments;return this._channel.un("hide"),this._childs.forEach(function(e){e.destruct.apply(e,t)}),this.__base.apply(this,t)},_resetDefault:function(){},_calcPlacingSize:function(){}},{live:function(){this.liveBindTo("close","leftclick tap",function(){this.hide()})},_getFocusable:function(e){var n=t.data(e,"popup-getFocusable-id");n||(n=t.identify(),t.data(e,"popup-getFocusable-id",n)),n='*[data-popup-getFocusable-id="'+n+'"]';var r=i?"":"a[href], link, ";return e.find(r+'*[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem').filter(function(){var e=t(this),i=!0;return parseInt(e.prop("tabindex"),10)<0||"hidden"===e.css("visibility")?!1:(t(this).parentsUntil(n).each(function(){var e=t(this);return"none"===e.css("display")?i=!1:void 0}),i)})}})}(jQuery),BEM.DOM.decl("popup",{onSetMod:{autoclosable:{yes:function(){this._enableAutoclosable()},"":function(){this._disableAutoclosable()}}},_enableAutoclosable:function(){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.bindTo(t,"leftclick tap",function(t){t.stopPropagation(),this.hide()}),this.bindTo(t,"mousedown",function(){this._skipReturnFocus=!0})),this.bindToDoc("leftclick tap",function(t){if(!this._isRelatedNode($(t.target))){var e=$.Event("outside-click");this.trigger(e,t),e.isDefaultPrevented()||this.hide()}}),this.bindToDoc("mousedown",function(){this._skipReturnFocus=!0})},_disableAutoclosable:function(){this.hasMod(this._under,"type","paranja")&&this.unbindFrom(this._under,"leftclick tap mousedown"),this.unbindFromDoc("leftclick tap mousedown")},_isRelatedNode:function(t){var e=this.containsDomElem(t);if(e||(e=Boolean(this._owner)&&this.containsDomElem.call({domElem:this._owner},t)),e)return!0;var n,i=this._childs.length;for(n=0;i>n;n++)if(this.containsDomElem.call({domElem:this._childs[n].domElem},t))return!0;return!1}}),BEM.DOM.decl({block:"popup",modName:"adaptive",modVal:"yes"},{onSetMod:{adaptive:{yes:function(){this._enableAdaptive()},no:function(){this._disableAdaptive()}},"watch-scroll":{yes:function(){this._watchScroll()},no:function(){this._unwatchScroll()}}},_enableAdaptive:function(){this.bindToWin("resize",$.throttle(this.onResize,500,this))._watchScroll()},_disableAdaptive:function(){this.unbindFromWin("resize")._unwatchScroll()},getScrollEvents:function(){return["scroll"]},_watchScroll:function(){this._owner&&!this.hasMod("watch-scroll","no")&&this.bindTo(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "),$.throttle(this.onScroll,500,this),this)},_unwatchScroll:function(){this._owner&&this.unbindFromDomElem(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "))},onResize:function(){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},onScroll:function(){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},destruct:function(){this._disableAdaptive(),this.__base.apply(this,arguments)}}),BEM.DOM.decl({block:"popup",modName:"animate",modVal:"yes"},{afterShow:function(){var t=this.getCurrDirection();if(t){var e=t.to,n=this.getCurrPos(),i={opacity:1,top:n.top,left:n.left},r={opacity:0,top:n.top,left:n.left};"bottom"===e?r.top+=10:"top"===e?r.top-=10:"left"===e?r.left-=10:"right"===e&&(r.left+=10),this.domElem.stop(!0).css(r).animate(i,this.params.duration)}},beforeHide:function(t){var e=this.getCurrDirection();if(!e)return t();var n=e.to,i=this.getCurrPos(),r=this.domElem,o={top:i.top,left:i.left,opacity:0};return"bottom"===n?o.top+=10:"top"===n?o.top-=10:"left"===n?o.left-=10:"right"===n&&(o.left+=10),r.stop(!0,!0).animate(o,this.params.duration,function(){t(),r.css("opacity","")})}}),function(){var t=[];BEM.DOM.decl("popup",{onSetMod:{js:function(){this.__base.call(this);var t=this.findElem("under").first();this._underClassAttr=t.attr("class"),this.isDivEnough()?this._under=t:(t.remove(),this._under=null),this._underInPool=!1}},isDivEnough:function(){return!1},_createUnder:function(){return $('<iframe frameBorder="0" tabindex="-1" src="about:blank"/>')},_getUnder:function(){if(this._under)return this._under;var e=t.pop();return e&&(this._underInPool=!1),this._under=e||this._createUnder()},_attachUnder:function(){var t=this._under=this._getUnder();t.attr("class",this._underClassAttr),this.hasMod(t,"type","paranja")?t.detach().insertBefore(this.domElem):t.prependTo(this.domElem)},_detachUnder:function(){var e=this._under;t.push(e.detach()),this._under=null,this._underInPool=!0},destruct:function(){return this._underInPool&&t.pop(),this._under&&this._under.remove(),this.__base.apply(this,arguments)}})}(),BEM.DOM.decl("popup",{_createUnder:function(){var t,e=$(".i-ua_browser_yandexbrowser").length||$(".i-ua_browser_chromemobile").length||/(iPad|iPhone|iPod)/g.test(navigator.userAgent);if(e)return $("<div></div>");try{t=location.hostname!==document.domain}catch(n){t=!0}return $("<iframe"+($.browser.msie&&$.browser.version<9?' frameborder="0"':"")+($.browser.msie&&t?" src=\"javascript:void(function(){document.open();document.write('&lt;script&gt;document.domain=\\'"+document.domain+"\\'&lt;/script&gt;');document.close();})()\"":"")+"/>")}}),BEM.DOM.decl("popup",{onSetMod:{js:function(){this.__base(),this._tailPos={}}},_calcTailPos:function(t){var e=t.to,n=this._positions[t.key],i=t.tail.axis,r={};return"top"===e||"bottom"===e?r.left=this._calcTailLeft(i,n):("left"===e||"right"===e)&&(r.top=this._calcTailTop(i,n)),r},_calcTailTop:function(t,e){var n=0,i=this.getOwnerSize(),r=this.getOwnerPos(),o=this.params.tail.width,s=this.getPopupSize(),a=s.height,u=r.top-e.top,c=e.top+s.height-(r.top+i.height);return u>0&&(n+=u,a-=u),c>0&&(a-=c),"middle"===t?(a-=o,n+=a/2):"bottom"===t&&(a-=o,n+=a),0>n&&(n=0),n},_calcTailLeft:function(t,e){var n=0,i=this.getOwnerSize(),r=this.getOwnerPos(),o=this.params.tail.width,s=this.getPopupSize(),a=r.left-e.left,u=s.width,c=e.left+s.width-(r.left+i.width);return a>0&&(n+=a,u-=a),c>0&&(u-=c),"center"===t?(u-=o,n+=u/2):"right"===t&&(u-=o,n+=u),n},_calcOffsetByTail:function(t){var e=this.params.tail,n=e.height,i={};switch(t.to){case"top":i={top:-n};break;case"bottom":i={top:n};break;case"right":i={left:n};break;case"left":i={left:-n}}return i},_calcTailOffset:function(t){var e={},n=t.to,i=t.tail,r=i.offset,o=i.axis;return r?("top"===n||"bottom"===n?(e.left=0,"left"===o?e.left+=r.left:"center"===o?(r.left&&(e.left+=r.left),r.right&&(e.left-=r.right)):"right"===o&&(e.left-=r.right)):("left"===n||"right"===n)&&(e.top=0,"top"===o?e.top+=r.top:"middle"===o?(r.top&&(e.top+=r.top),r.bottom&&(e.top-=r.bottom)):"bottom"===o&&(e.top-=r.bottom)),e):!1},_resetTailPos:function(t){return t?this._tailPos[t]=null:this._tailPos={},this},_pushTailPos:function(t,e){return this._pushPosTo(this._tailPos,t,e),this}}),function(){BEM.DOM.decl("i-menu",{onElemSetMod:{item:{state:{current:function(t,e,n,i){if("disabled"==i)return!1;var r=this.elem("item","state","current");this.delMod(r,"state").trigger("current",{prev:r,current:t})}}}},onItemSelectorClick:function(t){var e=this._getItemByEvent(t);this.setMod(e,"state","current")},_getItemByEvent:function(t){return t.data.domElem.closest(this.buildSelector("item"))}},{live:function(){this.liveBindTo("item-selector","leftclick",function(t){this.onItemSelectorClick(t)})}})}(),BEM.DOM.decl({block:"b-menu-vert",baseBlock:"i-menu"}),BEM.DOM.decl({block:"dropdown-menu",baseBlock:"dropdown"}),function(){BEM.DOM.decl({name:"b-menu-horiz",baseBlock:"i-menu"})}(),BEM.DOM.decl("user",{redraw:function(){return this}},{getLogoutUrl:function(){var t=BEM.blocks["i-global"],e=t.param("retpath"),n=t.param("yandexuid");return[t.param("passport-host"),"/passport?mode=logout",n?"&yu="+n:"",e?"&retpath="+encodeURIComponent(e):""].join("")}}),BEM.decl("i-common__string",{},{cleverSubstring:function(){var t="â€¦";return function(e,n,i){return e.length>n+i?e.substring(0,n-1)+t:e}}(),escapeHTML:function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return function(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return t[e]||e})}}(),escapeRegExp:function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},highlight:function(t,e){if(!$.isArray(e))return t;var n,i=[],r=0,o=e.sort(function(t,e){return t[0]-e[0]}),s=[],a="?",u=~t.indexOf(a),c=function(){for(var e,n=/\&#\d+;/gi;e=n.exec(t);)s.push(e[0]),t=t.replace(e[0],a)},l=function(t){if(u)return t;for(;~t.indexOf(a)&&s.length;)t=t.replace(a,s[0]),s.shift();return t};return!u&&c(),o.forEach(function(e){n=r>e[0]?r:e[0],i.push({tag:"span",elem:"span",content:l(t.slice(r,n))}),i.push({tag:"em",elem:"em",content:l(t.slice(n,r=e[1]))})},this),i.push({tag:"span",elem:"span",content:l(t.slice(r))}),i}}),BEM.DOM.decl("user",{onSetMod:{js:{inited:function(){if(this.__base.apply(this,arguments),this.elem("name").length){var t=this,e=t.elemParams("name");e.isUglyUserName&&BEM.blocks["i-user-services"].get(function(n){var i=BEM.blocks["i-common__string"].cleverSubstring,r=n.displayName?n.displayName.name:n.login;t.elem("name").text(i(r,e.maxLength,e.maxLengthRelative)),t.trigger("update-name")})}}}},toggleCollapsed:function(t){return this.toggleMod("hide-name","yes","",t)}}),BEM.decl("i-user-services",{},{get:function(t){this._data?t(this._data):this._get(t)},getApiUrl:function(){return BEM.blocks["i-global"].param("pass-host")+"/services?callback=?"},_callbacks:[],_get:function(t){var e=this;e._callbacks.push(t),1==e._callbacks.length&&$.getJSON(e.getApiUrl(),{locale:BEM.blocks["i-global"].param("lang"),login:"yes","current-login":BEM.blocks["i-global"].param("login"),yu:$.cookie("yandexuid")},function(t){e._data=t,$.each(e._callbacks,function(){this(t)}),e._callbacks.length=0})}}),BEM.DOM.decl("user",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),(this._isRetina=window.devicePixelRatio>1)&&this.updateIcon()}}},_getIconPath:function(){var t=this.params.avatarHost,e=this.params.uid||BEM.blocks["i-global"].param("uid"),n=this._getIconSize(),i=(this._isRetina?"/islands-retina-":"/islands-")+n;return[t,"/get-yapic/",e,i,"?rnd=",+new Date].join("")},_setIconBackground:function(t){var e=this.elem("icon");e&&e.css("background-image","url("+t+")")},updateIcon:function(){var t=this._getIconPath();this._setIconBackground(t)},getDefaultParams:function(){return{avatarHost:"//avatars.yandex.net"}}}),BEM.DOM.decl("user",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}}},_getIconSize:function(){return"middle"}}),x.amd.define("statlog",function(){var t=null,e="http://clck.yandex.ru/counter/",n="dtype=%s/session_id=%s/events=%s/*",i={type:"show",root:"testRoot",statDataAttr:"statlog",dataNoRedirKey:"statlog-noredir",doc:null,sendAtWill:!0,dataReadyKey:"statlog-ready",clickEvent:"mousedown",skipVisibleCheck:!1,statEnabled:!1,clickCounter:function(t,e){e=e||null,window.cp(r()+"."+t,e)}},r=function(){return"undefined"!=typeof Lego&&Lego.params&&Lego.params.statRoot?Lego.params.statRoot:i.root},o=function(e){var n=[];return t&&(n=JSON.stringify([{event:e.type,"parent-path":r(),blocks:t.children}])),n},s=function(){return"undefined"!=typeof Lego&&Lego.params?Lego.params.statEnabled:i.statEnabled},a=function(){$(i.doc||document).on(i.clickEvent,"*[data-"+i.statDataAttr+"]",function(t){if(s()){var e=$(this).data(i.statDataAttr),n=$(this).data(i.dataNoRedirKey);e&&(i.clickCounter(e,n?null:this),n&&(t.preventDefault(),t.stopPropagation()))}})};return a(),{params:i,getSingleRequest:function(t){return x.stringf(e+n,t.project,t.showId,JSON.stringify([{event:t.event,"parent-path":t.path.substr(0,t.path.lastIndexOf(".")),blocks:[{ctag:t.path.substr(t.path.lastIndexOf(".")+1)}]}]))},singleLog:function(t){var e=this.getSingleRequest({project:"clck",showId:this.getShowID(),event:"show",path:r()+"."+t}),n=new Image;n.src=e},bulkLog:function(e){var n=t?t:t={},r=this;return x.forEach(e.split("."),function(t){var e=function(e){return e.ctag===t};n.children||(n.children=[]);var i=x.filter(n.children,e);i.length||n.children.push({ctag:t}),n=x.filter(n.children,e)[0]}),i.sendAtWill&&r.send(),this},log:function(t){var e=$.support.cors?this.bulkLog:this.singleLog;return"undefined"!=typeof t&&s()?e.call(this,t):void 0},logByDocument:function(t){var e=x.beget(i,t),n=this,r="data-"+e.statDataAttr,o=r.substr(5),s="*["+r+"]",a=e.doc?$(e.doc).find(s):$(s);$(a).each(function(){if($(this).is(":visible")||e.skipVisibleCheck){if(!r.match(/^data-/))throw new Error("data attribute expected as statAttr");var t=$(this).data(o);$(this).data(e.dataReadyKey)||(n.log(t),$(this).data(e.dataReadyKey,t))}})},dumpDATA:o,getShowID:function(){var t="";return"undefined"!=typeof Lego&&Lego.params&&Lego.params.msid&&(t=Lego.params.msid),t},send:x.debounce(function(){t&&$.ajax({type:"POST",url:e,data:x.stringf("/"+n,"clck",this.getShowID(),o(i)),success:function(){t=null}})},1e3)}}),function(){"use strict";x.amd.require("statlog",function(t){x.Component.extend({id:"statlogger",init:function(){var e=function(){t.logByDocument({type:"click",root:"undefined"!=typeof Lego&&Lego.params&&Lego.params.statRoot?Lego.params.statRoot:"/testMordaRoot"})};Lego.params["show-counters"]&&(e(),$(window).on("resize",function(){e()}))}})})}(home),function(){"use strict";x.amd.require("statlog",function(t){x.Component.extend({id:"statlogger",init:function(){var e=function(){t.logByDocument({type:"click",root:"undefined"!=typeof Lego&&Lego.params&&Lego.params.statRoot?Lego.params.statRoot:"/testMordaRoot"})};Lego.params["show-counters"]&&(e(),$(window).on("resize",function(){e()}))}})})}(home),x.Component.extend({id:"check-https-cd",init:function(){var t=this.data("logger"),e=this.data("checker"),n=this.data("replace");if(e&&t&&n){var i=new Image,r=!1;i.src=e,window.setTimeout(function(){r||(i.src="")},1e3),$(i).on("error",function(){$("body").trigger("httpscheck",[!1]),r=!0}),$(i).on("load",function(){$("body").trigger("httpscheck",[!0]),r=!0}),$("body").on("httpscheck",function(e,r){r?$("form[action='"+n+"']").each(function(){this.action=this.action.replace(/(http)(\:\/\/)/,"$1s$2")}):i.src=t.replace(/%s/,((new Date).getTime()/1e3).toFixed())})}}}),BEM.DOM.decl("input",{onSetMod:{js:function(){this._val=this.elem("control").val()},disabled:function(t,e){this.elem("control").attr("disabled","yes"===e)},focused:function(t,e){if(this.hasMod("disabled","yes"))return!1;var n="yes"===e;n?this._focused||this._focus():this._focused&&this._blur(),this.afterCurrentEvent(function(){this.trigger(n?"focus":"blur")})}},isDisabled:function(){return this.hasMod("disabled","yes")},val:function(t,e){if("undefined"==typeof t)return this._val;t=null===t?"":t.toString();var n=this.elem("control");return n.val()!==t&&n.val(t),this._val=t,this.trigger("change",e),this},name:function(){return this.elem("control").attr("name")},getSelectionEnd:function(){var t=this.elem("control")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var n=document.selection.createRange();if(n&&n.parentElement()===t){var i=t.value.length,r=t.createTextRange();r.moveToBookmark(n.getBookmark());var o=t.createTextRange();o.collapse(!1),e=r.compareEndPoints("EndToEnd",o)>-1?i:-r.moveEnd("character",-i)}}return e},_onFocus:function(){return this._focused=!0,this.setMod("focused","yes")},_onBlur:function(){return this._returnFocus?(this.afterCurrentEvent(function(){this._focus()}),this):this.hasMod(this.elem("clear"),"pressed")?this:(this._focused=!1,this.delMod("focused"))},_focus:function(){return this.hasMod("disabled","yes")?!1:void this.elem("control").focus()},_blur:function(){this._returnFocus=!1,this.elem("control").blur()},destruct:function(){this._blur(),this.__base.apply(this,arguments)}},{live:function(){this.liveBindTo("control","focusin focusout",function(t){this["focusin"===t.type?"_onFocus":"_onBlur"](t)})}}),function(){var t,e=[],n=function(){e.forEach(function(t){t.val(t.elem("control").val())})},i=function(t){try{return t.activeElement}catch(e){}};BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._instanceIndex=e.push(this)-1;var r=this.elem("control"),o=i(this.__self.doc[0]),s=this.params.autoFocus&&(!o||!$(o).is("input, textarea"));(o===r[0]||s)&&(this.setMod("focused","yes")._focused=!0),t||(t=this.channel("sys").on({tick:n,idle:function(){t.un("tick",n)},wakeup:function(){t.on("tick",n)}})),this.params.shortcut&&this.bindToDoc("keydown",function(t){t.ctrlKey&&38===t.which&&!$(t.target).is("input, textarea")&&this.setMod("focused","yes")})}}},val:function(t,e){var n="undefined"!=typeof t,i=this.elem("control");return t=n?null===t?"":t.toString():i.val(),this._val!==t&&(this._val=t,i.val()!==t&&i.val(t),this.trigger("change",e)),n?this:t},_focus:function(){var t=this.elem("control")[0];if(t.createTextRange&&!t.selectionStart){var e=t.createTextRange();e.move("character",t.value.length),e.select()}else t.focus()},destruct:function(){this.__base.apply(this,arguments),this.params.shortcut&&this.unbindFromDoc("keydown"),e.splice(this._instanceIndex,1),e.slice(this._instanceIndex).forEach(function(t){t._instanceIndex--})}},{})}(),BEM.DOM.decl({block:"input",modName:"search2-clear-hide"},{onSetMod:{js:function(){var t=this,e=Lego.params.statRoot;t.bindTo("clear","leftclick",function(){e&&cp("wwwyaru.input.close")})}}}),function(){var t,e=0,n=!1,i=0,r=BEM.channel("sys"),o=50;BEM.decl("i-system",{},{start:function(){$(document).bind("mousemove keydown",function(){i=0,n&&(n=!1,r.trigger("wakeup"))}),this._tick()},_tick:function(){var s=this;r.trigger("tick",{counter:e++}),!n&&(i+=o)>3e3&&(n=!0,r.trigger("idle")),t=setTimeout(function(){s._tick()},o)}}).start()}(),BEM.DOM.decl("input",{onSetMod:{js:function(){this.__base.apply(this,arguments),this.on("change",this._updateClear)._updateClear()}},_onBoxClear:function(){this.hasMod("clear","visibility","visible")||this.setMod("focused","yes")},_onClearClick:function(){return this.trigger("clear"),this.removeInsets&&this.removeInsets(),this.clearInput({source:"clear"})._focus()},clearInput:function(t){return this.val("",t),this},_updateClear:function(){return this.toggleMod(this.elem("clear"),"visibility","visible","",!!this._val)}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("clear","mousedown",function(t){1===t.which&&this.setMod(this.elem("clear"),"pressed","yes")}).liveBindTo("clear","leftclick tap",function(){this.delMod(this.elem("clear"),"pressed"),this._onClearClick()}).liveBindTo("box","leftclick tap",function(){this._onBoxClear()})}}),BEM.DOM.decl("button",{onSetMod:{js:function(){var t=this.isDisabled(),e=this.domElem;(this._href=e.attr("href"))&&t&&e.removeAttr("href")},disabled:function(t,e){var n="yes"===e,i=this.domElem;this._href&&(n?i.removeAttr("href"):i.attr("href",this._href)),this.afterCurrentEvent(function(){i.attr("disabled",n)})},pressed:function(t,e){return this.isDisabled()?!1:void this.trigger("yes"===e?"press":"release")}},isDisabled:function(){return this.hasMod("disabled","yes")},url:function(t){return"undefined"==typeof t?this._href:(this._href=t,this.isDisabled()||this.domElem.attr("href",t),this)},_onClick:function(t){this.isDisabled()?t.preventDefault():this.afterCurrentEvent(function(){this.trigger("click")})}},{live:function(){this.liveBindTo("leftclick tap",function(t){this._onClick(t)})}}),BEM.DOM.decl("button",{onSetMod:{js:function(){this.__base.apply(this,arguments)},focused:{yes:function(){return this.isDisabled()?!1:(this.bindToWin("unload",function(){this.delMod("focused")}).bindTo("keydown",this._onKeyDown),this._isControlFocused()||this._getControl().focus(),void this.afterCurrentEvent(function(){this.trigger("focus")}))},"":function(){this.unbindFromWin("unload").unbindFrom("keydown"),this._isControlFocused()&&this._getControl().blur(),this.afterCurrentEvent(function(){this.trigger("blur")})}},disabled:function(t,e){this.__base.apply(this,arguments),"yes"===e&&this.domElem.keyup()},hovered:function(t,e){return this.isDisabled()?!1:void(""===e&&this.delMod("pressed"))},pressed:function(){return this.isDisabled()||this.setMod("focused","yes"),this.__base.apply(this,arguments)}},_getControl:function(){return this.elem("control").length&&this.elem("control")||this.domElem},_isControlFocused:function(){try{return this.containsDomElem($(this.__self.doc[0].activeElement))}catch(t){return!1}},_onKeyDown:function(t){var e=t.keyCode;13!==e&&32!==e||this._keyDowned||(this._keyDowned=!0,this.setMod("pressed","yes").bindTo("keyup",function(){this.delMod("pressed").unbindFrom("keyup"),delete this._keyDowned,32===e&&this.domElem.attr("href")&&(document.location=this.domElem.attr("href"))}))},destruct:function(){this.delMod("focused"),this.__base.apply(this,arguments)}},{live:function(){this.__base.apply(this,arguments);var t={mouseover:{name:"hovered",val:"yes"},mouseout:{name:"hovered"},mousedown:{name:"pressed",val:"yes"},mouseup:{name:"pressed"},focusin:{name:"focused",val:"yes"},focusout:{name:"focused"}},e=$.browser.msie&&"8.0"===$.browser.version;this.liveBindTo("mouseover mouseout mouseup focusin focusout",function(n){var i=t[n.type];this.setMod(i.name,i.val||""),!e||this._href||"mouseup"!==n.type&&"mouseout"!==n.type||this.domElem.height()}).liveBindTo("mousedown",function(e){var n=t[e.type];1===e.which&&this.setMod(n.name,n.val||"")})}}),function(){var t=function(t){var e=t.charCode||t.keyCode||t.which||0,n=t.ctrlKey||t.altKey||t.metaKey,i=e>=48&&57>=e,r=e>=96&&105>=e,o=[e>=65&&90>=e,e>=1025&&1071>=e,0===e,231===e,186===e,String.fromCharCode(e).toLowerCase()!==String.fromCharCode(e).toUpperCase()].some(Boolean);return!n&&(i||r||o)};BEM.DOM.decl({name:"input",modName:"autofocus",modVal:"capture"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.bindToDoc("keydown",this._autoFocusBind)},autofocus:{yes:function(){this.bindToDoc("keydown",this._autoFocusBind)},"":function(){this.unbindFromDoc("keydown")}},listen:{yes:function(){this.bindToDoc("keydown",this._autoFocusBind)},no:function(){this.unbindFromDoc("keydown")}}},_autoFocusBind:function(e){if(!this.hasMod("focused","yes")&&!$(".popup_visibility_visible:not(.b-topbar__popup), .v_sform_bg:visible, .left-banner-opened").length){var n;try{n=document.activeElement.tagName.toLowerCase()}catch(e){}if(t(e)&&"input"!==n&&"textarea"!==n){var i=this.elem("control")[0],r=this.val();if(r.length>0&&" "!==r.slice(-1)&&(r+=" ",this.val(r)),i.createTextRange){var o=i.createTextRange();o.collapse(!1),o.select()}else i.selectionStart&&i.setSelectionRange(r.length,r.length);this.setMod("focused","yes")}}}})}(),BEM.DOM.decl("suggest2",{onSetMod:{js:{inited:function(){this.params.form||this.findBlockOutside("suggest2-form"),this._lastSubmitTime=0,this._lastBlurTime=0,this._clear()}}},getDefaultParams:function(){return{submitBySelect:!1,updateOnEnterByKeyboard:!0,onFocus:"request",requestOnEmptyInput:!1}},destruct:function(){this.getItems().forEach(function(t){t.destruct()})},init:function(){var t=this;t.params.form.on("submit",function(){t._lastSubmitTime=(new Date).getTime(),t._currentSearchCGIParams?t._currentSearchCGIParams=!1:t._removeSearchCGIParams(),t._clear(),t._popup.hide()}),t._model=t.initModel(),t._view=t.initView(),t._counter=t.initCounter(),t._model.on({response:this.setItems,reject:function(e,n){2===n.code&&(t._popup.hide(),t._clear())}},t),t._input=t.params["suggest2-input"],t._popup=t.params["suggest2-popup"],t.bindEvents()},initModel:function(){return BEM.create("suggest2-model",this.params)},getModel:function(){return this._model},initView:function(){var t=this.getMod("theme")||"normal",e={theme:t};return"large"===t&&(e.group="type"),"label"===this.getMod("group")&&(e.group="label"),BEM.create({block:"suggest2-view",mods:e})},getView:function(){return this._view},initCounter:function(){return this.params.counter?this.params.counter.initValues().bindEvents():void 0},getCounter:function(){return this._counter},setDataConverter:function(t){return this.getModel().getProvider().convert=t,this},setRequestData:function(t){return this.getModel().getProvider().getRequestData=t,this},setRequestUrl:function(t){return this.getModel().getProvider().getRequestUrl=t,this},setOwner:function(t){return this._popup.owner(t),this},bindEvents:function(){var t=this;return t._input.bindEvents({change:t._onChange,focus:t._onFocus,blur:t._onBlur,click:t._onFocus},t),t._popup.on({preshow:function(){this.trigger("preshow")},show:function(){this.trigger("show")},hide:function(t,e){this.trigger("hide",e)}},this),t.params.button&&t.params.button.bindTo("mousedown",function(){t._input.realVal(t._input.val()),t._popup.hide()}),t},setItems:function(t,e){var n=this;return n._isFormSubmitDurinQuery()||!e.data.items.length?(n._popup.hide(),n._clear()):n._input.val()!==e.val?n._clear():(n._text=e.val,n._pos=e.pos,n._meta=e.data.meta||{},n._popup.show(n._view.html(e.data.items,n._meta)).width(n.getPopupWidth()),n._items=n.findBlocksInside("suggest2-item"),n._clearItems().trigger("update",{val:n._text,pos:n._pos,items:n._items}),n)},getItems:function(){return this._items||[]},isBlur:function(){return this._isBlur},getPopupWidth:function(){},_isFormSubmitDurinQuery:function(){return this._lastSubmitTime&&this._model.isTimeInRequestInterval(this._lastSubmitTime)?(this._lastSubmitTime=0,!0):!1},_onChange:function(t,e){this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition(),e)},_onFocus:function(){!this._popup.isShown()&&this._isBlur&&this.params.onFocus&&this._isLastBlurTimeLater(50)&&(this.getItems().length&&this._input.val()===this._text?(this._clearItems(),this._popup.show()):this._isMouseDown||"request"!==this.params.onFocus||this._onChange())},_onBlur:function(){this._lastBlurTime=(new Date).getTime(),this._isBlur?(this._clear(),this._popup.hide()):this._freezeInputFocus?(this._clear(),this._input.focus()):this._isMouseDown&&this._input.focus(),this._isBlur=!0},_getItemIndex:function(t){return this.getItems().indexOf(t)},_clear:function(){return this._isBlur=!0,this._freezeInputFocus=!1,this._clearItems()},_clearItems:function(){return this._isMouseDown=!1,this._enterItemIndex=-1,this._unselectItems()},_isLastBlurTimeLater:function(t){return(new Date).getTime()-this._lastBlurTime>t},_unselectItems:function(t){var e=t?[].slice.call(arguments):this.getItems();return e.forEach(function(t){t.onLeave()}),this},_onSelectItem:function(t,e){var n=this,i=n._getItemIndex(t),r=t.onSelect(e).val();return n._text=n._input.realVal(r),n._isBlur=!0,n._freezeInputFocus=!1,n.trigger("select",{val:n._text,pos:n._pos,item:t,meta:n._meta,itemIndex:i,byKeyboard:e}),n._setSearchCGIParams(t),r!==!1&&(n._items=[],n.params.submitBySelect&&n.params.form.submit()),i},_currentSearchCGIParams:!1,_setSearchCGIParams:function(t){if(this._removeSearchCGIParams(),t.params.searchCGI){var e=[];t.params.searchCGI.forEach(function(t){e.push({block:"suggest2",elem:"search-cgi",tag:"input",attrs:{type:"hidden",name:t[0],value:t[1]}})}),this._currentSearchCGIParams=!0,BEM.DOM.after(this._input.get().domElem,BEMHTML.apply(e))}},_removeSearchCGIParams:function(){BEM.DOM.destruct(this.findElem(this.params.form.domElem,"search-cgi"))},_onDownItem:function(){this._isBlur=!1,this._isMouseDown=!0}}),BEM.DOM.decl("suggest2",{bindEvents:function(){var t=this;return t._input.bindEvents({keydown:t._onKeyDown,keyup:t._onKeyUp,keypress:t._onKeyPress},t),BEM.blocks["suggest2-item"].on(t.domElem,{mouseover:function(e){t._onEnterItem(e.block,!1)},mouseout:function(e){t._onLeaveItem(e.block,!1)},mousedown:function(){t._onDownItem()},leftclick:function(e){t._onSelectItem(e.block,!1)}}),t.__base.apply(t,arguments)},_onKeyDown:function(t){var e=this.__self.keyboard,n=t.which;!this._popup.isShown()||n!==e.up&&n!==e.down||(t.preventDefault(),this._enterByKeyboard(n))},_onKeyUp:function(t){var e=this.__self.keyboard;if((t.which===e.left||t.which===e.right)&&(this.trigger("change-cursor-pos"),this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition())),t.which===e.right&&~this._enterItemIndex&&this._enterItemByKeyboard){var n=this._items[this._enterItemIndex];n&&this.trigger("ahead",{item:n,val:"link"===n.getMod("interact")?n.elem("text").text():n.val()})}},_onKeyPress:function(t){if(t.which===this.__self.keyboard.enter&&~this._enterItemIndex&&this._enterItemByKeyboard){var e=this._items[this._enterItemIndex];e&&(t.preventDefault(),this._onSelectItem(e,!0))}},_enterByKeyboard:function(t){var e=t-39,n=this._items.length,i=this._enterItemIndex+e;return-1===i||i===n?(this._enterItemIndex=i,this._unselectItems(this._items[i]),this.trigger("out",{val:this._text,byKeyboard:!0})):(0>i?i=n-1:i>=n&&(i=0),void this._onEnterItem(this._items[i],!0))},_onEnterItem:function(t,e){this._enterItemIndex=this._getItemIndex(t),this._enterItemByKeyboard=e,this._unselectItems(),t.onEnter(e)},_onLeaveItem:function(t){this._clearItems()._unselectItems(t)}},{keyboard:{enter:13,left:37,up:38,right:39,down:40},live:function(){this.liveBindTo("mousedown",function(){this._onDownItem()})}}),BEM.DOM.decl("suggest2-detect",{onSetMod:{js:{inited:function(){this.bindToDoc("keydown",function(t){this.__self._pressedKeyCode=t.which},this).bindToDoc("keyup",function(){this.__self._pressedKeyCode=null},this)}}}},{_pressedKeyCode:null,isPressedEscape:function(){return 27===this._pressedKeyCode},isSupportInlineSVG:function(){var t=document.createElement("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}}),BEM.decl("suggest2-model",{onSetMod:{js:{inited:function(){this._requests=[]}}},destruct:function(){return this._provider&&this._provider.destruct(),this.__base.apply(this,arguments)},getProvider:function(){return this._provider?this._provider:(this._provider=this.setProvider(this.params),this._provider)
},setProvider:function(t){return this._provider=BEM.create("suggest2-provider",t),this._provider},getCancelRequestConditions:function(){return[{block:"suggest2",show:!1},{block:"suggest2",event:"select"},{block:"suggest2",event:"out"},{block:"suggest2-item",show:!1},{block:"suggest2-popup",event:"hide"},{suggest:!1},{source:"sample"}]},request:function(t,e,n){var i=this._isNeedRequest(t,n);if(!i.need)return this.trigger("reject",{val:t,pos:e,code:i.code,reason:i.reason||{}});var r={val:t,requestTime:(new Date).getTime()};return this.trigger("request",{val:t,pos:e}),this.getProvider().get(t,e,function(t,e,n){r.responseTime=(new Date).getTime(),this._requests.push(r),this._onResponse(t,e,n)}.bind(this)),this},isTimeInRequestInterval:function(t){for(var e=this._requests.length-1;e>=0;e--)if(t>this._requests[e].requestTime&&t<this._requests[e].responseTime)return!0;return!1},_isNeedRequest:function(t,e){if(""===t&&!this.params.requestOnEmptyInput)return{need:!1,code:2};if(!e)return{need:!0};var n,i=this.getCancelRequestConditions();t:for(var r=0;r<i.length;r++){n=i[r];for(var o in n)if(n.hasOwnProperty(o)&&n[o]!==e[o])continue t;return{need:!1,code:1,reason:{condition:n}}}return{need:!0}},_onResponse:function(t,e,n){this.trigger("response",{val:t,pos:e,data:n})}}),BEM.decl("suggest2-provider",{getDefaultParams:function(){return{cache:!1,type:"GET",dataType:"jsonp",timeout:2e3}},get:function(t,e,n){var i=this,r=function(){n.call(i,t,e,i.convert(i._lastData))};return i._lastText===t?r():(i._lastText=t,void $.ajax(i._extendParamsData(i.getRequestData(t,e))).done(function(t){i._lastData=t}).fail(function(){i._lastData=[]}).always(r))},convert:function(t){return{orig:t[0],items:t[1],meta:t[2]}},getRequestData:function(t,e){var n={};return BEM.blocks["suggest2-detect"].isSupportInlineSVG()&&(n.svg=1),$.extend({part:t,pos:e},n)},getRequestUrl:function(){return this.params.url},_extendParamsData:function(t){return this.params.url=this.getRequestUrl(),this.params.data=$.extend(this.params.data||{},t),this.params},_lastText:void 0,_lastData:[]}),BEM.decl("suggest2-view",{html:function(t,e){return BEMHTML.apply(this.build(t,e))},build:function(t,e){return{block:"suggest2",elem:"content",mods:{theme:"normal"},content:this.buildItems(t,e)}},buildItems:function(t){return t.reduce(function(t,e){return t.push(this.buildItem(e)),t}.bind(this),[])},buildItem:function(t){var e=this.__self._getPrefs(t),n=this.__self._getType(t,e),i="html"===n?{}:{type:n};return this._getItemByType(t,e,n,{text:{elem:"text",content:this.__self._highlight(this.__self._getText(t,e),e)},mods:i,js:e.js||{},props:{},content:[]})},_getItemByType:function(t,e,n,i){var r=i.text,o=i.mods,s=i.js,a=i.props,u=i.content;if(e.pers&&(o.personal="yes"),"fact"===n)u.push(r,{elem:"bullet"},{elem:"fact",content:t[2]});else if("weather"===n)u.push(r,{elem:"icon",elemMods:{weather:t[3].replace("-","minus-").replace("+","plus-").replace(/_/g,"-")}},{elem:"fact",content:t[2]});else if("traffic"===n)u.push(r,{elem:"icon",elemMods:{traffic:t[3]}},{elem:"fact",content:t[2]});else if("nav"===n)o.interact="link",a.url=this.__self._resolveUrl(t[4]),u.push({elem:"text",content:t[3]},{elem:"bullet"},{elem:"fact",content:t[2]});else if("icon"===n){var c={};e.icon.forEach(function(t,e,n){Array.isArray(t)?c[t[0]]=t[1]:0===e&&(c[t]=n[e+1])}),u.push(r,$.extend({elem:"icon",elemMods:{type:"favicon"}},c)),e.fact&&u.push({elem:"fact",content:e.fact})}else"html"===n?(s.val=t[1],u.push(e.body)):u.push(r);return e.url&&(o.interact="link",a.url=this.__self._resolveUrl(e.url),e.target&&(a.target=e.target)),e.search_cgi&&(s.searchCGI=e.search_cgi),$.extend({block:"suggest2-item",mods:o,js:s,content:u},a)}},{_getPrefs:function(t){if(!Array.isArray(t))return{};var e=t[t.length-1];return $.isPlainObject(e)?e:{}},_getType:function(t,e){var n=Array.isArray(t)?t[0]||"text":"text";return"icon"!==n||e.icon?n:"text"},_getText:function(t){return Array.isArray(t)?t[1]:t},_highlight:function(t,e){if(!e.hl)return t;var n,i=e.hl.sort(function(t,e){return t[0]-e[0]}).filter(function(t){return t[0]>=0}),r=[],o=0;return i.length?(i.forEach(function(e){n=o>e[0]?o:e[0],r.push(t.slice(o,n)),r.push({elem:"highlight",content:t.slice(n,o=e[1])})},this),r.push(t.slice(o)),r.filter(function(t){return!!t})):t},_resolveUrl:function(t){return(/[\/]{2}/.test(t)?"":"http://")+t}}),BEM.decl("suggest2-view",{},{_getGroupType:function(t,e){return t.pers?"nah":~["nav"].indexOf(e)?e:"text"},_getTextLabel:function(t){return BEM.I18N("suggest2",t)}}),BEM.decl("suggest2-popup",{onSetMod:{js:{inited:function(){this._popup=this.params.popup,this._popup.on("hide",function(){BEM.blocks["suggest2-detect"].isPressedEscape()&&this.trigger("hide",{})},this),this.bindSuggestEvents()}}},show:function(t){return this._popup.domElem?(t&&this._popup.setContent(t),this.isShown()?this:(this.trigger("preshow"),this._popup.show(this.params.owner),this.trigger("show"),this)):this},hide:function(t){return this.isShown()&&(this._popup.hide(),this.trigger("hide",t||{})),this},setContent:function(t){return this._popup.setContent(t),this},isShown:function(){return this._popup?this._popup.isShown():!1},owner:function(t){return t?(this.params.owner=t,this):this.params.owner},getOwnerPos:function(){return this._popup.getOwnerPos()||{}},get:function(){return this._popup},width:function(t){return void 0===t?this._popup.domElem.outerWidth():(this._popup.domElem.outerWidth(t),this)},destruct:function(){return this._popup?this._popup.destruct():void 0},bindSuggestEvents:function(){return this.params.suggest.on({select:function(t,e){this.hide(e)},update:function(t,e){e.items.length||this.hide({response:"empty"})}},this),this}}),BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t._input=t.params.input,t.disableBrowserAutocomplete(),t.realVal(t.val()),t.bindEvents({change:function(e,n){t.trigger("change",n)},clear:$.throttle(function(e,n){t.trigger("clear",n)},300)},t),t.bindSuggestEvents()}}},get:function(){return this._input},focus:function(){return this._input.setMod("focused","yes"),this},blur:function(){return this._input.delMod("focused"),this},getControl:function(){return this._input.elem("control")},val:function(){return this._input.val.apply(this._input,arguments)},valWithoutSuggest:function(t,e){return this._input.val.call(this._input,t,$.extend(e,{suggest:!1}))},realVal:function(t){return void 0===t?this._realVal:("string"==typeof t&&(this._realVal=t),this._realVal)},width:function(){return this._input.domElem.width()},getCaretPosition:function(){var t,e=this.getControl()[0],n=this.val().length;return document.selection?(t=document.selection.createRange(),t.moveStart("character",-n),t.text.length):e.selectionStart||0===e.selectionStart?e.selectionStart:n},moveCaretToEnd:function(){var t=this.getControl()[0],e=t.value.length;if("number"==typeof t.selectionStart)t.scrollLeft=999999,t.setSelectionRange(e,e);else if("undefined"!=typeof t.createTextRange){t.focus();var n=t.createTextRange();n.collapse(!1),n.select()}return this},disableBrowserAutocomplete:function(){var t=this._input.hasMod("focused");t&&this._input.delMod("focused"),this.getControl().attr({autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-autocomplete":"list"}),t&&this._input.setMod("focused","yes")},bindEvents:function(t,e){return Object.keys(t).forEach(function(n){this._eventsFilter(n).on(n,t[n].bind(e||this))},this),this},bindSuggestEvents:function(){var t=this.params.suggest;return t.on({out:function(t,e){this.a11yDeactive(),this._changeValueByEvent(t,e)}},this),BEM.blocks["suggest2-item"].on(t.domElem,{tpah:function(t,e){this._changeValueByEvent(t,e),this.moveCaretToEnd()},select:function(t,e){this._changeValueByEvent(t,e),this.moveCaretToEnd()},enter:function(t,e){this.a11yActive(e.id),e.byKeyboard&&this.params.updateOnEnterByKeyboard&&this._changeValueByEvent(t,e)}},this),this},a11yActive:function(t){this.getControl().attr("aria-activedescendant",t)},a11yDeactive:function(){this.getControl().removeAttr("aria-activedescendant")},_eventsFilter:function(t){return~["blur","focus","change","clear"].indexOf(t)?this._input:this.getControl()},_changeValueByEvent:function(t,e){this.val(e&&e.val||this.realVal(),$.extend({block:t.block.__self.getName(),event:t.type},e))}}),BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.bindEvents({keydown:function(t){t.which===this.params.suggest.__self.keyboard.enter&&this.trigger("enter")}},this)}}}}),BEM.DOM.decl("suggest2-item",{val:function(){if(this.params.val)return this.params.val;var t=this.elem("text");return(t.length?t:this.domElem).text()},onEnter:function(t){return this.setMod("selected","yes").triggerEvent("enter",{val:this.val(),byKeyboard:t})},onLeave:function(){return this.delMod("selected")},onSelect:function(t){return this.triggerEvent("select",{val:this.val(),byKeyboard:t})},triggerEvent:function(t,e){return this.trigger(t,{val:e.val,id:this.domElem.attr("id"),show:!1,byKeyboard:e.byKeyboard})}}),BEM.DOM.decl("suggest2-item",{},{live:function(){this.liveBindTo("mouseover mouseout mousedown leftclick",function(t){this.trigger(t.type,t)})}}),BEM.DOM.decl({block:"suggest2",modName:"theme",modVal:"normal"},{getPopupWidth:function(){return this._input.width()}}),BEM.DOM.decl({block:"suggest2",modName:"adaptive",modVal:"yes"},{init:function(){this.__base.apply(this,arguments),this._winResizeCallback=function(){this._popup.width(this.getPopupWidth())}.bind(this),this.__self._bindToWinResize(this._winResizeCallback)},destruct:function(){this.__base.apply(this,arguments),BEM.DOM.blocks.suggest2._unbindFromWinResize(this._winResizeCallback)}},{_resizeCallbacks:[],_bindToWinResize:function(t){return this._resizeCallbacks.push(t),this},_unbindFromWinResize:function(t){for(var e=0;e<this._resizeCallbacks.length;e++)if(this._resizeCallbacks[e]===t)return this._resizeCallbacks.splice(e,1),this;return this},_getResizeCallback:function(){return $.throttle(function(){var t=arguments;this._resizeCallbacks.forEach(function(e){e.apply(this,t)},this)},300,this)},live:function(){this.__base.apply(this,arguments),this._resizeCallback=this._getResizeCallback(),BEM.DOM.win.on("resize",this._resizeCallback)}}),BEM.DOM.decl("suggest2-form",{onSetMod:{js:{inited:function(){this._isReady=!1,this.initNodes()}}},getDefaultParams:function(){return{inputName:"input",buttonName:"button",popupName:"popup"}},getOwner:function(){},isReady:function(){return this._isReady},initNodes:function(){var t=this.getNodes();t.forEach(function(t){t.suggest.init()}),this._isReady=!0,this.trigger("ready",{nodes:t})},getNodes:function(){return this.getNodeList().map(function(t){var e=t.suggest,n=e.params;return n.input=t.input,n.button=t.button,n.form=this,n["suggest2-popup"]=BEM.create("suggest2-popup",{suggest:e,popup:e.findBlockOn(this.params.popupName),owner:this.getOwner(t)||n.input}),n["suggest2-input"]=BEM.create("suggest2-input",{suggest:e,input:n.input,updateOnEnterByKeyboard:n.updateOnEnterByKeyboard}),t.counter&&(t.counter.params.suggest=e,t.counter.params.form=this,n.counter=t.counter),this.bindFormEvents(t),t},this)},bindFormEvents:function(t){var e=this;return t.button&&t.button.bindTo("click",function(t){e.trigger("button-click",t)}),e.bindTo("submit",function(t,n){e.onSubmit(t,n)}),e},submit:function(t){return this.domElem.trigger("submit",t||{}),this},onSubmit:function(t,e){t.data=e||{},this.trigger("submit",t)},getNodeList:function(){var t=this,e=[];return t.elem("node").each(function(n,i){var r=$(i),o=t.findBlockInside(r,"suggest2"),s={input:t.findElem(r,"input"),button:t.findElem(r,"button")};e.push({node:r,suggest:o,counter:t.findBlockOn("suggest2-counter"),input:t.findBlockOn(s.input,t.params.inputName),button:t.findBlockOn(s.button,t.params.buttonName),popup:o.findBlockOn(t.params.popupName)})}),e}}),BEM.DOM.decl({block:"suggest2-form",modName:"stats",modVal:"yes"},{onSetMod:{js:function(){this.__base(),this._initCounters()}},_prepareCounterStats:function(t){var e=[];try{e.push(t.since_last_change),e.push(t.since_first_change),e.push(t.user_input.length),e.push(t.ratio.actionsCount),e.push(t.path.index),e.push("button_by_mouse"===t.path.submit?"1":"0"),e.push("edit"===t.path.state?"1":"0")}catch(n){return""}return e.join(",")},_bindCounters:function(){var t,e=this,n=e.findBlockInside("suggest2"),i=n.getCounter();i&&i.on("submit",function(n,i){var r;t&&t.remove(),r=e._prepareCounterStats(i),r&&(t=$("<input>",{type:"hidden",name:"csg",value:r}),e.domElem.append(t))})},_initCounters:function(){this.isReady()?this._bindCounters():this.on("ready",this._bindCounters)}}),BEM.DOM.decl({block:"suggest2-form",modName:"prefetch"},{onSetMod:{js:function(){this.__base(),this._initPrefetch()}},_bindPrefetch:function(){var t=this,e=!1;t._input=t.findBlockInside("input"),t._prefetchStarted={},t._prefetchLoaded={},window.sessionStorage&&(t.domElem.on("submit",function(){var n=t._input.val();t._prefetchStarted[n]&&(e||(e=!0,t.domElem.append('<input type="hidden" name="prefetch" value="1">'),t._prefetchLoaded[n]||t.domElem.append('<input type="hidden" name="unfinished" value="1">'))),window.sessionStorage.setItem("x",(new Date).getTime())}),"etalon"!==t.getMod("prefetch")&&t.findBlockInside("suggest2").getModel().on("response",function(e,n){var i,r,o,s=n&&n.data,a=s&&s.meta&&"yes"===s.meta.instant;if(a&&s.items.length){if(i="ahead"===t.getMod("prefetch")?s.meta&&s.orig&&s.meta["continue"]&&s.orig+s.meta["continue"]:s.items[0]instanceof Array?s.items[0][1]:s.items[0],!i)return;r=t._getParams(),t._prefetchStarted[i]||(t._prefetchStarted[i]=!0,o=new Image,o.src=t.domElem.attr("action")+t._serializeFormParams(r,i),o.onload=o.onerror=function(){t._prefetchLoaded[i]=!0})}}))},_initPrefetch:function(){this.isReady()?this._bindPrefetch():this.on("ready",this._bindPrefetch)},_getParams:function(){var t=this.domElem.find("input"),e={};return t.each(function(){var t=$(this),n=t.prop("name");n&&(e[t.prop("name")]=t.val())}),e.prefetch=1,e},_serializeFormParams:function(t,e){var n=[];t.text=e;for(var i in t)t.hasOwnProperty(i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return"?"+n.join("&")}}),BEM.DOM.decl("suggest2-counter",{onSetMod:{js:{inited:function(){this.clear()}}},getDefaultParams:function(){return{submitBySelect:!1,preventSubmit:!0,host:"//yandex.ru",path:"clck/jclck",dataUrl:"http://ya.ru",params:{},timeout:300}},metaProps:{exprt:"exprt",r:"region",log:"log"},clear:function(){var t=this;return t._params={user_input:"",text:""},t._times=[],t._path={service:t.params.service,state:"not_shown",index:0,personal:"nah_not_shown",submit:""},t._ratio={len:0,queryLen:0,actionsCount:0},t._firstChange=0,t._lastChange=0,t._sinceChange={first:0,last:0},t._selectedText="",t._session=0,t._meta={},t._afterSendAjaxCallback,t},submit:function(t){var e=this,n=e.params.suggest.params["suggest2-input"];e._params.text=n.val(),e._params.pos=n.getCaretPosition(),e._selectedText&&e._selectedText!==e._params.text&&(e._path.state="edit"),e.sendAjax(e.getUrl(),$.extend({submitForm:!0},t)),this.trigger("submit",this._getSubmitEventData()).clear(),this._params.prev_query=n.val()},_getSubmitEventData:function(){var t=this;return{path:t._path,times:t._times,prev_query:t._params.prev_query,user_input:t._params.user_input,text:t._params.text,pos:t._params.pos,ratio:t._ratio,since_first_change:t._sinceChange.first,since_last_change:t._sinceChange.last,session:t._session,meta:t._meta,url:t.getUrl()}},sendAjax:function(t,e){return $.ajax({type:"GET",url:t,dataType:"script",timeout:this.params.timeout,cache:!0}).always(function(){this.params.preventSubmit&&e.submitForm&&this.params.form.submit({block:this.__self.getName(),prevent:!1}),this._afterSendAjaxCallback&&this._afterSendAjaxCallback()}.bind(this)),this},afterSendAjax:function(t){return this._afterSendAjaxCallback=t,this},getUrl:function(){return this.params.host+["/",this.params.path].concat(this._getUrlParams()).join("/").replace(/(\/+)/g,"/")},_getUrlParams:function(){var t=this;return this._getParamsList().concat(t._getData()).reduce(function(e,n){return e.concat(t._getParams(n))},[]).concat(["/"])},_getParamsList:function(){var t=this;return[t.params.params,t._getPath(),t._params,t._getRatio(),t._getSinceChange(),t._getSession()]},initValues:function(){return this._params.prev_query=this.params.suggest.params["suggest2-input"].val(),this},bindEvents:function(){var t,e=this,n=e.params,i=n.suggest;return n.form.on("button-click",function(){"keyboard"!==e._path.submit&&(e._path.submit="button_by_mouse")}),n.form.on("submit",function(t,i){i.data.block!==e.__self.getName()&&i.data.prevent!==!1&&(n.preventSubmit&&(i.stopImmediatePropagation(),i.preventDefault()),e.submit())}),i.getModel().on({request:function(){t=new Date},response:function(n,i){e._path.personal=e._hasPersonal(i.data.items)?"nah_not_used":"nah_not_shown",e._meta=i.data.meta||{},e._addTime(new Date-t),e._setMetaProps(i)}}),i.params["suggest2-input"].on({change:function(t,n){n&&"clear"!==n.source||(e._params.user_input=t.block.val(),e[e._firstChange?"_lastChange":"_firstChange"]=new Date),e._ratio.actionsCount++},enter:function(){e._path.submit="keyboard"}}),i.params["suggest2-popup"].on({show:function(){e._path.state="not_used"},hide:function(t,n){"empty"===n.response&&(e._path.state="not_shown")}}),BEM.blocks["suggest2-item"].on(i.domElem,{enter:function(t,n){n.byKeyboard&&e.params.suggest.params.updateOnEnterByKeyboard&&(e._selectedText=n.val,e._path.state="suggest")}}),i.on({select:function(t,i){e._path.state=i.byKeyboard?"keyboard":"mouse",e._path.index=i.itemIndex+1,e._selectedText=i.val,i.item.hasMod("personal")&&(e._path.personal="nah_used"),n.submitBySelect&&(e._path.submit=i.byKeyboard?"keyboard":"click_by_mouse",e._params.pos=i.pos,e._params.text=e._selectedText)}},e),e},_hasPersonal:function(t){return t.some(function(t){return 1===BEM.blocks["suggest2-view"]._getPrefs(t).pers})},_setMetaProps:function(t){t.data.meta&&Object.keys(this.metaProps).forEach(function(e){this._params[this.metaProps[e]]=t.data.meta[e]||""},this)},_getParams:function(t){return Object.keys(t).reduce(function(e,n){return""===t[n]?e:(e.push(n+"="+encodeURIComponent(t[n]).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%2C/g,",")),e)},[])},_getPath:function(){return{path:[this._path.service,this._path.state,"p"+this._path.index,this._path.personal,this._path.submit].join(".")}},_getSession:function(){return this._session=(new Date).getTime()+Math.round(1e4*Math.random()),{session:this._session}},_getSinceChange:function(){return{since_first_change:this._getSinceTime("first"),since_last_change:this._getSinceTime("last")}},_getSinceTime:function(t){var e="_"+t+"Change";return this._sinceChange[t]=this[e]?(new Date).getTime()-this[e]:0,this._sinceChange[t]},_getRatio:function(){return this._ratio.len=this._params.user_input.length,this._ratio.queryLen=this._params.text.length,{ratio:[this._ratio.len,this._ratio.queryLen,this._ratio.actionsCount].join(".")}},_addTime:function(t){return this._times.push(t),this._params.times=this._times.join("."),this},_getData:function(){return{"*data":"url="+this.params.dataUrl}}}),BEM.DOM.decl({block:"suggest2-item",modName:"interact",modVal:"link"},{val:function(){return!1},onSelect:function(t){return t&&(window.location=this.elem("link").attr("href")),this.__base.apply(this,arguments)}}),x.amd.require("statlog",function(t){x.views.let("personal__count",'<span class="personal__count">&nbsp;&nbsp;[% count %]</span>'),x.views.let("personal_logged",'<a href="https://passport.yandex.ru/passport?mode=passport" class="link user personal__name" data-statlog="login.name"><span class="user__name" data-bem="{&quot;user__name&quot;:{&quot;maxLength&quot;:16,&quot;maxLengthRelative&quot;:3,&quot;isUglyUserName&quot;:false}}">[% username %]</span></a><a href="https://mail.yandex.ru" class="link_black_novisit link user i-bem personal__mail" data-bem="{&quot;user&quot;:{}}" role="button" tabindex="3" aria-haspopup="true" data-statlog="login.mail" aria-expanded="false">ÐŸÐ¾Ñ‡Ñ‚Ð°[% countspan %]</a><a href="https://passport.yandex.ru/passport?mode=logout&amp;yu=[% yu %]&amp;retpath=[% retpath %]" data-statlog="logout" class="link_black_novisit link user__exit personal__exit" data-statlog="login.exit">Ð’Ñ‹Ñ…Ð¾Ð´</a>'),BEM.DOM.decl("personal",{onSetMod:{js:function(){var e=this,n=e.params,i=n.retpath,r=n.authUrl;window.userInfo=function(n){if(n.Mail&&n.AuthInfo&&n.AuthInfo.logged&&n.yu){var r={username:cleverSubstring(home.htmlFilter(n.AuthInfo.display_name),20,3),countspan:n.Mail.count?x.views.get("personal__count",{count:n.Mail.count}):" ",yu:n.yu,retpath:i};e.domElem.html(x.views.get("personal_logged",r))}t.logByDocument(e.domElem)},$.ajax({url:r,dataType:"jsonp",jsonp:"cb",jsonpCallback:"userInfo"})}}})});var BEMHTML=function(){var t,e,n,i,r,o,s={},a=function(s){function a(){return u(this)}function u(s){function a(){if("no-follow"===this.ctx.link)return void 0;var t=this._links[this.ctx.link];return h=this.ctx,this.ctx=t,f=u(this),this.ctx=h,f}function c(t,e,n){if(0===e.length)return void 0;if(Array.isArray(n)){for(var i=t,r=0;r<n.length-1;r++)i=i[n[r]];n=i[n[r]]}for(var o,s=t,r=0;r<e.length-1;r++)s=s[e[r]];return o=s[e[r]],s[e[r]]=n,o}function l(t,e){return(t||"")+"__"+(e||"")}var h,f,d,p,m,_,g,v,b,y,w,x,E,k,M,D,B,C,S,I,O,T,P,j;if("user"===e&&"icon"===n&&"iconSize"===t)return"middle";if("user"===e&&"icon"===n&&!s._uid==!1&&!s.ctx._icon==!1&&"attrs"===t)return{style:"background-image: url("+s.ctx._icon+");"};if("user"===e&&"icon"===n&&!s._uid==!1&&"icon"===t)return[(h=t,t="host",f=u(s),t=h,f),"/get-yapic/",s._uid,"/islands-",(d=t,t="iconSize",p=u(s),t=d,p),"?rnd=",+new Date].join("");if("user"===e&&"icon"===n&&!s._uid==!1&&"host"===t)return"http://avatars.yandex.net";if("user"===e&&"icon"===n&&!s._uid==!1&&"tag"===t)return"span";if("user"===e&&"icon"===n&&!s._uid==!1&&!(s.__$anflg11!==!0)==!1&&"default"===t){var F=(h=t,t="icon",f=u(s),t=h,f),d=s.__$anflg11;s.__$anflg11=!0;var p=s.ctx,m=p._icon;return p._icon=F,u(s),p._icon=m,void(s.__$anflg11=d)}if("user"===e&&"name"===n&&"js"===t)return{maxLength:s._maxLength,maxLengthRelative:s._maxLengthRelative,isUglyUserName:s._isUglyUserName};if("user"===e&&"name"===n&&"content"===t)return h=t,t="pre-content",f=s.ctx,s.ctx=s.cleverSubstring(s._userName,s._maxLength,s._maxLengthRelative),d=u(s),t=h,s.ctx=f,d;if("user"===e&&"name"===n&&"pre-content"===t)return s.ctx;if("user"===e&&"name"===n&&!(s.__$anflg10!==!0)==!1&&"default"===t){var L=s.ctx,N=s["i-global"],A=L.content||L.login||(N.displayName||{}).name,R=!1;A||(/^uid-/.test(N.login)?(A="",R=!0):A=N.login);var h=s.__$anflg10;s.__$anflg10=!0;var f=s._maxLength;s._maxLength=L.hasOwnProperty("maxLength")?L.maxLength:16;var d=s._maxLengthRelative;s._maxLengthRelative=L.hasOwnProperty("maxLengthRelative")?L.maxLengthRelative:3;var p=s._userName;s._userName=A;var m=s._isUglyUserName;return s._isUglyUserName=R,u(s),s._maxLength=f,s._maxLengthRelative=d,s._userName=p,s._isUglyUserName=m,void(s.__$anflg10=h)}if("user"===e&&"name"===n&&"tag"===t)return"span";if(""===t&&!s._==!1&&!!s._.cleverSubstring==!1)return s._.cleverSubstring=function(t,e,n){return t.length>e+n?t.substring(0,e-1)+"â€¦":t},void u(s);if(!!n==!1&&"user"===e&&"content"===t)return s["i-global"].login?[s.ctx.content]:{elem:"enter"};if(!!n==!1&&"user"===e&&"attrs"===t){var $=s["i-global"],q=$.login&&0===$.login.lastIndexOf("uid-",0),U={href:q?$["social-host"]:$["passport-host"]+"/passport?mode=passport"},z=s.ctx.counter||(s.ctx.counters||{}).user;return z&&(U.onmousedown=z),U}if(!!n==!1&&"user"===e&&"js"===t)return!0;if(!!n==!1&&"user"===e&&"tag"===t)return"a";if(!!n==!1&&"user"===e&&!(s.__$anflg9!==!0)==!1&&"default"===t){var K=s.ctx.js||{};K.uid=K.uid||s["i-global"].uid;var h=s.__$anflg9;s.__$anflg9=!0;var f=s._uid;s._uid=K.uid;var d=s.ctx,p=d.js;return d.js=K,u(s),s._uid=f,d.js=p,void(s.__$anflg9=h)}if(!!n==!1&&"image"===e&&"attrs"===t){var V,H=s.ctx,W={src:"//yandex.st/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif",alt:""},G=["alt","width","height"];for(H.url&&(W.src=H.url);V=G.shift();)H[V]&&(W[V]=H[V]);return W}if(!!n==!1&&"image"===e&&"tag"===t)return"img";if(!!n==!1&&"image"===e&&"attrs"===t){var J,Q=s.ctx,Z={src:"//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif",alt:""},X=["alt","width","height"];for(Q.url&&(Z.src=Q.url);J=X.shift();)Q[J]&&(Z[J]=Q[J]);return Z}if(!!n==!1&&"image"===e&&"tag"===t)return"img";if("b-menu-vert"===e&&"separator"===n&&"tag"===t)return"li";if("b-menu-horiz"===e&&!r==!1&&"item-selector"===n&&"tag"===t)return"span";if("b-menu-horiz"===e&&!r==!1&&"layout-unit"===n&&"mix"===t){var Y=[];return s.isFirst()&&Y.push({elemMods:{position:"first"}}),s.isLast()&&Y.push({elemMods:{position:"last"}}),Y}if("b-menu-horiz"===e&&!r==!1&&"item"===n&&!(s.__$anflg8!==!0)==!1&&"default"===t){var h=s.__$anflg8;s.__$anflg8=!0;var f=t;t="";var d=s.position;s.position=s.position-1;var p=s.ctx;return s.ctx={elem:"layout-unit",content:s.ctx},u(s),t=f,s.position=d,s.ctx=p,void(s.__$anflg8=h)}if(!!n==!1&&"b-menu-horiz"===e&&!r==!1&&"js"===t)return!0;if("dropdown-menu"===e&&"switcher"===n&&!(s.__$anflg7!==!0)==!1&&"default"===t){var te=s.ctx.content;te.mix=(te.mix||[]).concat([{block:"dropdown-menu",elem:"switcher"}]);var h=s.__$anflg7;s.__$anflg7=!0;var f=s.ctx;s.ctx=te;var d=t;return t="",u(s),s.ctx=f,t=d,void(s.__$anflg7=h)}if("dropdown-menu"===e&&"popup"===n&&!(s.__$anflg6!==!0)==!1&&"default"===t){var ee=s.ctx,h=s.__$anflg6;s.__$anflg6=!0;var f=s.ctx;s.ctx={block:"dropdown",elem:"popup",js:s.ctx.js,mix:(ee.mix||[]).concat({block:"dropdown-menu",elem:"popup",mods:s._.extend({size:s.dropdownMenuSize},ee.mods)}),attrs:ee.attrs,content:{block:"dropdown-menu",elem:"menu",title:ee.menuTitle,type:ee.type,mods:ee.menuMods,mix:ee.menuMix,content:ee.content}};var d=t;return t="",u(s),s.ctx=f,t=d,void(s.__$anflg6=h)}if(!("b-menu-vert"===e||"b-menu-horiz"===e)==!1&&!s._inDropdownMenu==!1&&"item"===n&&"attrs"===t)return{role:"menuitem"};if(!("b-menu-vert"===e||"b-menu-horiz"===e)==!1&&!s._inDropdownMenu==!1&&!!n==!1&&"attrs"===t)return{role:"menu"};if("dropdown-menu"===e&&"menu"===n&&!(s.__$anflg5!==!0)==!1&&"default"===t){var ne=s.ctx,ie=ne.type||"vert",re=ne.mods||{};re.theme||(re.theme="ffffff");var h=s.__$anflg5;s.__$anflg5=!0;var f=s.ctx;s.ctx=(s._inDropdownMenu=!0,{block:"b-menu-"+ie,mix:(ne.mix||[]).concat({block:"dropdown-menu",elem:"menu",mods:re}),title:ne.title,content:ne.content});var d=t;return t="",u(s),s.ctx=f,t=d,void(s.__$anflg5=h)}if(!!n==!1&&"dropdown-menu"===e&&!(s.__$anflg4!==!0)==!1&&"default"===t){var oe=s.ctx,se=oe.mods||(oe.mods={});se.theme||(se.theme="ffffff"),s.dropdownMenuSize=se.size;var h=s.__$anflg4;s.__$anflg4=!0;var f=s.ctx;s.ctx=oe;var d=t;return t="",u(s),s.ctx=f,t=d,void(s.__$anflg4=h)}if(!!n==!1&&"dropdown-menu"===e&&"js"===t)return!0;if("b-menu-vert"===e&&"submenu"===n&&"tag"===t)return"ul";if("b-menu-vert"===e&&"item-selector"===n&&"tag"===t)return"span";if("b-menu-vert"===e&&"layout-unit"===n&&"mix"===t){var ae=[];return s.isFirst()&&ae.push({elemMods:{position:"first"}}),s.isLast()&&ae.push({elemMods:{position:"last"}}),ae}if("b-menu-vert"===e&&"layout-unit"===n&&"tag"===t)return"li";if("b-menu-vert"===e&&"item"===n&&!(s.__$anflg3!==!0)==!1&&"default"===t){var h=s.__$anflg3;s.__$anflg3=!0;var f=t;t="";var d=s.position;s.position=s.position-1;var p=s.ctx;return s.ctx={elem:"layout-unit",content:[s.ctx,s.ctx["item-content"]]},u(s),t=f,s.position=d,s.ctx=p,void(s.__$anflg3=h)}if("b-menu-vert"===e&&"layout"===n&&"tag"===t)return"ul";if(!!n==!1&&"b-menu-vert"===e&&"content"===t)return[s.ctx.title,{elem:"layout",content:s.ctx.content}];if("b-menu-vert"===e&&"title"===n&&"tag"===t)return"h3";if("popup"===e&&"tail"===n&&"tag"===t)return"i";if(!!n==!1&&"popup"===e&&"content"===t)return[{elem:"under",mods:s.ctx.underMods},s.ctx.content];if(!!n==!1&&"popup"===e&&"default"===t&&!!s._popupDefaults==!1){var ue=s.ctx;if(ue.mods=r=s.extend({theme:"ffffff",autoclosable:"yes",adaptive:"yes",animate:"yes"},r),ue.zIndex){var ce=ue.attrs||(ue.attrs={});ce.style=(ce.style||"")+";z-index:"+ue.zIndex+";"}var h=s._popupDefaults;return s._popupDefaults=!0,u(s),void(s._popupDefaults=h)}if("popup"===e&&!(""===t&&s._popupDefaults)==!1)return delete s._popupDefaults,void u(s);if("dropdown"===e&&"popup"===n&&!(s.__$anflg2!==!0)==!1&&"default"===t){var le=s.ctx,he=[{block:"dropdown",elem:"popup"}];le.mix&&(he=he.concat(le.mix));var h=s.__$anflg2;s.__$anflg2=!0;var f=s.ctx;s.ctx={block:"popup",mix:he,mods:le.mods,attrs:le.attrs,js:le.js,content:[{elem:"tail"},{elem:"content",content:le.content}]};var d=t;return t="",u(s),s.ctx=f,t=d,void(s.__$anflg2=h)}if(!!n==!1&&"dropdown"===e&&"mix"===t)return[{mods:{action:"closed"}}];if(!!n==!1&&"dropdown"===e&&"js"===t)return!0;if("suggest2-item"===e&&!(r&&"link"===r.interact)==!1&&!("nav"===r.type||"icon"===r.type)==!1&&"text"===n&&"mix"===t)return{mods:{type:"url"}};if(!!n==!1&&"suggest2-item"===e&&!(r&&"link"===r.interact)==!1&&"content"===t)return{elem:"link",url:s.ctx.url,target:s.ctx.target||"_blank",content:s.ctx.content};if("suggest2-item"===e&&"bullet"===n&&"attrs"===t)return{"aria-hidden":!0};if("suggest2-item"===e&&"bullet"===n&&"tag"===t)return"span";if("suggest2"===e&&"a11y"===n&&"tag"===t)return"span";if("suggest2-item"===e&&"fact"===n&&"content"===t)return[{block:"suggest2",elem:"a11y",content:BEM.I18N("suggest2-item","quick-answer")+": "},s.xmlEscape(s.ctx.content)];if("suggest2-item"===e&&"link"===n&&"attrs"===t)return{href:s.ctx.url,target:s.ctx.target};if("suggest2-item"===e&&"link"===n&&"tag"===t)return"a";if("suggest2-item"===e&&"icon"===n&&!s.ctx.png==!1&&!s.ctx.svg==!1&&"attrs"===t)return{style:'background-image:url("'+s.ctx[BEM.blocks["i-ua"]&&BEM.blocks["i-ua"].svg?"svg":"png"]+'")'};if("suggest2-item"===e&&"icon"===n&&!s.ctx.svg==!1&&"attrs"===t)return{style:'background-image:url("'+s.ctx.svg+'")'};if("suggest2-item"===e&&"icon"===n&&!s.ctx.png==!1&&"attrs"===t)return{style:'background-image:url("'+s.ctx.png+'")'};if("suggest2-item"===e&&"icon"===n&&"tag"===t)return"span";if("suggest2"===e&&!(r&&"normal"===r.theme)==!1&&"content"===n&&"tag"===t)return"ul";if("suggest2-item"===e&&"highlight"===n&&"content"===t)return s.xmlEscape(s.ctx.content);if("suggest2-item"===e&&"highlight"===n&&"bem"===t)return!1;if("suggest2-item"===e&&"highlight"===n&&"tag"===t)return"b";if("suggest2-item"===e&&"fact"===n&&"tag"===t)return"span";if("suggest2-item"===e&&"text"===n&&"content"===t)return Array.isArray(s.ctx.content)?s.ctx.content.map(function(t){return"string"==typeof t?this.xmlEscape(t):t},s):s.xmlEscape(s.ctx.content);if("suggest2-item"===e&&"text"===n&&"tag"===t)return"span";if(!!n==!1&&"suggest2-item"===e&&"js"===t)return!0;if(!!n==!1&&"suggest2-item"===e&&"tag"===t)return"li";if(!!n==!1&&"suggest2"===e&&"mix"===t)return[{block:"suggest2-detect",js:!0}];if("suggest2"===e&&"items"===n&&"tag"===t)return"ul";if(!!n==!1&&"suggest2"===e&&"js"===t)return!0;if("i-bem"===e&&"i18n"===n&&"default"===t){if(!s.ctx)return"";var fe=s.ctx,de=fe.keyset,pe=fe.key,me=fe.params||{};if(!de&&!pe)return"";if(fe.content){var _e;me.content=(_e=[],h=s._buf,s._buf=_e,f=t,t="",d=s.ctx,s.ctx=fe.content,p=u(s),s._buf=h,t=f,s.ctx=d,_e.join(""))}return void s._buf.push(BEM.I18N(de,pe,me))}if(!!n==!1&&"b-page"===e&&"js-params"===t){var ge,ve=s["i-global"],be={},ye={block:"i-global",js:be};for(ge in ve)ve.hasOwnProperty(ge)&&(h=t,t="public-params",f=e,e="i-global",d=n,n=ge,p=u(s),t=h,e=f,n=d,p)&&(be[ge]=ve[ge]);return ye}if("i-global"===e&&"public-params"===t&&!n==!1)return{id:1,lang:1,tld:1,"content-region":1,"user-region":1,login:1,displayName:1,index:1,yandexuid:1,"passport-host":1,"pass-host":1,"passport-msg":1,"static-host":1,"lego-static-host":1,"social-host":1,clck:1,"click-host":1,"export-host":1,"i-host":1,"social-retpath":1,"lego-path":1,sid:1,retpath:1,uid:1}[n]||!1;if("i-global"===e&&"default"===t&&"lego-static-host"===n)return"//yastatic.net/lego/2.10-142";if("i-global"===e&&"default"===t&&"export-host"===n)return"https://export.yandex.ru";
if("i-global"===e&&"default"===t&&"social-host"===n)return"https://social.yandex.ru";if("i-global"===e&&"default"===t&&"pass-host"===n)return"https://pass.yandex.ru";if("i-global"===e&&"default"===t&&"passport-host"===n)return"https://passport.yandex.ru";if("i-global"===e&&"default"===t&&"click-host"===n)return"//clck.yandex.ru";if("i-global"===e&&"default"===t&&"content-region"===n)return"ru";if("i-global"===e&&"default"===t&&"tld"===n)return"ru";if("i-global"===e&&"default"===t&&"lang"===n)return"ru";if("i-global"===e&&"default"===t&&!n==!1)return"";if(!!n!=!1||"i-global"!==e||"default"!==t){if(!!n==!1&&"i-global"===e&&"env"===t)return{};if(""===t&&!!s["i-global"]==!1){for(var we,xe={},Ee=["lang","tld","content-region","click-host","passport-host","pass-host","social-host","export-host","login","lego-static-host"];we=Ee.shift();)xe[we]=(h=t,t="default",f=e,e="i-global",d=n,n=we,p=u(s),t=h,e=f,n=d,p);return s["i-global"]=s._.extend(xe,(m=t,t="env",_=e,e="i-global",g=u(s),t=m,e=_,g)),void u(s)}if(!!n==!1&&"i-ua"===e&&!(s.__$anflg1!==!0)==!1&&"content"===t){var ke=(h=s.__$anflg1,s.__$anflg1=!0,f=u(s),s.__$anflg1=h,f);return ke+=[";(function(d,e,c,n,w,v,f){","e=d.documentElement;",'c="className";','n="createElementNS";','f="firstChild";','w="http://www.w3.org/2000/svg";','e[c]+=" i-ua_svg_"+(!!d[n]&&!!d[n](w,"svg").createSVGRect?"yes":"no");','v=d.createElement("div");','v.innerHTML="<svg/>";','e[c]+=" i-ua_inlinesvg_"+((v[f]&&v[f].namespaceURI)==w?"yes":"no");',"})(document);"].join("")}if(!!n==!1&&"i-ua"===e&&"content"===t)return[";(function(d,e,c,r){","e=d.documentElement;",'c="className";','r="replace";','e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");','if(d.compatMode!="CSS1Compat")','e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")',"})(document);"].join("");if(!!n==!1&&"i-ua"===e&&"bem"===t)return!1;if(!!n==!1&&"i-ua"===e&&"tag"===t)return"script";if("content"===t)return s.ctx.content;if("mix"===t)return void 0;if("bem"===t)return void 0;if("jsAttr"===t)return void 0;if("js"===t)return void 0;if("cls"===t)return void 0;if("attrs"===t)return void 0;if("tag"===t)return void 0;if(!s.ctx==!1&&!!s._.isSimple(s.ctx)==!1&&!s.ctx.link==!1){if(!o||!s._cacheLog)return a.call(s);var Me=s._buf.slice(s._cachePos).join("");s._cachePos=s._buf.length,s._cacheLog.push(Me,{log:s._localLog.slice(),link:s.ctx.link});var De=a.call(s);return s._cachePos=s._buf.length,De}if(!o==!1&&!s.ctx==!1&&!s.ctx.cache==!1){var Be;if(Be=o.get(s.ctx.cache)){var Ce=s._links;s.ctx.links&&(s._links=s.ctx.links);for(var Se=0;Se<Be.log.length;Se++)if("string"!=typeof Be.log[Se]){var Ie,Oe=Be.log[Se];Ie=Oe.log.map(function(t){return{key:t[0],value:c(this,t[0],t[1])}},s).reverse();var h=s.ctx,f=h.cache;h.cache=null;var d=s._cacheLog;s._cacheLog=null;var p=s.ctx,m=p.link;p.link=Oe.link,u(s),h.cache=f,s._cacheLog=d,p.link=m,Ie.forEach(function(t){c(this,t.key,t.value)},s)}else s._buf.push(Be.log[Se]);return s._links=Ce,Be.res}var Te,Pe=[],_=s.ctx,g=_.cache;_.cache=null;var v=s._cachePos;s._cachePos=s._buf.length;var b=s._cacheLog;s._cacheLog=Pe;var y=s._localLog;s._localLog=[],Te=u(s);var je=s._buf.slice(s._cachePos).join("");return je&&Pe.push(je),_.cache=g,s._cachePos=v,s._cacheLog=b,s._localLog=y,o.set(s.ctx.cache,{log:Pe,res:Te}),Te}if("default"!==t){if(""===t&&!s._.isSimple(s.ctx)==!1){s._listLength--;var Fe=s.ctx;return void((Fe&&Fe!==!0||0===Fe)&&s._buf.push(Fe))}if(""===t&&!!s.ctx==!1)return void s._listLength--;if(""===t&&!s._.isArray(s.ctx)==!1){var Le=s.ctx,Ne=Le.length,Ae=0,Re=s.position,$e=s._notNewList;for($e?s._listLength+=Ne-1:(s.position=0,s._listLength=Ne),s._notNewList=!0;Ne>Ae;){var qe=Le[Ae++],h=s.ctx;s.ctx=null==qe?"":qe,u(s),s.ctx=h}return void($e||(s.position=Re))}if(""===t){var Ue=s.ctx.block,ze=s.ctx.elem,Ke=s._currBlock||e;s.ctx||(s.ctx={});var h=t;t="default";var f=s._links;s._links=s.ctx.links||s._links;var d=e;e=Ue||(ze?Ke:void 0);var p=s._currBlock;s._currBlock=Ue||ze?void 0:Ke;var m=n;n=s.ctx.elem;var _=r;r=(Ue?s.ctx.mods:r)||{};var g=i;return i=s.ctx.elemMods||{},e||n?s.position=(s.position||0)+1:s._listLength--,u(s),t=h,s._links=f,e=d,s._currBlock=p,n=m,r=_,void(i=g)}}else{var Ve,He=s.BEM,We=s.ctx,Ge=s._buf;if(h=t,t="tag",f=u(s),t=h,Ve=f,"undefined"!=typeof Ve||(Ve=We.tag),"undefined"!=typeof Ve||(Ve="div"),Ve){var Je,Qe;e&&We.js!==!1&&(m=t,t="js",_=u(s),t=m,Qe=_,Qe=Qe?s._.extend(We.js,Qe===!0?{}:Qe):We.js===!0?{}:We.js,Qe&&((Je={})[He.INTERNAL.buildClass(e,We.elem)]=Qe)),Ge.push("<",Ve);var Ze=(g=t,t="bem",v=u(s),t=g,v);"undefined"!=typeof Ze||(Ze="undefined"!=typeof We.bem?We.bem:We.block||We.elem);var Xe=(b=t,t="cls",y=u(s),t=b,y);Xe||(Xe=We.cls);var Ye=We.block&&Je;if(Ze||Xe){if(Ge.push(' class="'),Ze){He.INTERNAL.buildClasses(e,We.elem,We.elemMods||We.mods,Ge);var tn=(w=t,t="mix",x=u(s),t=w,x);if(We.mix&&(tn=tn?tn.concat(We.mix):We.mix),tn){var en={};en[l(e,n)]=!0,s._.isArray(tn)||(tn=[tn]);for(var nn=0;nn<tn.length;nn++){var rn=tn[nn];if(rn){var on=rn.block||rn.elem,sn=rn.block||rn._block||e,an=rn.elem||rn._elem||n,un=rn.mods||r,cn=rn.elemMods||{};if(on&&Ge.push(" "),He.INTERNAL[on?"buildClasses":"buildModsClasses"](sn,rn.elem||rn._elem||(rn.block?void 0:n),rn.elemMods||rn.mods,Ge),rn.js&&((Je||(Je={}))[He.INTERNAL.buildClass(sn,rn.elem)]=rn.js===!0?{}:rn.js,Ye||(Ye=sn&&!rn.elem)),on&&!en[l(sn,an)]){en[l(sn,an)]=!0;var ln=(E=e,e=sn,k=n,n=an,M=r,r=un,D=i,i=cn,B=t,t="mix",C=u(s),e=E,n=k,r=M,i=D,t=B,C);if(ln)for(var hn=0;hn<ln.length;hn++){var fn=ln[hn];(fn.block||fn.elem)&&en[l(fn.block,fn.elem)]||(fn._block=sn,fn._elem=an,tn.splice(nn+1,0,fn))}}}}}}Xe&&Ge.push(Ze?" ":"",Xe),Ye&&Ge.push(" i-bem"),Ge.push('"')}if(Je){var dn=(S=t,t="jsAttr",I=u(s),t=S,I);Ge.push(" ",dn||"data-bem",'="',s._.attrEscape(JSON.stringify(Je)),'"')}var pn=(O=t,t="attrs",T=u(s),t=O,T);if(pn=s._.extend(pn,We.attrs)){var mn;for(mn in pn)void 0!==pn[mn]&&Ge.push(" ",mn,'="',s._.attrEscape(pn[mn]),'"')}}if(s._.isShortTag(Ve))Ge.push("/>");else{Ve&&Ge.push(">");var _n=(P=t,t="content",j=u(s),t=P,j);if(_n||0===_n){var Ze=e||n,gn=s._notNewList;s._notNewList=!1;var vn=s.position;s.position=Ze?1:s.position;var bn=s._listLength;s._listLength=Ze?1:s._listLength;var yn=s.ctx;s.ctx=_n;var wn=t;t="",u(s),s._notNewList=gn,s.position=vn,s._listLength=bn,s.ctx=yn,t=wn}Ve&&Ge.push("</",Ve,">")}}}else{var xn,En,kn,Mn=s.ctx.params||{},Dn=s["i-global"],Bn=Mn.tld&&Mn.tld!==Dn.tld;Bn&&(xn=Mn.tld,En="tr"===xn?"yandex.com.tr":"yandex."+xn,kn=-1!=["ua","by","kz"].indexOf(xn)?"yandex.ru":En,Dn["content-region"]=xn,Dn["click-host"]="//clck."+kn,Dn["passport-host"]="https://passport."+kn,Dn["pass-host"]="https://pass."+En,Dn["social-host"]="https://social."+En,Dn["export-host"]="https://export."+En);for(var Cn in Mn)Dn[Cn]=Mn[Cn]}}return!function(){!function(t,e){if(e.I18N)return void 0;t.BEM=e;var n=e.I18N=function(t,e){return e};n.keyset=function(){return n},n.key=function(t){return t},n.lang=function(){return void 0}}(this,"undefined"==typeof BEM?{}:BEM)}(),!function(){function t(t,e){this.ctx=null===typeof t?"":t,this.apply=e,this._buf=[],this._=this,this._start=!0,this._listLength=0,this._notNewList=!1,this.position=0}var e={},n=Object.prototype.toString,i={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1};!function(t,e){function n(t,e,n){n.push(o,t,o,e)}function i(t,e,i,r){r.push(t),i&&n(e,i,r)}function r(t,r,o,a,u){i(t,e,e,u),u.push(s,r),a&&n(o,a,u)}var o="_",s="__",a="[a-zA-Z0-9-]+";t.INTERNAL={NAME_PATTERN:a,MOD_DELIM:o,ELEM_DELIM:s,buildModPostfix:function(t,e,i){var r=i||[];return n(t,e,r),i?r:r.join("")},buildClass:function(t,n,o,s,a){var u=typeof o;if("string"==u?"string"!=typeof s&&(a=s,s=o,o=n,n=e):"undefined"!=u?(a=o,o=e):n&&"string"!=typeof n&&(a=n,n=e),!(n||o||a))return t;var c=a||[];return n?r(t,n,o,s,c):i(t,o,s,c),a?c:c.join("")},buildModsClasses:function(t,e,n,o){var s=o||[];if(n){var a;for(a in n)if(n.hasOwnProperty(a)){var u=n[a];null!=u&&(u=n[a]+"",u&&(s.push(" "),e?r(t,e,a,u,s):i(t,a,u,s)))}}return o?s:s.join("")},buildClasses:function(t,n,o,s){var a=s||[];return n?r(t,n,e,e,a):i(t,e,e,a),this.buildModsClasses(t,n,o,s),s?a:a.join("")}}}(e);var r=function(){var t={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},e=function(e){return t[e]||e};return function(t){return t=new RegExp(t,"g"),function(n){return(""+n).replace(t,e)}}}();t.prototype.isArray=function(t){return"[object Array]"===n.call(t)},t.prototype.isSimple=function(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e},t.prototype.isShortTag=function(t){return i.hasOwnProperty(t)},t.prototype.extend=function(t,e){if(!t||!e)return t||e;var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i},t.prototype.identify=function(){var t=0,n=e.__id=+new Date,i="__"+n,r=function(){return"uniq"+n+ ++t};return function(t,e){return t?e||t[i]?t[i]:t[i]=r():r()}}(),t.prototype.xmlEscape=r("[&<>]"),t.prototype.attrEscape=r('["&<>]'),t.prototype.BEM=e,t.prototype.isFirst=function(){return 1===this.position},t.prototype.isLast=function(){return this.position===this._listLength},t.prototype.generateId=function(){return this.identify(this.ctx)},s.apply=t.apply=function(){var e=new t(this,a);return e.apply(),e._buf.join("")}}(),s}("undefined"==typeof s?{}:s);return function(s){var u=this;return s||(s={}),o=s.cache,function(){return u===this?(u=void 0,t="",e="",n="",i="",r=""):(t="",e="",n="",i="",r=""),a.apply.call([u])}.call(null)}}();"undefined"==typeof exports||(exports.BEMHTML=BEMHTML);